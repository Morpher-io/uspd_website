{"abi":[{"type":"constructor","inputs":[{"name":"_stETHAddress","type":"address","internalType":"address"},{"name":"_admin","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"DEFAULT_ADMIN_ROLE","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"FACTOR_PRECISION","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAINNET_CHAIN_ID","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"YIELD_FACTOR_UPDATER_ROLE","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"getRoleAdmin","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"getYieldFactor","inputs":[],"outputs":[{"name":"yieldFactor","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"grantRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"hasRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"initialEthEquivalentPerShare","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"renounceRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"callerConfirmation","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"revokeRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"stETH","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"supportsInterface","inputs":[{"name":"interfaceId","type":"bytes4","internalType":"bytes4"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"updateL2YieldFactor","inputs":[{"name":"newYieldFactor","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"RoleAdminChanged","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"previousAdminRole","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"newAdminRole","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"RoleGranted","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"sender","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"RoleRevoked","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"sender","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"YieldFactorUpdated","inputs":[{"name":"oldYieldFactor","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newYieldFactor","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AccessControlBadConfirmation","inputs":[]},{"type":"error","name":"AccessControlUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"neededRole","type":"bytes32","internalType":"bytes32"}]},{"type":"error","name":"InitialRateZero","inputs":[]},{"type":"error","name":"NotL1Chain","inputs":[]},{"type":"error","name":"NotL2Chain","inputs":[]},{"type":"error","name":"StEthAddressZero","inputs":[]},{"type":"error","name":"YieldFactorDecreaseNotAllowed","inputs":[]}],"bytecode":{"object":"0x60c060405234801561000f575f5ffd5b506040516109d53803806109d583398101604081905261002e91610216565b6100385f82610152565b506001460361010a576001600160a01b03821661006b5760405160016203b73b60e21b0319815260040160405180910390fd5b6001600160a01b0382166080819052604051630f451f7160e31b8152670de0b6b3a764000060048201525f9190637a28fb8890602401602060405180830381865afa1580156100bc573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906100e09190610247565b9050805f036101025760405163afe6d04360e01b815260040160405180910390fd5b60a05261014b565b5f608081905260a052670de0b6b3a76400006001556101497f6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f243982610152565b505b505061025e565b5f828152602081815260408083206001600160a01b038516845290915281205460ff166101f2575f838152602081815260408083206001600160a01b03861684529091529020805460ff191660011790556101aa3390565b6001600160a01b0316826001600160a01b0316847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45060016101f5565b505f5b92915050565b80516001600160a01b0381168114610211575f5ffd5b919050565b5f5f60408385031215610227575f5ffd5b610230836101fb565b915061023e602084016101fb565b90509250929050565b5f60208284031215610257575f5ffd5b5051919050565b60805160a05161074861028d5f395f818161022b01526103f801525f81816101b2015261045701526107485ff3fe608060405234801561000f575f5ffd5b50600436106100e5575f3560e01c8063a217fddf11610088578063d547741f11610063578063d547741f146101ec578063d5648d8c146101ff578063e8c39cb314610226578063efa7fa5d1461024d575f5ffd5b8063a217fddf14610197578063a42c69a91461019e578063c1fe3e48146101ad575f5ffd5b80632f2ff15d116100c35780632f2ff15d1461015657806336568abe1461016957806368c200571461017c57806391d1485414610184575f5ffd5b806301ffc9a7146100e9578063248a9ca3146101115780632bac811814610141575b5f5ffd5b6100fc6100f736600461063b565b610255565b60405190151581526020015b60405180910390f35b61013361011f366004610669565b5f9081526020819052604090206001015490565b604051908152602001610108565b61015461014f366004610669565b61028b565b005b610154610164366004610680565b61033f565b610154610177366004610680565b610369565b610133600181565b6100fc610192366004610680565b6103a1565b6101335f81565b610133670de0b6b3a764000081565b6101d47f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610108565b6101546101fa366004610680565b6103c9565b6101337f6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f243981565b6101337f000000000000000000000000000000000000000000000000000000000000000081565b6101336103ed565b5f6001600160e01b03198216637965db0b60e01b148061028557506301ffc9a760e01b6001600160e01b03198316145b92915050565b7f6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f24396102b5816104f5565b600146036102d6576040516348e9beb760e01b815260040160405180910390fd5b6001548210156102f95760405163e2f5ba2560e01b815260040160405180910390fd5b600180549083905560408051828152602081018590527f3b6bdcf53af9f5bc4a2eba59bc1a138f5711c133e6dbf67af92230cbae6c5d52910160405180910390a1505050565b5f82815260208190526040902060010154610359816104f5565b6103638383610502565b50505050565b6001600160a01b03811633146103925760405163334bd91960e11b815260040160405180910390fd5b61039c8282610591565b505050565b5f918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b5f828152602081905260409020600101546103e3816104f5565b6103638383610591565b5f600146036104ee577f00000000000000000000000000000000000000000000000000000000000000005f8190036104385760405163afe6d04360e01b815260040160405180910390fd5b604051630f451f7160e31b8152670de0b6b3a764000060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690637a28fb8890602401602060405180830381865afa1580156104a4573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104c891906106b9565b9050816104dd670de0b6b3a7640000836106d0565b6104e791906106f3565b9250505090565b5060015490565b6104ff81336105fa565b50565b5f61050d83836103a1565b61058a575f838152602081815260408083206001600160a01b03861684529091529020805460ff191660011790556105423390565b6001600160a01b0316826001600160a01b0316847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a4506001610285565b505f610285565b5f61059c83836103a1565b1561058a575f838152602081815260408083206001600160a01b0386168085529252808320805460ff1916905551339286917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a4506001610285565b61060482826103a1565b6106375760405163e2517d3f60e01b81526001600160a01b03821660048201526024810183905260440160405180910390fd5b5050565b5f6020828403121561064b575f5ffd5b81356001600160e01b031981168114610662575f5ffd5b9392505050565b5f60208284031215610679575f5ffd5b5035919050565b5f5f60408385031215610691575f5ffd5b8235915060208301356001600160a01b03811681146106ae575f5ffd5b809150509250929050565b5f602082840312156106c9575f5ffd5b5051919050565b808202811582820484141761028557634e487b7160e01b5f52601160045260245ffd5b5f8261070d57634e487b7160e01b5f52601260045260245ffd5b50049056fea2646970667358221220631f19d32e6ddfd4cb8315fc404b861d60a73597482c1fd83565439bc0473a8364736f6c634300081d0033","sourceMap":"1485:4489:74:-:0;;;3161:912;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3222:38;2232:4:27;3253:6:74;3222:10;:38::i;:::-;;1643:1;3275:13;:33;3271:796;;-1:-1:-1;;;;;3328:27:74;;3324:58;;3364:18;;-1:-1:-1;;;;;;3364:18:74;;;;;;;;;;;3324:58;-1:-1:-1;;;;;3397:21:74;;;;;;3455:60;;-1:-1:-1;;;3455:60:74;;2521:4;3455:60;;;640:25:102;3433:19:74;;3397:21;3455:42;;613:18:102;;3455:60:74;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3433:82;;3533:11;3548:1;3533:16;3529:46;;3558:17;;-1:-1:-1;;;3558:17:74;;;;;;;;;;;3529:46;3602:42;;3271:796;;;3799:1;3783:18;;;;3833:32;;2521:4;3897:12;:31;3975:45;2332:38;4013:6;3975:10;:45::i;:::-;;3271:796;3161:912;;1485:4489;;6179:316:27;6256:4;2954:12;;;;;;;;;;;-1:-1:-1;;;;;2954:29:27;;;;;;;;;;;;6272:217;;6315:6;:12;;;;;;;;;;;-1:-1:-1;;;;;6315:29:27;;;;;;;;;:36;;-1:-1:-1;;6315:36:27;6347:4;6315:36;;;6397:12;735:10:50;;656:96;6397:12:27;-1:-1:-1;;;;;6370:40:27;6388:7;-1:-1:-1;;;;;6370:40:27;6382:4;6370:40;;;;;;;;;;-1:-1:-1;6431:4:27;6424:11;;6272:217;-1:-1:-1;6473:5:27;6272:217;6179:316;;;;:::o;14:177:102:-;93:13;;-1:-1:-1;;;;;135:31:102;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:293::-;275:6;283;336:2;324:9;315:7;311:23;307:32;304:52;;;352:1;349;342:12;304:52;375:40;405:9;375:40;:::i;:::-;365:50;;434:49;479:2;468:9;464:18;434:49;:::i;:::-;424:59;;196:293;;;;;:::o;676:184::-;746:6;799:2;787:9;778:7;774:23;770:32;767:52;;;815:1;812;805:12;767:52;-1:-1:-1;838:16:102;;676:184;-1:-1:-1;676:184:102:o;:::-;1485:4489:74;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b50600436106100e5575f3560e01c8063a217fddf11610088578063d547741f11610063578063d547741f146101ec578063d5648d8c146101ff578063e8c39cb314610226578063efa7fa5d1461024d575f5ffd5b8063a217fddf14610197578063a42c69a91461019e578063c1fe3e48146101ad575f5ffd5b80632f2ff15d116100c35780632f2ff15d1461015657806336568abe1461016957806368c200571461017c57806391d1485414610184575f5ffd5b806301ffc9a7146100e9578063248a9ca3146101115780632bac811814610141575b5f5ffd5b6100fc6100f736600461063b565b610255565b60405190151581526020015b60405180910390f35b61013361011f366004610669565b5f9081526020819052604090206001015490565b604051908152602001610108565b61015461014f366004610669565b61028b565b005b610154610164366004610680565b61033f565b610154610177366004610680565b610369565b610133600181565b6100fc610192366004610680565b6103a1565b6101335f81565b610133670de0b6b3a764000081565b6101d47f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610108565b6101546101fa366004610680565b6103c9565b6101337f6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f243981565b6101337f000000000000000000000000000000000000000000000000000000000000000081565b6101336103ed565b5f6001600160e01b03198216637965db0b60e01b148061028557506301ffc9a760e01b6001600160e01b03198316145b92915050565b7f6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f24396102b5816104f5565b600146036102d6576040516348e9beb760e01b815260040160405180910390fd5b6001548210156102f95760405163e2f5ba2560e01b815260040160405180910390fd5b600180549083905560408051828152602081018590527f3b6bdcf53af9f5bc4a2eba59bc1a138f5711c133e6dbf67af92230cbae6c5d52910160405180910390a1505050565b5f82815260208190526040902060010154610359816104f5565b6103638383610502565b50505050565b6001600160a01b03811633146103925760405163334bd91960e11b815260040160405180910390fd5b61039c8282610591565b505050565b5f918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b5f828152602081905260409020600101546103e3816104f5565b6103638383610591565b5f600146036104ee577f00000000000000000000000000000000000000000000000000000000000000005f8190036104385760405163afe6d04360e01b815260040160405180910390fd5b604051630f451f7160e31b8152670de0b6b3a764000060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690637a28fb8890602401602060405180830381865afa1580156104a4573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104c891906106b9565b9050816104dd670de0b6b3a7640000836106d0565b6104e791906106f3565b9250505090565b5060015490565b6104ff81336105fa565b50565b5f61050d83836103a1565b61058a575f838152602081815260408083206001600160a01b03861684529091529020805460ff191660011790556105423390565b6001600160a01b0316826001600160a01b0316847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a4506001610285565b505f610285565b5f61059c83836103a1565b1561058a575f838152602081815260408083206001600160a01b0386168085529252808320805460ff1916905551339286917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a4506001610285565b61060482826103a1565b6106375760405163e2517d3f60e01b81526001600160a01b03821660048201526024810183905260440160405180910390fd5b5050565b5f6020828403121561064b575f5ffd5b81356001600160e01b031981168114610662575f5ffd5b9392505050565b5f60208284031215610679575f5ffd5b5035919050565b5f5f60408385031215610691575f5ffd5b8235915060208301356001600160a01b03811681146106ae575f5ffd5b809150509250929050565b5f602082840312156106c9575f5ffd5b5051919050565b808202811582820484141761028557634e487b7160e01b5f52601160045260245ffd5b5f8261070d57634e487b7160e01b5f52601260045260245ffd5b50049056fea2646970667358221220631f19d32e6ddfd4cb8315fc404b861d60a73597482c1fd83565439bc0473a8364736f6c634300081d0033","sourceMap":"1485:4489:74:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2565:202:27;;;;;;:::i;:::-;;:::i;:::-;;;470:14:102;;463:22;445:41;;433:2;418:18;2565:202:27;;;;;;;;3810:120;;;;;;:::i;:::-;3875:7;3901:12;;;;;;;;;;:22;;;;3810:120;;;;874:25:102;;;862:2;847:18;3810:120:27;728:177:102;5484:488:74;;;;;;:::i;:::-;;:::i;:::-;;4226:136:27;;;;;;:::i;:::-;;:::i;5328:245::-;;;;;;:::i;:::-;;:::i;1600:44:74:-;;1643:1;1600:44;;2854:136:27;;;;;;:::i;:::-;;:::i;2187:49::-;;2232:4;2187:49;;2469:56:74;;2521:4;2469:56;;1741:30;;;;;;;;-1:-1:-1;;;;;1854:32:102;;;1836:51;;1824:2;1809:18;1741:30:74;1690:203:102;4642:138:27;;;;;;:::i;:::-;;:::i;2280:90:74:-;;2332:38;2280:90;;1961:53;;;;;4521:633;;;:::i;2565:202:27:-;2650:4;-1:-1:-1;;;;;;2673:47:27;;-1:-1:-1;;;2673:47:27;;:87;;-1:-1:-1;;;;;;;;;;862:40:62;;;2724:36:27;2666:94;2565:202;-1:-1:-1;;2565:202:27:o;5484:488:74:-;2332:38;2464:16:27;2475:4;2464:10;:16::i;:::-;1643:1:74::1;5596:13;:33:::0;5592:116:::1;;5652:12;;-1:-1:-1::0;;;5652:12:74::1;;;;;;;;;;;5592:116;5738:12;;5721:14;:29;5717:98;;;5773:31;;-1:-1:-1::0;;;5773:31:74::1;;;;;;;;;;;5717:98;5849:12;::::0;;5871:29;;;;5915:50:::1;::::0;;2072:25:102;;;2128:2;2113:18;;2106:34;;;5915:50:74::1;::::0;2045:18:102;5915:50:74::1;;;;;;;5582:390;5484:488:::0;;:::o;4226:136:27:-;3875:7;3901:12;;;;;;;;;;:22;;;2464:16;2475:4;2464:10;:16::i;:::-;4330:25:::1;4341:4;4347:7;4330:10;:25::i;:::-;;4226:136:::0;;;:::o;5328:245::-;-1:-1:-1;;;;;5421:34:27;;735:10:50;5421:34:27;5417:102;;5478:30;;-1:-1:-1;;;5478:30:27;;;;;;;;;;;5417:102;5529:37;5541:4;5547:18;5529:11;:37::i;:::-;;5328:245;;:::o;2854:136::-;2931:4;2954:12;;;;;;;;;;;-1:-1:-1;;;;;2954:29:27;;;;;;;;;;;;;;;2854:136::o;4642:138::-;3875:7;3901:12;;;;;;;;;;:22;;;2464:16;2475:4;2464:10;:16::i;:::-;4747:26:::1;4759:4;4765:7;4747:11;:26::i;4521:633:74:-:0;4579:19;1643:1;4614:13;:33;4610:538;;4685:28;4663:19;4824:16;;;4820:46;;4849:17;;-1:-1:-1;;;4849:17:74;;;;;;;;;;;4820:46;4915:52;;-1:-1:-1;;;4915:52:74;;2521:4;4915:52;;;874:25:102;4893:19:74;;4922:5;-1:-1:-1;;;;;4915:34:74;;;;847:18:102;;4915:52:74;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4893:74;-1:-1:-1;5023:11:74;4989:30;2521:4;4893:74;4989:30;:::i;:::-;4988:46;;;;:::i;:::-;4981:53;;;;4521:633;:::o;4610:538::-;-1:-1:-1;5125:12:74;;;4521:633::o;3199:103:27:-;3265:30;3276:4;735:10:50;3265::27;:30::i;:::-;3199:103;:::o;6179:316::-;6256:4;6277:22;6285:4;6291:7;6277;:22::i;:::-;6272:217;;6315:6;:12;;;;;;;;;;;-1:-1:-1;;;;;6315:29:27;;;;;;;;;:36;;-1:-1:-1;;6315:36:27;6347:4;6315:36;;;6397:12;735:10:50;;656:96;6397:12:27;-1:-1:-1;;;;;6370:40:27;6388:7;-1:-1:-1;;;;;6370:40:27;6382:4;6370:40;;;;;;;;;;-1:-1:-1;6431:4:27;6424:11;;6272:217;-1:-1:-1;6473:5:27;6466:12;;6732:317;6810:4;6830:22;6838:4;6844:7;6830;:22::i;:::-;6826:217;;;6900:5;6868:12;;;;;;;;;;;-1:-1:-1;;;;;6868:29:27;;;;;;;;;;:37;;-1:-1:-1;;6868:37:27;;;6924:40;735:10:50;;6868:12:27;;6924:40;;6900:5;6924:40;-1:-1:-1;6985:4:27;6978:11;;3432:197;3520:22;3528:4;3534:7;3520;:22::i;:::-;3515:108;;3565:47;;-1:-1:-1;;;3565:47:27;;-1:-1:-1;;;;;3024:32:102;;3565:47:27;;;3006:51:102;3073:18;;;3066:34;;;2979:18;;3565:47:27;;;;;;;3515:108;3432:197;;:::o;14:286:102:-;72:6;125:2;113:9;104:7;100:23;96:32;93:52;;;141:1;138;131:12;93:52;167:23;;-1:-1:-1;;;;;;219:32:102;;209:43;;199:71;;266:1;263;256:12;199:71;289:5;14:286;-1:-1:-1;;;14:286:102:o;497:226::-;556:6;609:2;597:9;588:7;584:23;580:32;577:52;;;625:1;622;615:12;577:52;-1:-1:-1;670:23:102;;497:226;-1:-1:-1;497:226:102:o;1095:408::-;1163:6;1171;1224:2;1212:9;1203:7;1199:23;1195:32;1192:52;;;1240:1;1237;1230:12;1192:52;1285:23;;;-1:-1:-1;1384:2:102;1369:18;;1356:32;-1:-1:-1;;;;;1419:33:102;;1407:46;;1397:74;;1467:1;1464;1457:12;1397:74;1490:7;1480:17;;;1095:408;;;;;:::o;2151:184::-;2221:6;2274:2;2262:9;2253:7;2249:23;2245:32;2242:52;;;2290:1;2287;2280:12;2242:52;-1:-1:-1;2313:16:102;;2151:184;-1:-1:-1;2151:184:102:o;2340:265::-;2413:9;;;2444;;2461:15;;;2455:22;;2441:37;2431:168;;2521:10;2516:3;2512:20;2509:1;2502:31;2556:4;2553:1;2546:15;2584:4;2581:1;2574:15;2610:217;2650:1;2676;2666:132;;2720:10;2715:3;2711:20;2708:1;2701:31;2755:4;2752:1;2745:15;2783:4;2780:1;2773:15;2666:132;-1:-1:-1;2812:9:102;;2610:217::o","linkReferences":{},"immutableReferences":{"52368":[{"start":434,"length":32},{"start":1111,"length":32}],"52371":[{"start":555,"length":32},{"start":1016,"length":32}]}},"methodIdentifiers":{"DEFAULT_ADMIN_ROLE()":"a217fddf","FACTOR_PRECISION()":"a42c69a9","MAINNET_CHAIN_ID()":"68c20057","YIELD_FACTOR_UPDATER_ROLE()":"d5648d8c","getRoleAdmin(bytes32)":"248a9ca3","getYieldFactor()":"efa7fa5d","grantRole(bytes32,address)":"2f2ff15d","hasRole(bytes32,address)":"91d14854","initialEthEquivalentPerShare()":"e8c39cb3","renounceRole(bytes32,address)":"36568abe","revokeRole(bytes32,address)":"d547741f","stETH()":"c1fe3e48","supportsInterface(bytes4)":"01ffc9a7","updateL2YieldFactor(uint256)":"2bac8118"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.29+commit.ab55807c\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_stETHAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_admin\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AccessControlBadConfirmation\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"neededRole\",\"type\":\"bytes32\"}],\"name\":\"AccessControlUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InitialRateZero\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotL1Chain\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotL2Chain\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"StEthAddressZero\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"YieldFactorDecreaseNotAllowed\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"previousAdminRole\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"newAdminRole\",\"type\":\"bytes32\"}],\"name\":\"RoleAdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleGranted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleRevoked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldYieldFactor\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newYieldFactor\",\"type\":\"uint256\"}],\"name\":\"YieldFactorUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"DEFAULT_ADMIN_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"FACTOR_PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAINNET_CHAIN_ID\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"YIELD_FACTOR_UPDATER_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"}],\"name\":\"getRoleAdmin\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getYieldFactor\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"yieldFactor\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"grantRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"hasRole\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initialEthEquivalentPerShare\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"callerConfirmation\",\"type\":\"address\"}],\"name\":\"renounceRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"revokeRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stETH\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newYieldFactor\",\"type\":\"uint256\"}],\"name\":\"updateL2YieldFactor\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"On L1: Tracks the yield factor of stETH by comparing the current ETH value of a fixed number of shares      to its value at deployment time. This method is secure against arbitrary token transfers to the contract.On L2: Stores a yield factor that can be updated by an authorized role, typically reflecting L1's factor.\",\"errors\":{\"AccessControlBadConfirmation()\":[{\"details\":\"The caller of a function is not the expected one. NOTE: Don't confuse with {AccessControlUnauthorizedAccount}.\"}],\"AccessControlUnauthorizedAccount(address,bytes32)\":[{\"details\":\"The `account` is missing a role.\"}]},\"events\":{\"RoleAdminChanged(bytes32,bytes32,bytes32)\":{\"details\":\"Emitted when `newAdminRole` is set as ``role``'s admin role, replacing `previousAdminRole` `DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite {RoleAdminChanged} not being emitted signaling this.\"},\"RoleGranted(bytes32,address,address)\":{\"details\":\"Emitted when `account` is granted `role`. `sender` is the account that originated the contract call. This account bears the admin role (for the granted role). Expected in cases where the role was granted using the internal {AccessControl-_grantRole}.\"},\"RoleRevoked(bytes32,address,address)\":{\"details\":\"Emitted when `account` is revoked `role`. `sender` is the account that originated the contract call:   - if using `revokeRole`, it is the admin role bearer   - if using `renounceRole`, it is the role bearer (i.e. `account`)\"}},\"kind\":\"dev\",\"methods\":{\"constructor\":{\"details\":\"Sets up the contract based on the chain ID.\",\"params\":{\"_admin\":\"The address to grant DEFAULT_ADMIN_ROLE and YIELD_FACTOR_UPDATER_ROLE (on L2). Requirements for L1 deployment: - `_stETHAddress` cannot be the zero address. - The initial call to `getPooledEthByShares` must return a non-zero value.\",\"_stETHAddress\":\"The address of the stETH token contract (used on L1).\"}},\"getRoleAdmin(bytes32)\":{\"details\":\"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role's admin, use {_setRoleAdmin}.\"},\"getYieldFactor()\":{\"details\":\"The factor represents the growth since the initial deposit, scaled by FACTOR_PRECISION.      A factor of 1 * FACTOR_PRECISION means no yield yet.      A factor of 1.05 * FACTOR_PRECISION means 5% yield.\",\"returns\":{\"yieldFactor\":\"The current yield factor, scaled by FACTOR_PRECISION.\"}},\"grantRole(bytes32,address)\":{\"details\":\"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleGranted} event.\"},\"hasRole(bytes32,address)\":{\"details\":\"Returns `true` if `account` has been granted `role`.\"},\"renounceRole(bytes32,address)\":{\"details\":\"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function's purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `callerConfirmation`. May emit a {RoleRevoked} event.\"},\"revokeRole(bytes32,address)\":{\"details\":\"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleRevoked} event.\"},\"supportsInterface(bytes4)\":{\"details\":\"See {IERC165-supportsInterface}.\"},\"updateL2YieldFactor(uint256)\":{\"details\":\"Callable only by addresses with YIELD_FACTOR_UPDATER_ROLE.      The new yield factor cannot be less than the current one.      This function will revert if called on L1.\",\"params\":{\"newYieldFactor\":\"The new yield factor to set.\"}}},\"stateVariables\":{\"FACTOR_PRECISION\":{\"details\":\"The precision factor used for yield calculations (e.g., 1e18).\"},\"_yieldFactor\":{\"details\":\"Stores the current yield factor.      On L1, this is implicitly defined by stETH's share value changes.      On L2, this is explicitly set by an updater role.\"},\"initialEthEquivalentPerShare\":{\"details\":\"On L1: The initial ETH equivalent for 1e18 shares of stETH at deployment.      On L2: Not used for calculation; _yieldFactor is updated externally.\"},\"stETH\":{\"details\":\"The stETH token contract being tracked (only relevant on L1).\"}},\"title\":\"PoolSharesConversionRate\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"getYieldFactor()\":{\"notice\":\"Calculates the current yield factor based on stETH rebasing.\"},\"updateL2YieldFactor(uint256)\":{\"notice\":\"Updates the yield factor on L2 chains.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/PoolSharesConversionRate.sol\":\"PoolSharesConversionRate\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":chainlink/=lib/chainlink/\",\":createx/=lib/createx/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/\",\":solady/=lib/createx/lib/solady/src/\",\":uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/\",\":uniswap-v3-core/=lib/uniswap-v3-core/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/AccessControl.sol\":{\"keccak256\":\"0xd0e967bcd2ad6fd4231951e744b121e4cb428ce9d38e1c99350db6bb4a5207f7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3f454d107c23bd052c0bdb26dcdbb64ea203fd01b5dabb08f185f4c096beb0c8\",\"dweb:/ipfs/QmSNAV8u7TLKWTKmoQhWbBiyTKVZVQTqi9NvnmNSvnWn2D\"]},\"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol\":{\"keccak256\":\"0xc1c2a7f1563b77050dc6d507db9f4ada5d042c1f6a9ddbffdc49c77cdc0a1606\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fd54abb96a6156d9a761f6fdad1d3004bc48d2d4fce47f40a3f91a7ae83fc3a1\",\"dweb:/ipfs/QmUrFSGkTDJ7WaZ6qPVVe3Gn5uN2viPb7x7QQ35UX4DofX\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol\":{\"keccak256\":\"0xddce8e17e3d3f9ed818b4f4c4478a8262aab8b11ed322f1bf5ed705bb4bd97fa\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8084aa71a4cc7d2980972412a88fe4f114869faea3fefa5436431644eb5c0287\",\"dweb:/ipfs/Qmbqfs5dRdPvHVKY8kTaeyc65NdqXRQwRK7h9s5UJEhD1p\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"src/PoolSharesConversionRate.sol\":{\"keccak256\":\"0xb98e6deea56e80a750304c38cc3586a5510647d01aee8a69eb4ac0e744cf5eb1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0f1d22e0963530bd9f50c8146140792ea06f8e465d047f91e84aa67747def1b0\",\"dweb:/ipfs/QmW5ReeCWQKRW392N3cyH3XRue93u9BWbHcZj4U8BTqiYg\"]},\"src/interfaces/IPoolSharesConversionRate.sol\":{\"keccak256\":\"0xb0330c6db17d3a9aeae5cabf3d31b8890af16f5b970fc550ffd777f29eaffa02\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bb6a074e7abbf6c0e409cd6ccef64f219eef4b65ef5b07a66cbef02849418e12\",\"dweb:/ipfs/QmdeK1CxRdTFxAaAMtAkwwsp46EyLxqyTtGdZw2xdmZmEk\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.29+commit.ab55807c"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_stETHAddress","type":"address"},{"internalType":"address","name":"_admin","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"AccessControlBadConfirmation"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"neededRole","type":"bytes32"}],"type":"error","name":"AccessControlUnauthorizedAccount"},{"inputs":[],"type":"error","name":"InitialRateZero"},{"inputs":[],"type":"error","name":"NotL1Chain"},{"inputs":[],"type":"error","name":"NotL2Chain"},{"inputs":[],"type":"error","name":"StEthAddressZero"},{"inputs":[],"type":"error","name":"YieldFactorDecreaseNotAllowed"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"previousAdminRole","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"newAdminRole","type":"bytes32","indexed":true}],"type":"event","name":"RoleAdminChanged","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"sender","type":"address","indexed":true}],"type":"event","name":"RoleGranted","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"sender","type":"address","indexed":true}],"type":"event","name":"RoleRevoked","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldYieldFactor","type":"uint256","indexed":false},{"internalType":"uint256","name":"newYieldFactor","type":"uint256","indexed":false}],"type":"event","name":"YieldFactorUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"FACTOR_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MAINNET_CHAIN_ID","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"YIELD_FACTOR_UPDATER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getYieldFactor","outputs":[{"internalType":"uint256","name":"yieldFactor","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"grantRole"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"initialEthEquivalentPerShare","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"callerConfirmation","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"renounceRole"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"revokeRole"},{"inputs":[],"stateMutability":"view","type":"function","name":"stETH","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"stateMutability":"view","type":"function","name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"newYieldFactor","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"updateL2YieldFactor"}],"devdoc":{"kind":"dev","methods":{"constructor":{"details":"Sets up the contract based on the chain ID.","params":{"_admin":"The address to grant DEFAULT_ADMIN_ROLE and YIELD_FACTOR_UPDATER_ROLE (on L2). Requirements for L1 deployment: - `_stETHAddress` cannot be the zero address. - The initial call to `getPooledEthByShares` must return a non-zero value.","_stETHAddress":"The address of the stETH token contract (used on L1)."}},"getRoleAdmin(bytes32)":{"details":"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role's admin, use {_setRoleAdmin}."},"getYieldFactor()":{"details":"The factor represents the growth since the initial deposit, scaled by FACTOR_PRECISION.      A factor of 1 * FACTOR_PRECISION means no yield yet.      A factor of 1.05 * FACTOR_PRECISION means 5% yield.","returns":{"yieldFactor":"The current yield factor, scaled by FACTOR_PRECISION."}},"grantRole(bytes32,address)":{"details":"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleGranted} event."},"hasRole(bytes32,address)":{"details":"Returns `true` if `account` has been granted `role`."},"renounceRole(bytes32,address)":{"details":"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function's purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `callerConfirmation`. May emit a {RoleRevoked} event."},"revokeRole(bytes32,address)":{"details":"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleRevoked} event."},"supportsInterface(bytes4)":{"details":"See {IERC165-supportsInterface}."},"updateL2YieldFactor(uint256)":{"details":"Callable only by addresses with YIELD_FACTOR_UPDATER_ROLE.      The new yield factor cannot be less than the current one.      This function will revert if called on L1.","params":{"newYieldFactor":"The new yield factor to set."}}},"version":1},"userdoc":{"kind":"user","methods":{"getYieldFactor()":{"notice":"Calculates the current yield factor based on stETH rebasing."},"updateL2YieldFactor(uint256)":{"notice":"Updates the yield factor on L2 chains."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","chainlink/=lib/chainlink/","createx/=lib/createx/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/","solady/=lib/createx/lib/solady/src/","uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/","uniswap-v3-core/=lib/uniswap-v3-core/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/PoolSharesConversionRate.sol":"PoolSharesConversionRate"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/access/AccessControl.sol":{"keccak256":"0xd0e967bcd2ad6fd4231951e744b121e4cb428ce9d38e1c99350db6bb4a5207f7","urls":["bzz-raw://3f454d107c23bd052c0bdb26dcdbb64ea203fd01b5dabb08f185f4c096beb0c8","dweb:/ipfs/QmSNAV8u7TLKWTKmoQhWbBiyTKVZVQTqi9NvnmNSvnWn2D"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol":{"keccak256":"0xc1c2a7f1563b77050dc6d507db9f4ada5d042c1f6a9ddbffdc49c77cdc0a1606","urls":["bzz-raw://fd54abb96a6156d9a761f6fdad1d3004bc48d2d4fce47f40a3f91a7ae83fc3a1","dweb:/ipfs/QmUrFSGkTDJ7WaZ6qPVVe3Gn5uN2viPb7x7QQ35UX4DofX"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol":{"keccak256":"0xddce8e17e3d3f9ed818b4f4c4478a8262aab8b11ed322f1bf5ed705bb4bd97fa","urls":["bzz-raw://8084aa71a4cc7d2980972412a88fe4f114869faea3fefa5436431644eb5c0287","dweb:/ipfs/Qmbqfs5dRdPvHVKY8kTaeyc65NdqXRQwRK7h9s5UJEhD1p"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"src/PoolSharesConversionRate.sol":{"keccak256":"0xb98e6deea56e80a750304c38cc3586a5510647d01aee8a69eb4ac0e744cf5eb1","urls":["bzz-raw://0f1d22e0963530bd9f50c8146140792ea06f8e465d047f91e84aa67747def1b0","dweb:/ipfs/QmW5ReeCWQKRW392N3cyH3XRue93u9BWbHcZj4U8BTqiYg"],"license":"MIT"},"src/interfaces/IPoolSharesConversionRate.sol":{"keccak256":"0xb0330c6db17d3a9aeae5cabf3d31b8890af16f5b970fc550ffd777f29eaffa02","urls":["bzz-raw://bb6a074e7abbf6c0e409cd6ccef64f219eef4b65ef5b07a66cbef02849418e12","dweb:/ipfs/QmdeK1CxRdTFxAaAMtAkwwsp46EyLxqyTtGdZw2xdmZmEk"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[{"astId":41742,"contract":"src/PoolSharesConversionRate.sol:PoolSharesConversionRate","label":"_roles","offset":0,"slot":"0","type":"t_mapping(t_bytes32,t_struct(RoleData)41737_storage)"},{"astId":52374,"contract":"src/PoolSharesConversionRate.sol:PoolSharesConversionRate","label":"_yieldFactor","offset":0,"slot":"1","type":"t_uint256"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_bool":{"encoding":"inplace","label":"bool","numberOfBytes":"1"},"t_bytes32":{"encoding":"inplace","label":"bytes32","numberOfBytes":"32"},"t_mapping(t_address,t_bool)":{"encoding":"mapping","key":"t_address","label":"mapping(address => bool)","numberOfBytes":"32","value":"t_bool"},"t_mapping(t_bytes32,t_struct(RoleData)41737_storage)":{"encoding":"mapping","key":"t_bytes32","label":"mapping(bytes32 => struct AccessControl.RoleData)","numberOfBytes":"32","value":"t_struct(RoleData)41737_storage"},"t_struct(RoleData)41737_storage":{"encoding":"inplace","label":"struct AccessControl.RoleData","numberOfBytes":"64","members":[{"astId":41734,"contract":"src/PoolSharesConversionRate.sol:PoolSharesConversionRate","label":"hasRole","offset":0,"slot":"0","type":"t_mapping(t_address,t_bool)"},{"astId":41736,"contract":"src/PoolSharesConversionRate.sol:PoolSharesConversionRate","label":"adminRole","offset":0,"slot":"1","type":"t_bytes32"}]},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"ast":{"absolutePath":"src/PoolSharesConversionRate.sol","id":52555,"exportedSymbols":{"AccessControl":[42011],"Context":[44583],"ERC165":[47107],"IAccessControl":[42094],"IERC20":[43805],"IPoolSharesConversionRate":[58851],"IStETH":[52357],"PoolSharesConversionRate":[52554]},"nodeType":"SourceUnit","src":"32:5943:74","nodes":[{"id":52346,"nodeType":"PragmaDirective","src":"32:24:74","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":52347,"nodeType":"ImportDirective","src":"718:72:74","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":52555,"sourceUnit":43806,"symbolAliases":[],"unitAlias":""},{"id":52348,"nodeType":"ImportDirective","src":"791:74:74","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/AccessControl.sol","file":"../lib/openzeppelin-contracts/contracts/access/AccessControl.sol","nameLocation":"-1:-1:-1","scope":52555,"sourceUnit":42012,"symbolAliases":[],"unitAlias":""},{"id":52349,"nodeType":"ImportDirective","src":"866:52:74","nodes":[],"absolutePath":"src/interfaces/IPoolSharesConversionRate.sol","file":"./interfaces/IPoolSharesConversionRate.sol","nameLocation":"-1:-1:-1","scope":52555,"sourceUnit":58852,"symbolAliases":[],"unitAlias":""},{"id":52357,"nodeType":"ContractDefinition","src":"991:110:74","nodes":[{"id":52356,"nodeType":"FunctionDefinition","src":"1014:85:74","nodes":[],"functionSelector":"7a28fb88","implemented":false,"kind":"function","modifiers":[],"name":"getPooledEthByShares","nameLocation":"1023:20:74","parameters":{"id":52352,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52351,"mutability":"mutable","name":"_sharesAmount","nameLocation":"1052:13:74","nodeType":"VariableDeclaration","scope":52356,"src":"1044:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52350,"name":"uint256","nodeType":"ElementaryTypeName","src":"1044:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1043:23:74"},"returnParameters":{"id":52355,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52354,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52356,"src":"1090:7:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52353,"name":"uint256","nodeType":"ElementaryTypeName","src":"1090:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1089:9:74"},"scope":52357,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IStETH","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[52357],"name":"IStETH","nameLocation":"1001:6:74","scope":52555,"usedErrors":[],"usedEvents":[]},{"id":52554,"nodeType":"ContractDefinition","src":"1485:4489:74","nodes":[{"id":52365,"nodeType":"VariableDeclaration","src":"1600:44:74","nodes":[],"constant":true,"functionSelector":"68c20057","mutability":"constant","name":"MAINNET_CHAIN_ID","nameLocation":"1624:16:74","scope":52554,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52363,"name":"uint256","nodeType":"ElementaryTypeName","src":"1600:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31","id":52364,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1643:1:74","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"visibility":"public"},{"id":52368,"nodeType":"VariableDeclaration","src":"1741:30:74","nodes":[],"baseFunctions":[58850],"constant":false,"documentation":{"id":52366,"nodeType":"StructuredDocumentation","src":"1651:85:74","text":" @dev The stETH token contract being tracked (only relevant on L1)."},"functionSelector":"c1fe3e48","mutability":"immutable","name":"stETH","nameLocation":"1766:5:74","scope":52554,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52367,"name":"address","nodeType":"ElementaryTypeName","src":"1741:7:74","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":52371,"nodeType":"VariableDeclaration","src":"1961:53:74","nodes":[],"baseFunctions":[58844],"constant":false,"documentation":{"id":52369,"nodeType":"StructuredDocumentation","src":"1778:178:74","text":" @dev On L1: The initial ETH equivalent for 1e18 shares of stETH at deployment.\n      On L2: Not used for calculation; _yieldFactor is updated externally."},"functionSelector":"e8c39cb3","mutability":"immutable","name":"initialEthEquivalentPerShare","nameLocation":"1986:28:74","scope":52554,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52370,"name":"uint256","nodeType":"ElementaryTypeName","src":"1961:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":52374,"nodeType":"VariableDeclaration","src":"2223:29:74","nodes":[],"constant":false,"documentation":{"id":52372,"nodeType":"StructuredDocumentation","src":"2022:196:74","text":" @dev Stores the current yield factor.\n      On L1, this is implicitly defined by stETH's share value changes.\n      On L2, this is explicitly set by an updater role."},"mutability":"mutable","name":"_yieldFactor","nameLocation":"2240:12:74","scope":52554,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52373,"name":"uint256","nodeType":"ElementaryTypeName","src":"2223:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"id":52379,"nodeType":"VariableDeclaration","src":"2280:90:74","nodes":[],"constant":true,"functionSelector":"d5648d8c","mutability":"constant","name":"YIELD_FACTOR_UPDATER_ROLE","nameLocation":"2304:25:74","scope":52554,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":52375,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2280:7:74","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"5949454c445f464143544f525f555044415445525f524f4c45","id":52377,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2342:27:74","typeDescriptions":{"typeIdentifier":"t_stringliteral_6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f2439","typeString":"literal_string \"YIELD_FACTOR_UPDATER_ROLE\""},"value":"YIELD_FACTOR_UPDATER_ROLE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f2439","typeString":"literal_string \"YIELD_FACTOR_UPDATER_ROLE\""}],"id":52376,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"2332:9:74","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":52378,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2332:38:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":52384,"nodeType":"VariableDeclaration","src":"2469:56:74","nodes":[],"baseFunctions":[58826],"constant":true,"documentation":{"id":52380,"nodeType":"StructuredDocumentation","src":"2378:86:74","text":" @dev The precision factor used for yield calculations (e.g., 1e18)."},"functionSelector":"a42c69a9","mutability":"constant","name":"FACTOR_PRECISION","nameLocation":"2502:16:74","overrides":{"id":52382,"nodeType":"OverrideSpecifier","overrides":[],"src":"2493:8:74"},"scope":52554,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52381,"name":"uint256","nodeType":"ElementaryTypeName","src":"2469:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653138","id":52383,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2521:4:74","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"visibility":"public"},{"id":52386,"nodeType":"ErrorDefinition","src":"2554:24:74","nodes":[],"errorSelector":"afe6d043","name":"InitialRateZero","nameLocation":"2560:15:74","parameters":{"id":52385,"nodeType":"ParameterList","parameters":[],"src":"2575:2:74"}},{"id":52388,"nodeType":"ErrorDefinition","src":"2583:25:74","nodes":[],"errorSelector":"fff12314","name":"StEthAddressZero","nameLocation":"2589:16:74","parameters":{"id":52387,"nodeType":"ParameterList","parameters":[],"src":"2605:2:74"}},{"id":52390,"nodeType":"ErrorDefinition","src":"2613:38:74","nodes":[],"errorSelector":"e2f5ba25","name":"YieldFactorDecreaseNotAllowed","nameLocation":"2619:29:74","parameters":{"id":52389,"nodeType":"ParameterList","parameters":[],"src":"2648:2:74"}},{"id":52392,"nodeType":"ErrorDefinition","src":"2656:19:74","nodes":[],"errorSelector":"48e9beb7","name":"NotL2Chain","nameLocation":"2662:10:74","parameters":{"id":52391,"nodeType":"ParameterList","parameters":[],"src":"2672:2:74"}},{"id":52394,"nodeType":"ErrorDefinition","src":"2680:19:74","nodes":[],"errorSelector":"eb8949ca","name":"NotL1Chain","nameLocation":"2686:10:74","parameters":{"id":52393,"nodeType":"ParameterList","parameters":[],"src":"2696:2:74"}},{"id":52469,"nodeType":"FunctionDefinition","src":"3161:912:74","nodes":[],"body":{"id":52468,"nodeType":"Block","src":"3212:861:74","nodes":[],"statements":[{"expression":{"arguments":[{"id":52403,"name":"DEFAULT_ADMIN_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":41745,"src":"3233:18:74","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":52404,"name":"_admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52399,"src":"3253:6:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":52402,"name":"_grantRole","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":41972,"src":"3222:10:74","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$_t_address_$returns$_t_bool_$","typeString":"function (bytes32,address) returns (bool)"}},"id":52405,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3222:38:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52406,"nodeType":"ExpressionStatement","src":"3222:38:74"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":52407,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"3275:5:74","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":52408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3281:7:74","memberName":"chainid","nodeType":"MemberAccess","src":"3275:13:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":52409,"name":"MAINNET_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52365,"src":"3292:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3275:33:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":52466,"nodeType":"Block","src":"3740:327:74","statements":[{"expression":{"id":52451,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52446,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52368,"src":"3783:5:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"30","id":52449,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3799:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":52448,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3791:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":52447,"name":"address","nodeType":"ElementaryTypeName","src":"3791:7:74","typeDescriptions":{}}},"id":52450,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3791:10:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3783:18:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":52452,"nodeType":"ExpressionStatement","src":"3783:18:74"},{"expression":{"id":52455,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52453,"name":"initialEthEquivalentPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52371,"src":"3833:28:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":52454,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3864:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3833:32:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52456,"nodeType":"ExpressionStatement","src":"3833:32:74"},{"expression":{"id":52459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52457,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52374,"src":"3897:12:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52458,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52384,"src":"3912:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3897:31:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52460,"nodeType":"ExpressionStatement","src":"3897:31:74"},{"expression":{"arguments":[{"id":52462,"name":"YIELD_FACTOR_UPDATER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52379,"src":"3986:25:74","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":52463,"name":"_admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52399,"src":"4013:6:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":52461,"name":"_grantRole","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":41972,"src":"3975:10:74","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$_t_address_$returns$_t_bool_$","typeString":"function (bytes32,address) returns (bool)"}},"id":52464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3975:45:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52465,"nodeType":"ExpressionStatement","src":"3975:45:74"}]},"id":52467,"nodeType":"IfStatement","src":"3271:796:74","trueBody":{"id":52445,"nodeType":"Block","src":"3310:424:74","statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":52416,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52411,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52397,"src":"3328:13:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":52414,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3353:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":52413,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3345:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":52412,"name":"address","nodeType":"ElementaryTypeName","src":"3345:7:74","typeDescriptions":{}}},"id":52415,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3345:10:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3328:27:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52420,"nodeType":"IfStatement","src":"3324:58:74","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52417,"name":"StEthAddressZero","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52388,"src":"3364:16:74","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52418,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3364:18:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52419,"nodeType":"RevertStatement","src":"3357:25:74"}},{"expression":{"id":52423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52421,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52368,"src":"3397:5:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52422,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52397,"src":"3405:13:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3397:21:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":52424,"nodeType":"ExpressionStatement","src":"3397:21:74"},{"assignments":[52426],"declarations":[{"constant":false,"id":52426,"mutability":"mutable","name":"initialRate","nameLocation":"3441:11:74","nodeType":"VariableDeclaration","scope":52445,"src":"3433:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52425,"name":"uint256","nodeType":"ElementaryTypeName","src":"3433:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52433,"initialValue":{"arguments":[{"id":52431,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52384,"src":"3498:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":52428,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52397,"src":"3462:13:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":52427,"name":"IStETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52357,"src":"3455:6:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStETH_$52357_$","typeString":"type(contract IStETH)"}},"id":52429,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3455:21:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStETH_$52357","typeString":"contract IStETH"}},"id":52430,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3477:20:74","memberName":"getPooledEthByShares","nodeType":"MemberAccess","referencedDeclaration":52356,"src":"3455:42:74","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":52432,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3455:60:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3433:82:74"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52436,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52434,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52426,"src":"3533:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52435,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3548:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3533:16:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52440,"nodeType":"IfStatement","src":"3529:46:74","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52437,"name":"InitialRateZero","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52386,"src":"3558:15:74","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52438,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3558:17:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52439,"nodeType":"RevertStatement","src":"3551:24:74"}},{"expression":{"id":52443,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52441,"name":"initialEthEquivalentPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52371,"src":"3602:28:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52442,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52426,"src":"3633:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3602:42:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52444,"nodeType":"ExpressionStatement","src":"3602:42:74"}]}}]},"documentation":{"id":52395,"nodeType":"StructuredDocumentation","src":"2733:423:74","text":" @dev Sets up the contract based on the chain ID.\n @param _stETHAddress The address of the stETH token contract (used on L1).\n @param _admin The address to grant DEFAULT_ADMIN_ROLE and YIELD_FACTOR_UPDATER_ROLE (on L2).\n Requirements for L1 deployment:\n - `_stETHAddress` cannot be the zero address.\n - The initial call to `getPooledEthByShares` must return a non-zero value."},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":52400,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52397,"mutability":"mutable","name":"_stETHAddress","nameLocation":"3181:13:74","nodeType":"VariableDeclaration","scope":52469,"src":"3173:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52396,"name":"address","nodeType":"ElementaryTypeName","src":"3173:7:74","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52399,"mutability":"mutable","name":"_admin","nameLocation":"3204:6:74","nodeType":"VariableDeclaration","scope":52469,"src":"3196:14:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52398,"name":"address","nodeType":"ElementaryTypeName","src":"3196:7:74","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3172:39:74"},"returnParameters":{"id":52401,"nodeType":"ParameterList","parameters":[],"src":"3212:0:74"},"scope":52554,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":52513,"nodeType":"FunctionDefinition","src":"4521:633:74","nodes":[],"body":{"id":52512,"nodeType":"Block","src":"4600:554:74","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52479,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":52476,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"4614:5:74","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":52477,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4620:7:74","memberName":"chainid","nodeType":"MemberAccess","src":"4614:13:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":52478,"name":"MAINNET_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52365,"src":"4631:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4614:33:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":52510,"nodeType":"Block","src":"5051:97:74","statements":[{"expression":{"id":52508,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52374,"src":"5125:12:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52475,"id":52509,"nodeType":"Return","src":"5118:19:74"}]},"id":52511,"nodeType":"IfStatement","src":"4610:538:74","trueBody":{"id":52507,"nodeType":"Block","src":"4649:396:74","statements":[{"assignments":[52481],"declarations":[{"constant":false,"id":52481,"mutability":"mutable","name":"initialRate","nameLocation":"4671:11:74","nodeType":"VariableDeclaration","scope":52507,"src":"4663:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52480,"name":"uint256","nodeType":"ElementaryTypeName","src":"4663:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52483,"initialValue":{"id":52482,"name":"initialEthEquivalentPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52371,"src":"4685:28:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4663:50:74"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52486,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52484,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52481,"src":"4824:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52485,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4839:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4824:16:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52490,"nodeType":"IfStatement","src":"4820:46:74","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52487,"name":"InitialRateZero","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52386,"src":"4849:15:74","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52488,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4849:17:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52489,"nodeType":"RevertStatement","src":"4842:24:74"}},{"assignments":[52492],"declarations":[{"constant":false,"id":52492,"mutability":"mutable","name":"currentRate","nameLocation":"4901:11:74","nodeType":"VariableDeclaration","scope":52507,"src":"4893:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52491,"name":"uint256","nodeType":"ElementaryTypeName","src":"4893:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52499,"initialValue":{"arguments":[{"id":52497,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52384,"src":"4950:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":52494,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52368,"src":"4922:5:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":52493,"name":"IStETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52357,"src":"4915:6:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStETH_$52357_$","typeString":"type(contract IStETH)"}},"id":52495,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4915:13:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStETH_$52357","typeString":"contract IStETH"}},"id":52496,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4929:20:74","memberName":"getPooledEthByShares","nodeType":"MemberAccess","referencedDeclaration":52356,"src":"4915:34:74","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":52498,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4915:52:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4893:74:74"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52505,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52502,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52500,"name":"currentRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52492,"src":"4989:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":52501,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52384,"src":"5003:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4989:30:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52503,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4988:32:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":52504,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52481,"src":"5023:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4988:46:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52475,"id":52506,"nodeType":"Return","src":"4981:53:74"}]}}]},"baseFunctions":[58820],"documentation":{"id":52470,"nodeType":"StructuredDocumentation","src":"4119:397:74","text":" @notice Calculates the current yield factor based on stETH rebasing.\n @dev The factor represents the growth since the initial deposit, scaled by FACTOR_PRECISION.\n      A factor of 1 * FACTOR_PRECISION means no yield yet.\n      A factor of 1.05 * FACTOR_PRECISION means 5% yield.\n @return yieldFactor The current yield factor, scaled by FACTOR_PRECISION."},"functionSelector":"efa7fa5d","implemented":true,"kind":"function","modifiers":[],"name":"getYieldFactor","nameLocation":"4530:14:74","overrides":{"id":52472,"nodeType":"OverrideSpecifier","overrides":[],"src":"4561:8:74"},"parameters":{"id":52471,"nodeType":"ParameterList","parameters":[],"src":"4544:2:74"},"returnParameters":{"id":52475,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52474,"mutability":"mutable","name":"yieldFactor","nameLocation":"4587:11:74","nodeType":"VariableDeclaration","scope":52513,"src":"4579:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52473,"name":"uint256","nodeType":"ElementaryTypeName","src":"4579:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4578:21:74"},"scope":52554,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":52553,"nodeType":"FunctionDefinition","src":"5484:488:74","nodes":[],"body":{"id":52552,"nodeType":"Block","src":"5582:390:74","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":52522,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"5596:5:74","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":52523,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5602:7:74","memberName":"chainid","nodeType":"MemberAccess","src":"5596:13:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":52524,"name":"MAINNET_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52365,"src":"5613:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5596:33:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52530,"nodeType":"IfStatement","src":"5592:116:74","trueBody":{"id":52529,"nodeType":"Block","src":"5631:77:74","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52526,"name":"NotL2Chain","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52392,"src":"5652:10:74","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52527,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5652:12:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52528,"nodeType":"RevertStatement","src":"5645:19:74"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52533,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52531,"name":"newYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52516,"src":"5721:14:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":52532,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52374,"src":"5738:12:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5721:29:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52538,"nodeType":"IfStatement","src":"5717:98:74","trueBody":{"id":52537,"nodeType":"Block","src":"5752:63:74","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52534,"name":"YieldFactorDecreaseNotAllowed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52390,"src":"5773:29:74","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52535,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5773:31:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52536,"nodeType":"RevertStatement","src":"5766:38:74"}]}},{"assignments":[52540],"declarations":[{"constant":false,"id":52540,"mutability":"mutable","name":"oldYieldFactor","nameLocation":"5832:14:74","nodeType":"VariableDeclaration","scope":52552,"src":"5824:22:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52539,"name":"uint256","nodeType":"ElementaryTypeName","src":"5824:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52542,"initialValue":{"id":52541,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52374,"src":"5849:12:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5824:37:74"},{"expression":{"id":52545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52543,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52374,"src":"5871:12:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52544,"name":"newYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52516,"src":"5886:14:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5871:29:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52546,"nodeType":"ExpressionStatement","src":"5871:29:74"},{"eventCall":{"arguments":[{"id":52548,"name":"oldYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52540,"src":"5934:14:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52549,"name":"newYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52516,"src":"5950:14:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":52547,"name":"YieldFactorUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":58832,"src":"5915:18:74","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256)"}},"id":52550,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5915:50:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52551,"nodeType":"EmitStatement","src":"5910:55:74"}]},"baseFunctions":[58838],"documentation":{"id":52514,"nodeType":"StructuredDocumentation","src":"5160:319:74","text":" @notice Updates the yield factor on L2 chains.\n @dev Callable only by addresses with YIELD_FACTOR_UPDATER_ROLE.\n      The new yield factor cannot be less than the current one.\n      This function will revert if called on L1.\n @param newYieldFactor The new yield factor to set."},"functionSelector":"2bac8118","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":52519,"name":"YIELD_FACTOR_UPDATER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52379,"src":"5555:25:74","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":52520,"kind":"modifierInvocation","modifierName":{"id":52518,"name":"onlyRole","nameLocations":["5546:8:74"],"nodeType":"IdentifierPath","referencedDeclaration":41756,"src":"5546:8:74"},"nodeType":"ModifierInvocation","src":"5546:35:74"}],"name":"updateL2YieldFactor","nameLocation":"5493:19:74","parameters":{"id":52517,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52516,"mutability":"mutable","name":"newYieldFactor","nameLocation":"5521:14:74","nodeType":"VariableDeclaration","scope":52553,"src":"5513:22:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52515,"name":"uint256","nodeType":"ElementaryTypeName","src":"5513:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5512:24:74"},"returnParameters":{"id":52521,"nodeType":"ParameterList","parameters":[],"src":"5582:0:74"},"scope":52554,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":52359,"name":"IPoolSharesConversionRate","nameLocations":["1522:25:74"],"nodeType":"IdentifierPath","referencedDeclaration":58851,"src":"1522:25:74"},"id":52360,"nodeType":"InheritanceSpecifier","src":"1522:25:74"},{"baseName":{"id":52361,"name":"AccessControl","nameLocations":["1549:13:74"],"nodeType":"IdentifierPath","referencedDeclaration":42011,"src":"1549:13:74"},"id":52362,"nodeType":"InheritanceSpecifier","src":"1549:13:74"}],"canonicalName":"PoolSharesConversionRate","contractDependencies":[],"contractKind":"contract","documentation":{"id":52358,"nodeType":"StructuredDocumentation","src":"1103:381:74","text":" @title PoolSharesConversionRate\n @dev On L1: Tracks the yield factor of stETH by comparing the current ETH value of a fixed number of shares\n      to its value at deployment time. This method is secure against arbitrary token transfers to the contract.\n @dev On L2: Stores a yield factor that can be updated by an authorized role, typically reflecting L1's factor."},"fullyImplemented":true,"linearizedBaseContracts":[52554,42011,47107,47119,42094,44583,58851],"name":"PoolSharesConversionRate","nameLocation":"1494:24:74","scope":52555,"usedErrors":[42021,42024,52386,52388,52390,52392,52394],"usedEvents":[42033,42042,42051,58832]}],"license":"MIT"},"id":74}