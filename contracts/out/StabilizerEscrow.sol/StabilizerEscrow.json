{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"MINIMUM_ESCROW_AMOUNT","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"approveAllocation","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"positionNFTAddress","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"deposit","inputs":[],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"initialize","inputs":[{"name":"_stabilizerNFT","type":"address","internalType":"address"},{"name":"_tokenId","type":"uint256","internalType":"uint256"},{"name":"_stETH","type":"address","internalType":"address"},{"name":"_lido","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"lido","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"stETH","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"stabilizerNFTContract","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"stabilizerOwner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"tokenId","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"unallocatedStETH","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"unallocatedStETHBalance","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"updateBalance","inputs":[{"name":"delta","type":"int256","internalType":"int256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"withdrawExcessStEthBalance","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"withdrawForAllocation","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"recipient","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"withdrawUnallocated","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AllocationApproved","inputs":[{"name":"spender","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BalanceUpdated","inputs":[{"name":"delta","type":"int256","indexed":false,"internalType":"int256"},{"name":"newBalance","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"DepositReceived","inputs":[{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ExcessWithdrawn","inputs":[{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Initialized","inputs":[{"name":"version","type":"uint64","indexed":false,"internalType":"uint64"}],"anonymous":false},{"type":"event","name":"WithdrawalCompleted","inputs":[{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"BalanceUpdateFailed","inputs":[]},{"type":"error","name":"DepositFailed","inputs":[]},{"type":"error","name":"ERC20InsufficientAllowance","inputs":[{"name":"spender","type":"address","internalType":"address"},{"name":"allowance","type":"uint256","internalType":"uint256"},{"name":"needed","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ERC20InsufficientBalance","inputs":[{"name":"sender","type":"address","internalType":"address"},{"name":"balance","type":"uint256","internalType":"uint256"},{"name":"needed","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ERC20InvalidApprover","inputs":[{"name":"approver","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidReceiver","inputs":[{"name":"receiver","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidSender","inputs":[{"name":"sender","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidSpender","inputs":[{"name":"spender","type":"address","internalType":"address"}]},{"type":"error","name":"InitialDepositFailed","inputs":[]},{"type":"error","name":"InsufficientEscrowAmount","inputs":[{"name":"currentBalance","type":"uint256","internalType":"uint256"},{"name":"depositAmount","type":"uint256","internalType":"uint256"},{"name":"minimumAmount","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InvalidInitialization","inputs":[]},{"type":"error","name":"NotInitializing","inputs":[]},{"type":"error","name":"NotNFTOwner","inputs":[]},{"type":"error","name":"TransferFailed","inputs":[]},{"type":"error","name":"WithdrawalWouldLeaveDust","inputs":[]},{"type":"error","name":"ZeroAddress","inputs":[]},{"type":"error","name":"ZeroAmount","inputs":[]}],"bytecode":{"object":"0x6080604052348015600e575f5ffd5b5060156019565b60c9565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff161560685760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b039081161460c65780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b61105a806100d65f395ff3fe6080604052600436106100e4575f3560e01c80637d810c2a11610087578063c1fe3e4811610057578063c1fe3e481461023f578063d0e30db01461025e578063ec60b9ab14610266578063fbae0ade1461027a575f5ffd5b80637d810c2a146101cf578063878a672c146101ee578063a901540014610202578063bec070d614610221575f5ffd5b806323509a2d116100c257806323509a2d14610146578063358394d81461017d5780634f68ae751461019c5780637d0e9bba146101bb575f5ffd5b806316f637ff146100e8578063171b01881461011057806317d70f7c14610131575b5f5ffd5b3480156100f3575f5ffd5b506100fd60045481565b6040519081526020015b60405180910390f35b34801561011b575f5ffd5b5061012f61012a366004610e75565b610295565b005b34801561013c575f5ffd5b506100fd60015481565b348015610151575f5ffd5b50600354610165906001600160a01b031681565b6040516001600160a01b039091168152602001610107565b348015610188575f5ffd5b5061012f610197366004610ea3565b61034f565b3480156101a7575f5ffd5b5061012f6101b6366004610ef3565b6104d0565b3480156101c6575f5ffd5b50610165610631565b3480156101da575f5ffd5b5061012f6101e9366004610ef3565b6106aa565b3480156101f9575f5ffd5b5061012f610831565b34801561020d575f5ffd5b5061012f61021c366004610e75565b610a2b565b34801561022c575f5ffd5b505f54610165906001600160a01b031681565b34801561024a575f5ffd5b50600254610165906001600160a01b031681565b61012f610c96565b348015610271575f5ffd5b506004546100fd565b348015610285575f5ffd5b506100fd67016345785d8a000081565b5f546001600160a01b031633146102c75760405162461bcd60e51b81526004016102be90610f21565b60405180910390fd5b6004545f808313156102e4576102dd8383610f6c565b905061031f565b5f6102ee84610f7f565b9050828111156103115760405163619c7f5b60e11b815260040160405180910390fd5b61031b8184610f99565b9150505b600481905560408051848152602081018390525f5160206110055f395f51905f52910160405180910390a1505050565b5f610358610e4b565b805490915060ff600160401b820416159067ffffffffffffffff165f8115801561037f5750825b90505f8267ffffffffffffffff16600114801561039b5750303b155b9050811580156103a9575080155b156103c75760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156103f157845460ff60401b1916600160401b1785555b6001600160a01b038916158061040e57506001600160a01b038716155b8061042057506001600160a01b038616155b1561043e5760405163d92e233d60e01b815260040160405180910390fd5b5f80546001600160a01b03808c166001600160a01b03199283161790925560018a9055600280548a8416908316179055600380549289169290911691909117905583156104c557845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050505050565b5f546001600160a01b031633146104f95760405162461bcd60e51b81526004016102be90610f21565b815f0361051957604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b0381166105405760405163d92e233d60e01b815260040160405180910390fd5b600454808311156105745760405163391434e360e21b815230600482015260248101829052604481018490526064016102be565b60025460405163095ea7b360e01b81526001600160a01b038481166004830152602482018690529091169063095ea7b3906044016020604051808303815f875af11580156105c4573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105e89190610fac565b50816001600160a01b03167fd4ff9b9c0e7f96a5697a4d12df976cbce4f79f135c350cc8014ce7ecfe4ed25e8460405161062491815260200190565b60405180910390a2505050565b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e916106669160040190815260200190565b602060405180830381865afa158015610681573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106a59190610fd2565b905090565b5f546001600160a01b031633146106d35760405162461bcd60e51b81526004016102be90610f21565b815f036106f357604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b03811661071a5760405163d92e233d60e01b815260040160405180910390fd5b6004548083111561074e5760405163391434e360e21b815230600482015260248101829052604481018490526064016102be565b60025460405163a9059cbb60e01b81526001600160a01b038481166004830152602482018690525f92169063a9059cbb906044016020604051808303815f875af115801561079e573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107c29190610fac565b9050806107e2576040516312171d8360e31b815260040160405180910390fd5b8360045f8282546107f39190610f99565b909155505f5160206110055f395f51905f52905061081085610f7f565b6004546040805192835260208301919091520160405180910390a150505050565b5f546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e916108659160040190815260200190565b602060405180830381865afa158015610880573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108a49190610fd2565b6001600160a01b0316336001600160a01b0316146108d557604051631022318760e21b815260040160405180910390fd5b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa15801561091b573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061093f9190610fed565b60045490915080821115610a27575f6109588284610f99565b60025460405163a9059cbb60e01b8152336004820152602481018390529192505f916001600160a01b039091169063a9059cbb906044016020604051808303815f875af11580156109ab573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109cf9190610fac565b9050806109ef576040516312171d8360e31b815260040160405180910390fd5b60405182815233907f9bdedcc968f2c0682145c20289dfbb3081a39684571116ab45eabfef512e94739060200160405180910390a250505b5050565b5f546001600160a01b03163314610a545760405162461bcd60e51b81526004016102be90610f21565b805f03610a7457604051631f2a200560e01b815260040160405180910390fd5b60045480821115610aa85760405163391434e360e21b815230600482015260248101829052604481018390526064016102be565b5f610ab38383610f99565b90505f81118015610acb575067016345785d8a000081105b15610ae957604051637614d15160e11b815260040160405180910390fd5b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e91610b1e9160040190815260200190565b602060405180830381865afa158015610b39573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b5d9190610fd2565b90506001600160a01b038116610b865760405163d92e233d60e01b815260040160405180910390fd5b60025460405163a9059cbb60e01b81526001600160a01b038381166004830152602482018790525f92169063a9059cbb906044016020604051808303815f875af1158015610bd6573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610bfa9190610fac565b905080610c1a576040516312171d8360e31b815260040160405180910390fd5b60048390556040518581526001600160a01b038316907f1a39b9c5044b9f0ff56c5951e30c1ebe24911353aafcceb9250e83a24fe158c49060200160405180910390a25f5160206110055f395f51905f52610c7486610f7f565b6004546040805192835260208301919091520160405180910390a15050505050565b5f546001600160a01b03163314610cbf5760405162461bcd60e51b81526004016102be90610f21565b345f03610cdf57604051631f2a200560e01b815260040160405180910390fd5b67016345785d8a000034600454610cf69190610f6c565b1015610d2d576004805460405163015643f760e01b81529182015234602482015267016345785d8a000060448201526064016102be565b60035460405163a1903eab60e01b81525f60048201819052916001600160a01b03169063a1903eab90349060240160206040518083038185885af193505050508015610d96575060408051601f3d908101601f19168201909252610d9391810190610fed565b60015b610db3576040516379cacff160e01b815260040160405180910390fd5b9050805f03610dd5576040516379cacff160e01b815260040160405180910390fd5b8060045f828254610de69190610f6c565b90915550506040513481527fa1ab46d0e38f33a7b1f03853088a305927deb55c906370ff5d6d2bc732f150959060200160405180910390a16004546040805183815260208101929092525f5160206110055f395f51905f52910160405180910390a150565b5f807ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005b92915050565b5f60208284031215610e85575f5ffd5b5035919050565b6001600160a01b0381168114610ea0575f5ffd5b50565b5f5f5f5f60808587031215610eb6575f5ffd5b8435610ec181610e8c565b9350602085013592506040850135610ed881610e8c565b91506060850135610ee881610e8c565b939692955090935050565b5f5f60408385031215610f04575f5ffd5b823591506020830135610f1681610e8c565b809150509250929050565b6020808252601b908201527f43616c6c6572206973206e6f742053746162696c697a65724e46540000000000604082015260600190565b634e487b7160e01b5f52601160045260245ffd5b80820180821115610e6f57610e6f610f58565b5f600160ff1b8201610f9357610f93610f58565b505f0390565b81810381811115610e6f57610e6f610f58565b5f60208284031215610fbc575f5ffd5b81518015158114610fcb575f5ffd5b9392505050565b5f60208284031215610fe2575f5ffd5b8151610fcb81610e8c565b5f60208284031215610ffd575f5ffd5b505191905056fe149e2ad4c3719ec0acdfb19acc4b31eaa110fd8e4c4f78512870123d9839fb0da26469706673582212206353a8f02c42774bcc50de7555ecb118001e69e6d0c4f864dc2d2f162c0d81d364736f6c634300081d0033","sourceMap":"684:10629:78:-:0;;;2289:97;;;;;;;;;-1:-1:-1;2313:22:78;:20;:22::i;:::-;684:10629;;7711:422:20;3147:66;7900:15;;;;;;;7896:76;;;7938:23;;-1:-1:-1;;;7938:23:20;;;;;;;;;;;7896:76;7985:14;;-1:-1:-1;;;;;7985:14:20;;;:34;7981:146;;8035:33;;-1:-1:-1;;;;;;8035:33:20;-1:-1:-1;;;;;8035:33:20;;;;;8087:29;;158:50:103;;;8087:29:20;;146:2:103;131:18;8087:29:20;;;;;;;7981:146;7760:373;7711:422::o;14:200:103:-;684:10629:78;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x6080604052600436106100e4575f3560e01c80637d810c2a11610087578063c1fe3e4811610057578063c1fe3e481461023f578063d0e30db01461025e578063ec60b9ab14610266578063fbae0ade1461027a575f5ffd5b80637d810c2a146101cf578063878a672c146101ee578063a901540014610202578063bec070d614610221575f5ffd5b806323509a2d116100c257806323509a2d14610146578063358394d81461017d5780634f68ae751461019c5780637d0e9bba146101bb575f5ffd5b806316f637ff146100e8578063171b01881461011057806317d70f7c14610131575b5f5ffd5b3480156100f3575f5ffd5b506100fd60045481565b6040519081526020015b60405180910390f35b34801561011b575f5ffd5b5061012f61012a366004610e75565b610295565b005b34801561013c575f5ffd5b506100fd60015481565b348015610151575f5ffd5b50600354610165906001600160a01b031681565b6040516001600160a01b039091168152602001610107565b348015610188575f5ffd5b5061012f610197366004610ea3565b61034f565b3480156101a7575f5ffd5b5061012f6101b6366004610ef3565b6104d0565b3480156101c6575f5ffd5b50610165610631565b3480156101da575f5ffd5b5061012f6101e9366004610ef3565b6106aa565b3480156101f9575f5ffd5b5061012f610831565b34801561020d575f5ffd5b5061012f61021c366004610e75565b610a2b565b34801561022c575f5ffd5b505f54610165906001600160a01b031681565b34801561024a575f5ffd5b50600254610165906001600160a01b031681565b61012f610c96565b348015610271575f5ffd5b506004546100fd565b348015610285575f5ffd5b506100fd67016345785d8a000081565b5f546001600160a01b031633146102c75760405162461bcd60e51b81526004016102be90610f21565b60405180910390fd5b6004545f808313156102e4576102dd8383610f6c565b905061031f565b5f6102ee84610f7f565b9050828111156103115760405163619c7f5b60e11b815260040160405180910390fd5b61031b8184610f99565b9150505b600481905560408051848152602081018390525f5160206110055f395f51905f52910160405180910390a1505050565b5f610358610e4b565b805490915060ff600160401b820416159067ffffffffffffffff165f8115801561037f5750825b90505f8267ffffffffffffffff16600114801561039b5750303b155b9050811580156103a9575080155b156103c75760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156103f157845460ff60401b1916600160401b1785555b6001600160a01b038916158061040e57506001600160a01b038716155b8061042057506001600160a01b038616155b1561043e5760405163d92e233d60e01b815260040160405180910390fd5b5f80546001600160a01b03808c166001600160a01b03199283161790925560018a9055600280548a8416908316179055600380549289169290911691909117905583156104c557845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050505050565b5f546001600160a01b031633146104f95760405162461bcd60e51b81526004016102be90610f21565b815f0361051957604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b0381166105405760405163d92e233d60e01b815260040160405180910390fd5b600454808311156105745760405163391434e360e21b815230600482015260248101829052604481018490526064016102be565b60025460405163095ea7b360e01b81526001600160a01b038481166004830152602482018690529091169063095ea7b3906044016020604051808303815f875af11580156105c4573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105e89190610fac565b50816001600160a01b03167fd4ff9b9c0e7f96a5697a4d12df976cbce4f79f135c350cc8014ce7ecfe4ed25e8460405161062491815260200190565b60405180910390a2505050565b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e916106669160040190815260200190565b602060405180830381865afa158015610681573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106a59190610fd2565b905090565b5f546001600160a01b031633146106d35760405162461bcd60e51b81526004016102be90610f21565b815f036106f357604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b03811661071a5760405163d92e233d60e01b815260040160405180910390fd5b6004548083111561074e5760405163391434e360e21b815230600482015260248101829052604481018490526064016102be565b60025460405163a9059cbb60e01b81526001600160a01b038481166004830152602482018690525f92169063a9059cbb906044016020604051808303815f875af115801561079e573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107c29190610fac565b9050806107e2576040516312171d8360e31b815260040160405180910390fd5b8360045f8282546107f39190610f99565b909155505f5160206110055f395f51905f52905061081085610f7f565b6004546040805192835260208301919091520160405180910390a150505050565b5f546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e916108659160040190815260200190565b602060405180830381865afa158015610880573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108a49190610fd2565b6001600160a01b0316336001600160a01b0316146108d557604051631022318760e21b815260040160405180910390fd5b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa15801561091b573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061093f9190610fed565b60045490915080821115610a27575f6109588284610f99565b60025460405163a9059cbb60e01b8152336004820152602481018390529192505f916001600160a01b039091169063a9059cbb906044016020604051808303815f875af11580156109ab573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109cf9190610fac565b9050806109ef576040516312171d8360e31b815260040160405180910390fd5b60405182815233907f9bdedcc968f2c0682145c20289dfbb3081a39684571116ab45eabfef512e94739060200160405180910390a250505b5050565b5f546001600160a01b03163314610a545760405162461bcd60e51b81526004016102be90610f21565b805f03610a7457604051631f2a200560e01b815260040160405180910390fd5b60045480821115610aa85760405163391434e360e21b815230600482015260248101829052604481018390526064016102be565b5f610ab38383610f99565b90505f81118015610acb575067016345785d8a000081105b15610ae957604051637614d15160e11b815260040160405180910390fd5b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e91610b1e9160040190815260200190565b602060405180830381865afa158015610b39573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b5d9190610fd2565b90506001600160a01b038116610b865760405163d92e233d60e01b815260040160405180910390fd5b60025460405163a9059cbb60e01b81526001600160a01b038381166004830152602482018790525f92169063a9059cbb906044016020604051808303815f875af1158015610bd6573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610bfa9190610fac565b905080610c1a576040516312171d8360e31b815260040160405180910390fd5b60048390556040518581526001600160a01b038316907f1a39b9c5044b9f0ff56c5951e30c1ebe24911353aafcceb9250e83a24fe158c49060200160405180910390a25f5160206110055f395f51905f52610c7486610f7f565b6004546040805192835260208301919091520160405180910390a15050505050565b5f546001600160a01b03163314610cbf5760405162461bcd60e51b81526004016102be90610f21565b345f03610cdf57604051631f2a200560e01b815260040160405180910390fd5b67016345785d8a000034600454610cf69190610f6c565b1015610d2d576004805460405163015643f760e01b81529182015234602482015267016345785d8a000060448201526064016102be565b60035460405163a1903eab60e01b81525f60048201819052916001600160a01b03169063a1903eab90349060240160206040518083038185885af193505050508015610d96575060408051601f3d908101601f19168201909252610d9391810190610fed565b60015b610db3576040516379cacff160e01b815260040160405180910390fd5b9050805f03610dd5576040516379cacff160e01b815260040160405180910390fd5b8060045f828254610de69190610f6c565b90915550506040513481527fa1ab46d0e38f33a7b1f03853088a305927deb55c906370ff5d6d2bc732f150959060200160405180910390a16004546040805183815260208101929092525f5160206110055f395f51905f52910160405180910390a150565b5f807ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005b92915050565b5f60208284031215610e85575f5ffd5b5035919050565b6001600160a01b0381168114610ea0575f5ffd5b50565b5f5f5f5f60808587031215610eb6575f5ffd5b8435610ec181610e8c565b9350602085013592506040850135610ed881610e8c565b91506060850135610ee881610e8c565b939692955090935050565b5f5f60408385031215610f04575f5ffd5b823591506020830135610f1681610e8c565b809150509250929050565b6020808252601b908201527f43616c6c6572206973206e6f742053746162696c697a65724e46540000000000604082015260600190565b634e487b7160e01b5f52601160045260245ffd5b80820180821115610e6f57610e6f610f58565b5f600160ff1b8201610f9357610f93610f58565b505f0390565b81810381811115610e6f57610e6f610f58565b5f60208284031215610fbc575f5ffd5b81518015158114610fcb575f5ffd5b9392505050565b5f60208284031215610fe2575f5ffd5b8151610fcb81610e8c565b5f60208284031215610ffd575f5ffd5b505191905056fe149e2ad4c3719ec0acdfb19acc4b31eaa110fd8e4c4f78512870123d9839fb0da26469706673582212206353a8f02c42774bcc50de7555ecb118001e69e6d0c4f864dc2d2f162c0d81d364736f6c634300081d0033","sourceMap":"684:10629:78:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1981:38;;;;;;;;;;;;;;;;;;;160:25:103;;;148:2;133:18;1981:38:78;;;;;;;;8607:536;;;;;;;;;;-1:-1:-1;8607:536:78;;;;;:::i;:::-;;:::i;:::-;;1642:22;;;;;;;;;;;;;;;;1892:19;;;;;;;;;;-1:-1:-1;1892:19:78;;;;-1:-1:-1;;;;;1892:19:78;;;;;;-1:-1:-1;;;;;544:32:103;;;526:51;;514:2;499:18;1892:19:78;380:203:103;2871:1308:78;;;;;;;;;;-1:-1:-1;2871:1308:78;;;;;:::i;:::-;;:::i;5653:571::-;;;;;;;;;;-1:-1:-1;5653:571:78;;;;;:::i;:::-;;:::i;9149:130::-;;;;;;;;;;;;;:::i;9690:603::-;;;;;;;;;;-1:-1:-1;9690:603:78;;;;;:::i;:::-;;:::i;10685:626::-;;;;;;;;;;;;;:::i;6604:1263::-;;;;;;;;;;-1:-1:-1;6604:1263:78;;;;;:::i;:::-;;:::i;1557:36::-;;;;;;;;;;-1:-1:-1;1557:36:78;;;;-1:-1:-1;;;;;1557:36:78;;;1809:20;;;;;;;;;;-1:-1:-1;1809:20:78;;;;-1:-1:-1;;;;;1809:20:78;;;4392:957;;;:::i;8153:116::-;;;;;;;;;;-1:-1:-1;8239:23:78;;8153:116;;1494:57;;;;;;;;;;;;1542:9;1494:57;;8607:536;2152:21;;-1:-1:-1;;;;;2152:21:78;2138:10;:35;2134:78;;2175:37;;-1:-1:-1;;;2175:37:78;;;;;;;:::i;:::-;;;;;;;;2134:78;8702:23:::1;::::0;8681:18:::1;8767:9:::0;;::::1;8763:280;;;8805:27;8826:5:::0;8805:10;:27:::1;:::i;:::-;8792:40;;8763:280;;;8863:22;8896:6;8897:5:::0;8896:6:::1;:::i;:::-;8863:40;;8938:10;8921:14;:27;8917:61;;;8957:21;;-1:-1:-1::0;;;8957:21:78::1;;;;;;;;;;;8917:61;9005:27;9018:14:::0;9005:10;:27:::1;:::i;:::-;8992:40;;8849:194;8763:280;9052:23;:36:::0;;;9103:33:::1;::::0;;3046:25:103;;;3102:2;3087:18;;3080:34;;;-1:-1:-1;;;;;;;;;;;9103:33:78;3019:18:103;9103:33:78::1;;;;;;;8671:472;;8607:536:::0;:::o;2871:1308::-;4158:30:20;4191:26;:24;:26::i;:::-;4302:15;;4158:59;;-1:-1:-1;4302:15:20;-1:-1:-1;;;4302:15:20;;;4301:16;;4348:14;;4279:19;4726:16;;:34;;;;;4746:14;4726:34;4706:54;;4770:17;4790:11;:16;;4805:1;4790:16;:50;;;;-1:-1:-1;4818:4:20;4810:25;:30;4790:50;4770:70;;4856:12;4855:13;:30;;;;;4873:12;4872:13;4855:30;4851:91;;;4908:23;;-1:-1:-1;;;4908:23:20;;;;;;;;;;;4851:91;4951:18;;-1:-1:-1;;4951:18:20;4968:1;4951:18;;;4979:67;;;;5013:22;;-1:-1:-1;;;;5013:22:20;-1:-1:-1;;;5013:22:20;;;4979:67;-1:-1:-1;;;;;3219:28:78;::::1;::::0;;:52:::1;;-1:-1:-1::0;;;;;;3251:20:78;::::1;::::0;3219:52:::1;:75;;;-1:-1:-1::0;;;;;;3275:19:78;::::1;::::0;3219:75:::1;3215:126;;;3317:13;;-1:-1:-1::0;;;3317:13:78::1;;;;;;;;;;;3215:126;3520:21;:38:::0;;-1:-1:-1;;;;;3520:38:78;;::::1;-1:-1:-1::0;;;;;;3520:38:78;;::::1;;::::0;;;;3568:18;;;3653:5:::1;:14:::0;;;;::::1;::::0;;::::1;;::::0;;3677:4:::1;:12:::0;;;;::::1;::::0;;;::::1;::::0;;;::::1;::::0;;5066:101:20;;;;5100:23;;-1:-1:-1;;;;5100:23:20;;;5142:14;;-1:-1:-1;3278:50:103;;5142:14:20;;3266:2:103;3251:18;5142:14:20;;;;;;;5066:101;4092:1081;;;;;2871:1308:78;;;;:::o;5653:571::-;2152:21;;-1:-1:-1;;;;;2152:21:78;2138:10;:35;2134:78;;2175:37;;-1:-1:-1;;;2175:37:78;;;;;;;:::i;2134:78::-;5765:6:::1;5775:1;5765:11:::0;5761:36:::1;;5785:12;;-1:-1:-1::0;;;5785:12:78::1;;;;;;;;;;;5761:36;-1:-1:-1::0;;;;;5811:32:78;::::1;5807:58;;5852:13;;-1:-1:-1::0;;;5852:13:78::1;;;;;;;;;;;5807:58;5901:23;::::0;5938;;::::1;5934:99;;;5970:63;::::0;-1:-1:-1;;;5970:63:78;;6003:4:::1;5970:63;::::0;::::1;3541:51:103::0;3608:18;;;3601:34;;;3651:18;;;3644:34;;;3514:18;;5970:63:78::1;3339:345:103::0;5934:99:78::1;6100:5;::::0;6093:49:::1;::::0;-1:-1:-1;;;6093:49:78;;-1:-1:-1;;;;;3881:32:103;;;6093:49:78::1;::::0;::::1;3863:51:103::0;3930:18;;;3923:34;;;6100:5:78;;::::1;::::0;6093:21:::1;::::0;3836:18:103;;6093:49:78::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;6176:18;-1:-1:-1::0;;;;;6157:46:78::1;;6196:6;6157:46;;;;160:25:103::0;;148:2;133:18;;14:177;6157:46:78::1;;;;;;;;5751:473;5653:571:::0;;:::o;9149:130::-;9199:7;9233:21;;;9264:7;9225:47;;-1:-1:-1;;;9225:47:78;;-1:-1:-1;;;;;9233:21:78;;;;9225:38;;:47;;;;160:25:103;;;148:2;133:18;;14:177;9225:47:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;9218:54;;9149:130;:::o;9690:603::-;2152:21;;-1:-1:-1;;;;;2152:21:78;2138:10;:35;2134:78;;2175:37;;-1:-1:-1;;;2175:37:78;;;;;;;:::i;2134:78::-;9797:6:::1;9807:1;9797:11:::0;9793:36:::1;;9817:12;;-1:-1:-1::0;;;9817:12:78::1;;;;;;;;;;;9793:36;-1:-1:-1::0;;;;;9843:23:78;::::1;9839:49;;9875:13;;-1:-1:-1::0;;;9875:13:78::1;;;;;;;;;;;9839:49;9924:23;::::0;9961;;::::1;9957:99;;;9993:63;::::0;-1:-1:-1;;;9993:63:78;;10026:4:::1;9993:63;::::0;::::1;3541:51:103::0;3608:18;;;3601:34;;;3651:18;;;3644:34;;;3514:18;;9993:63:78::1;3339:345:103::0;9957:99:78::1;10089:5;::::0;10082:41:::1;::::0;-1:-1:-1;;;10082:41:78;;-1:-1:-1;;;;;3881:32:103;;;10082:41:78::1;::::0;::::1;3863:51:103::0;3930:18;;;3923:34;;;10067:12:78::1;::::0;10089:5:::1;::::0;10082:22:::1;::::0;3836:18:103;;10082:41:78::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10067:56;;10138:7;10133:37;;10154:16;;-1:-1:-1::0;;;10154:16:78::1;;;;;;;;;;;10133:37;10208:6;10181:23;;:33;;;;;;;:::i;:::-;::::0;;;-1:-1:-1;;;;;;;;;;;;10230:56:78;-1:-1:-1;10245:15:78::1;10253:6:::0;10245:15:::1;:::i;:::-;10262:23;::::0;10230:56:::1;::::0;;3046:25:103;;;3102:2;3087:18;;3080:34;;;;3019:18;10230:56:78::1;;;;;;;9783:510;;9690:603:::0;;:::o;10685:626::-;10768:21;;;10799:7;10760:47;;-1:-1:-1;;;10760:47:78;;-1:-1:-1;;;;;10768:21:78;;;;10760:38;;:47;;;;160:25:103;;;148:2;133:18;;14:177;10760:47:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;10746:61:78;:10;-1:-1:-1;;;;;10746:61:78;;10742:112;;10830:13;;-1:-1:-1;;;10830:13:78;;;;;;;;;;;10742:112;10897:5;;10890:38;;-1:-1:-1;;;10890:38:78;;10922:4;10890:38;;;526:51:103;10864:23:78;;-1:-1:-1;;;;;10897:5:78;;10890:23;;499:18:103;;10890:38:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10963:23;;10864:64;;-1:-1:-1;11001:32:78;;;10997:308;;;11049:20;11072:32;11090:14;11072:15;:32;:::i;:::-;11141:5;;11134:48;;-1:-1:-1;;;11134:48:78;;11157:10;11134:48;;;3863:51:103;3930:18;;;3923:34;;;11049:55:78;;-1:-1:-1;11119:12:78;;-1:-1:-1;;;;;11141:5:78;;;;11134:22;;3836:18:103;;11134:48:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;11119:63;;11201:7;11196:37;;11217:16;;-1:-1:-1;;;11217:16:78;;;;;;;;;;;11196:37;11253:41;;160:25:103;;;11269:10:78;;11253:41;;148:2:103;133:18;11253:41:78;;;;;;;11035:270;;10997:308;10732:579;;10685:626::o;6604:1263::-;2152:21;;-1:-1:-1;;;;;2152:21:78;2138:10;:35;2134:78;;2175:37;;-1:-1:-1;;;2175:37:78;;;;;;;:::i;2134:78::-;6690:6:::1;6700:1;6690:11:::0;6686:36:::1;;6710:12;;-1:-1:-1::0;;;6710:12:78::1;;;;;;;;;;;6686:36;6757:23;::::0;6794;;::::1;6790:99;;;6826:63;::::0;-1:-1:-1;;;6826:63:78;;6859:4:::1;6826:63;::::0;::::1;3541:51:103::0;3608:18;;;3601:34;;;3651:18;;;3644:34;;;3514:18;;6826:63:78::1;3339:345:103::0;6790:99:78::1;6958:24;6985:23;7002:6:::0;6985:14;:23:::1;:::i;:::-;6958:50;;7041:1;7022:16;:20;:64;;;;;1542:9;7046:16;:40;7022:64;7018:128;;;7109:26;;-1:-1:-1::0;;;7109:26:78::1;;;;;;;;;;;7018:128;7248:20;7279:21:::0;;;7310:7;7271:47:::1;::::0;-1:-1:-1;;;7271:47:78;;-1:-1:-1;;;;;7279:21:78;;::::1;::::0;7271:38:::1;::::0;:47:::1;::::0;::::1;;160:25:103::0;;;148:2;133:18;;14:177;7271:47:78::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;7248:70:::0;-1:-1:-1;;;;;;7354:26:78;::::1;7350:52;;7389:13;;-1:-1:-1::0;;;7389:13:78::1;;;;;;;;;;;7350:52;7519:5;::::0;7512:44:::1;::::0;-1:-1:-1;;;7512:44:78;;-1:-1:-1;;;;;3881:32:103;;;7512:44:78::1;::::0;::::1;3863:51:103::0;3930:18;;;3923:34;;;7497:12:78::1;::::0;7519:5:::1;::::0;7512:22:::1;::::0;3836:18:103;;7512:44:78::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;7497:59;;7571:7;7566:37;;7587:16;;-1:-1:-1::0;;;7587:16:78::1;;;;;;;;;;;7566:37;7614:23;:42:::0;;;7748:41:::1;::::0;160:25:103;;;-1:-1:-1;;;;;7748:41:78;::::1;::::0;::::1;::::0;148:2:103;133:18;7748:41:78::1;;;;;;;-1:-1:-1::0;;;;;;;;;;;7819:15:78::1;7827:6:::0;7819:15:::1;:::i;:::-;7836:23;::::0;7804:56:::1;::::0;;3046:25:103;;;3102:2;3087:18;;3080:34;;;;3019:18;7804:56:78::1;;;;;;;6676:1191;;;;6604:1263:::0;:::o;4392:957::-;2152:21;;-1:-1:-1;;;;;2152:21:78;2138:10;:35;2134:78;;2175:37;;-1:-1:-1;;;2175:37:78;;;;;;;:::i;2134:78::-;4460:9:::1;4473:1;4460:14:::0;4456:39:::1;;4483:12;;-1:-1:-1::0;;;4483:12:78::1;;;;;;;;;;;4456:39;1542:9;4633;4607:23;;:35;;;;:::i;:::-;:59;4603:180;;;4714:23;::::0;;4689:83:::1;::::0;-1:-1:-1;;;4689:83:78;;;;::::1;4897:25:103::0;4739:9:78::1;4938:18:103::0;;;4931:34;1542:9:78::1;4981:18:103::0;;;4974:34;4870:18;;4689:83:78::1;4695:319:103::0;4603:180:78::1;4893:4;::::0;4887:48:::1;::::0;-1:-1:-1;;;4887:48:78;;4852:21:::1;4887:48;::::0;::::1;526:51:103::0;;;4852:21:78;-1:-1:-1;;;;;4893:4:78::1;::::0;4887:18:::1;::::0;4913:9:::1;::::0;499:18:103;;4887:48:78::1;;;;;;;;;;;;;;;;;;;;-1:-1:-1::0;4887:48:78::1;::::0;;::::1;;::::0;;::::1;-1:-1:-1::0;;4887:48:78::1;::::0;::::1;::::0;;;::::1;::::0;;::::1;::::0;::::1;:::i;:::-;;;4883:183;;5040:15;;-1:-1:-1::0;;;5040:15:78::1;;;;;;;;;;;4883:183;4993:8:::0;-1:-1:-1;5079:13:78::1;5096:1;5079:18:::0;5075:46:::1;;5106:15;;-1:-1:-1::0;;;5106:15:78::1;;;;;;;;;;;5075:46;5192:13;5165:23;;:40;;;;;;;:::i;:::-;::::0;;;-1:-1:-1;;5221:26:78::1;::::0;5237:9:::1;160:25:103::0;;5221:26:78::1;::::0;148:2:103;133:18;5221:26:78::1;;;;;;;5318:23;::::0;5280:62:::1;::::0;;3046:25:103;;;3102:2;3087:18;;3080:34;;;;-1:-1:-1;;;;;;;;;;;5280:62:78;3019:18:103;5280:62:78::1;;;;;;;4446:903;4392:957::o:0;9073:205:20:-;9131:30;;3147:66;9188:27;9173:42;9073:205;-1:-1:-1;;9073:205:20:o;196:179:103:-;254:6;307:2;295:9;286:7;282:23;278:32;275:52;;;323:1;320;313:12;275:52;-1:-1:-1;346:23:103;;196:179;-1:-1:-1;196:179:103:o;588:131::-;-1:-1:-1;;;;;663:31:103;;653:42;;643:70;;709:1;706;699:12;643:70;588:131;:::o;724:650::-;810:6;818;826;834;887:3;875:9;866:7;862:23;858:33;855:53;;;904:1;901;894:12;855:53;943:9;930:23;962:31;987:5;962:31;:::i;:::-;1012:5;-1:-1:-1;1090:2:103;1075:18;;1062:32;;-1:-1:-1;1172:2:103;1157:18;;1144:32;1185:33;1144:32;1185:33;:::i;:::-;1237:7;-1:-1:-1;1296:2:103;1281:18;;1268:32;1309:33;1268:32;1309:33;:::i;:::-;724:650;;;;-1:-1:-1;724:650:103;;-1:-1:-1;;724:650:103:o;1379:367::-;1447:6;1455;1508:2;1496:9;1487:7;1483:23;1479:32;1476:52;;;1524:1;1521;1514:12;1476:52;1569:23;;;-1:-1:-1;1668:2:103;1653:18;;1640:32;1681:33;1640:32;1681:33;:::i;:::-;1733:7;1723:17;;;1379:367;;;;;:::o;1982:351::-;2184:2;2166:21;;;2223:2;2203:18;;;2196:30;2262:29;2257:2;2242:18;;2235:57;2324:2;2309:18;;1982:351::o;2338:127::-;2399:10;2394:3;2390:20;2387:1;2380:31;2430:4;2427:1;2420:15;2454:4;2451:1;2444:15;2470:125;2535:9;;;2556:10;;;2553:36;;;2569:18;;:::i;2600:136::-;2635:3;-1:-1:-1;;;2656:22:103;;2653:48;;2681:18;;:::i;:::-;-1:-1:-1;2721:1:103;2717:13;;2600:136::o;2741:128::-;2808:9;;;2829:11;;;2826:37;;;2843:18;;:::i;3968:277::-;4035:6;4088:2;4076:9;4067:7;4063:23;4059:32;4056:52;;;4104:1;4101;4094:12;4056:52;4136:9;4130:16;4189:5;4182:13;4175:21;4168:5;4165:32;4155:60;;4211:1;4208;4201:12;4155:60;4234:5;3968:277;-1:-1:-1;;;3968:277:103:o;4250:251::-;4320:6;4373:2;4361:9;4352:7;4348:23;4344:32;4341:52;;;4389:1;4386;4379:12;4341:52;4421:9;4415:16;4440:31;4465:5;4440:31;:::i;4506:184::-;4576:6;4629:2;4617:9;4608:7;4604:23;4600:32;4597:52;;;4645:1;4642;4635:12;4597:52;-1:-1:-1;4668:16:103;;4506:184;-1:-1:-1;4506:184:103:o","linkReferences":{}},"methodIdentifiers":{"MINIMUM_ESCROW_AMOUNT()":"fbae0ade","approveAllocation(uint256,address)":"4f68ae75","deposit()":"d0e30db0","initialize(address,uint256,address,address)":"358394d8","lido()":"23509a2d","stETH()":"c1fe3e48","stabilizerNFTContract()":"bec070d6","stabilizerOwner()":"7d0e9bba","tokenId()":"17d70f7c","unallocatedStETH()":"ec60b9ab","unallocatedStETHBalance()":"16f637ff","updateBalance(int256)":"171b0188","withdrawExcessStEthBalance()":"878a672c","withdrawForAllocation(uint256,address)":"7d810c2a","withdrawUnallocated(uint256)":"a9015400"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.29+commit.ab55807c\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"BalanceUpdateFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"DepositFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"allowance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"needed\",\"type\":\"uint256\"}],\"name\":\"ERC20InsufficientAllowance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"needed\",\"type\":\"uint256\"}],\"name\":\"ERC20InsufficientBalance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"approver\",\"type\":\"address\"}],\"name\":\"ERC20InvalidApprover\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"ERC20InvalidReceiver\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"ERC20InvalidSender\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"ERC20InvalidSpender\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InitialDepositFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"currentBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minimumAmount\",\"type\":\"uint256\"}],\"name\":\"InsufficientEscrowAmount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidInitialization\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotInitializing\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotNFTOwner\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TransferFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"WithdrawalWouldLeaveDust\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAmount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"AllocationApproved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"delta\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newBalance\",\"type\":\"uint256\"}],\"name\":\"BalanceUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"DepositReceived\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"ExcessWithdrawn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"version\",\"type\":\"uint64\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"WithdrawalCompleted\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"MINIMUM_ESCROW_AMOUNT\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"positionNFTAddress\",\"type\":\"address\"}],\"name\":\"approveAllocation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_stabilizerNFT\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stETH\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_lido\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lido\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stETH\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stabilizerNFTContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stabilizerOwner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"tokenId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unallocatedStETH\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unallocatedStETHBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"delta\",\"type\":\"int256\"}],\"name\":\"updateBalance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdrawExcessStEthBalance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"withdrawForAllocation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdrawUnallocated\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Deployed and controlled by the StabilizerNFT contract. Implements IStabilizerEscrow. Meant to be deployed as a clone.\",\"errors\":{\"ERC20InsufficientAllowance(address,uint256,uint256)\":[{\"details\":\"Indicates a failure with the `spender`\\u2019s `allowance`. Used in transfers.\",\"params\":{\"allowance\":\"Amount of tokens a `spender` is allowed to operate with.\",\"needed\":\"Minimum amount required to perform a transfer.\",\"spender\":\"Address that may be allowed to operate on tokens without being their owner.\"}}],\"ERC20InsufficientBalance(address,uint256,uint256)\":[{\"details\":\"Indicates an error related to the current `balance` of a `sender`. Used in transfers.\",\"params\":{\"balance\":\"Current balance for the interacting account.\",\"needed\":\"Minimum amount required to perform a transfer.\",\"sender\":\"Address whose tokens are being transferred.\"}}],\"ERC20InvalidApprover(address)\":[{\"details\":\"Indicates a failure with the `approver` of a token to be approved. Used in approvals.\",\"params\":{\"approver\":\"Address initiating an approval operation.\"}}],\"ERC20InvalidReceiver(address)\":[{\"details\":\"Indicates a failure with the token `receiver`. Used in transfers.\",\"params\":{\"receiver\":\"Address to which tokens are being transferred.\"}}],\"ERC20InvalidSender(address)\":[{\"details\":\"Indicates a failure with the token `sender`. Used in transfers.\",\"params\":{\"sender\":\"Address whose tokens are being transferred.\"}}],\"ERC20InvalidSpender(address)\":[{\"details\":\"Indicates a failure with the `spender` to be approved. Used in approvals.\",\"params\":{\"spender\":\"Address that may be allowed to operate on tokens without being their owner.\"}}],\"InvalidInitialization()\":[{\"details\":\"The contract is already initialized.\"}],\"NotInitializing()\":[{\"details\":\"The contract is not initializing.\"}]},\"events\":{\"Initialized(uint64)\":{\"details\":\"Triggered when the contract has been initialized or reinitialized.\"}},\"kind\":\"dev\",\"methods\":{\"approveAllocation(uint256,address)\":{\"details\":\"Callable only by StabilizerNFT. Checks for sufficient balance.\",\"params\":{\"amount\":\"The amount of stETH to approve.\",\"positionNFTAddress\":\"The address of the PositionNFT contract.\"}},\"constructor\":{\"custom:oz-upgrades-unsafe-allow\":\"constructor\"},\"deposit()\":{\"details\":\"Stakes the received ETH into stETH. Callable only by StabilizerNFT.\"},\"initialize(address,uint256,address,address)\":{\"details\":\"Sets immutable addresses and the token ID. Meant to be called once after clone deployment.\",\"params\":{\"_lido\":\"The address of the Lido staking pool.\",\"_stETH\":\"The address of the stETH token.\",\"_stabilizerNFT\":\"The address of the controlling StabilizerNFT contract.\",\"_tokenId\":\"The ID of the Stabilizer NFT this escrow is associated with.\"}},\"unallocatedStETH()\":{\"details\":\"Renamed from the previous logic which subtracted allocated amount. Now just returns total balance.\",\"returns\":{\"_0\":\"The amount of stETH held by the escrow.\"}},\"updateBalance(int256)\":{\"details\":\"Callable only by StabilizerNFT to report balance changes from stETH transfers      that happen outside this contract's direct control (e.g., direct deposit, allocation).\",\"params\":{\"delta\":\"The change in balance (can be positive or negative).\"}},\"withdrawExcessStEthBalance()\":{\"details\":\"This serves as a recovery mechanism for stETH sent directly to the escrow via `transfer`,      bypassing the internal accounting. It does not affect the tracked balance.\"},\"withdrawForAllocation(uint256,address)\":{\"details\":\"Callable only by StabilizerNFT. This is a single-call alternative to approve/transferFrom      to reduce bytecode size in the calling StabilizerNFT contract.\",\"params\":{\"amount\":\"The amount of stETH to withdraw.\",\"recipient\":\"The address to send the stETH to.\"}},\"withdrawUnallocated(uint256)\":{\"details\":\"Callable only by StabilizerNFT. Uses stored `tokenId` to fetch current owner. Checks against total balance.\",\"params\":{\"amount\":\"The amount of stETH to withdraw.\"}}},\"title\":\"StabilizerEscrow\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"approveAllocation(uint256,address)\":{\"notice\":\"Approves the PositionNFT contract to spend stETH for allocation.\"},\"deposit()\":{\"notice\":\"Receives additional ETH deposits forwarded by StabilizerNFT.\"},\"initialize(address,uint256,address,address)\":{\"notice\":\"Initializes the escrow contract state.\"},\"unallocatedStETH()\":{\"notice\":\"Returns the current stETH balance of this contract.\"},\"updateBalance(int256)\":{\"notice\":\"Updates the internal balance tracking.\"},\"withdrawExcessStEthBalance()\":{\"notice\":\"Allows the owner of the associated Stabilizer NFT to withdraw any stETH balance         that is in excess of the internally tracked `unallocatedStETHBalance`.\"},\"withdrawForAllocation(uint256,address)\":{\"notice\":\"Withdraws stETH from this escrow and sends it to a recipient (e.g., PositionEscrow).\"},\"withdrawUnallocated(uint256)\":{\"notice\":\"Withdraws unallocated stETH to the current owner of the associated Stabilizer NFT.\"}},\"notice\":\"A dedicated vault for a single Stabilizer NFT, holding and managing stETH collateral.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/StabilizerEscrow.sol\":\"StabilizerEscrow\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":chainlink/=lib/chainlink/\",\":createx/=lib/createx/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/\",\":solady/=lib/createx/lib/solady/src/\",\":uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/\",\":uniswap-v3-core/=lib/uniswap-v3-core/\"]},\"sources\":{\"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol\":{\"keccak256\":\"0xe62b887bd4460c77222e1c806362b72462ddb13e224ba3a759ad1a23fe6ea22a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b34213dbcea29166c5b77c8aa48908db812bf55ff501f89bc0e8e6e4dd7c8e2b\",\"dweb:/ipfs/QmZ7HaZLMseqKhUL5cUM2dfWp6Xy8HGME6kA3iDM4E5QV3\"]},\"lib/openzeppelin-contracts/contracts/interfaces/draft-IERC6093.sol\":{\"keccak256\":\"0x880da465c203cec76b10d72dbd87c80f387df4102274f23eea1f9c9b0918792b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://399594cd8bb0143bc9e55e0f1d071d0d8c850a394fb7a319d50edd55d9ed822b\",\"dweb:/ipfs/QmbPZzgtT6LEm9CMqWfagQFwETbV1ztpECBB1DtQHrKiRz\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6b7f97c5960a50fd1822cb298551ffc908e37b7893a68d6d08bce18a11cb0f11\",\"dweb:/ipfs/QmQQvxBytoY1eBt3pRQDmvH2hZ2yjhs12YqVfzGm7KSURq\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"src/StabilizerEscrow.sol\":{\"keccak256\":\"0x048fa2902368324ef71a7d25857329a223ee364cb541e8de8b86da4cc3867ce0\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://db914656e73387038644a3c95ef1eb6aa2ce6d6979445680ad3653eec43c0ffa\",\"dweb:/ipfs/QmXWBFoAaub7zeTFuPAF1pofkVUQh6zbJV9W6bSECjcfuc\"]},\"src/interfaces/ILido.sol\":{\"keccak256\":\"0xf33bd94f14a562f32ceaf9211a3b7084e4e225cc548b91db3e611637dec29a8d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e71f220455796f3f19855e3d89ae8a0674894bf19bc49adc430f7afaec36a22a\",\"dweb:/ipfs/QmcQ56JKRECKQcPyXXQwUxrAyrHnA88swjyPaK7AULHW9v\"]},\"src/interfaces/IStabilizerEscrow.sol\":{\"keccak256\":\"0xffb0a293f4742b4bec8328faaa26d2df94c91652e690886b387499a0bdc1667c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fd1c4182a8dda7622ae9600e58e2299ac3dfebbf072b4c951334af79e3526190\",\"dweb:/ipfs/QmYEaRmfTwLgH6h4TMX6oFxqrtniJUUxo577NG36yxoNEs\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.29+commit.ab55807c"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"BalanceUpdateFailed"},{"inputs":[],"type":"error","name":"DepositFailed"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"type":"error","name":"ERC20InsufficientAllowance"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"type":"error","name":"ERC20InsufficientBalance"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"type":"error","name":"ERC20InvalidApprover"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"type":"error","name":"ERC20InvalidReceiver"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"type":"error","name":"ERC20InvalidSender"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"type":"error","name":"ERC20InvalidSpender"},{"inputs":[],"type":"error","name":"InitialDepositFailed"},{"inputs":[{"internalType":"uint256","name":"currentBalance","type":"uint256"},{"internalType":"uint256","name":"depositAmount","type":"uint256"},{"internalType":"uint256","name":"minimumAmount","type":"uint256"}],"type":"error","name":"InsufficientEscrowAmount"},{"inputs":[],"type":"error","name":"InvalidInitialization"},{"inputs":[],"type":"error","name":"NotInitializing"},{"inputs":[],"type":"error","name":"NotNFTOwner"},{"inputs":[],"type":"error","name":"TransferFailed"},{"inputs":[],"type":"error","name":"WithdrawalWouldLeaveDust"},{"inputs":[],"type":"error","name":"ZeroAddress"},{"inputs":[],"type":"error","name":"ZeroAmount"},{"inputs":[{"internalType":"address","name":"spender","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"AllocationApproved","anonymous":false},{"inputs":[{"internalType":"int256","name":"delta","type":"int256","indexed":false},{"internalType":"uint256","name":"newBalance","type":"uint256","indexed":false}],"type":"event","name":"BalanceUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"DepositReceived","anonymous":false},{"inputs":[{"internalType":"address","name":"recipient","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"ExcessWithdrawn","anonymous":false},{"inputs":[{"internalType":"uint64","name":"version","type":"uint64","indexed":false}],"type":"event","name":"Initialized","anonymous":false},{"inputs":[{"internalType":"address","name":"recipient","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"WithdrawalCompleted","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"MINIMUM_ESCROW_AMOUNT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"positionNFTAddress","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"approveAllocation"},{"inputs":[],"stateMutability":"payable","type":"function","name":"deposit"},{"inputs":[{"internalType":"address","name":"_stabilizerNFT","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"address","name":"_stETH","type":"address"},{"internalType":"address","name":"_lido","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[],"stateMutability":"view","type":"function","name":"lido","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"stETH","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"stabilizerNFTContract","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"stabilizerOwner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"tokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"unallocatedStETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"unallocatedStETHBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"int256","name":"delta","type":"int256"}],"stateMutability":"nonpayable","type":"function","name":"updateBalance"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"withdrawExcessStEthBalance"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"withdrawForAllocation"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"withdrawUnallocated"}],"devdoc":{"kind":"dev","methods":{"approveAllocation(uint256,address)":{"details":"Callable only by StabilizerNFT. Checks for sufficient balance.","params":{"amount":"The amount of stETH to approve.","positionNFTAddress":"The address of the PositionNFT contract."}},"constructor":{"custom:oz-upgrades-unsafe-allow":"constructor"},"deposit()":{"details":"Stakes the received ETH into stETH. Callable only by StabilizerNFT."},"initialize(address,uint256,address,address)":{"details":"Sets immutable addresses and the token ID. Meant to be called once after clone deployment.","params":{"_lido":"The address of the Lido staking pool.","_stETH":"The address of the stETH token.","_stabilizerNFT":"The address of the controlling StabilizerNFT contract.","_tokenId":"The ID of the Stabilizer NFT this escrow is associated with."}},"unallocatedStETH()":{"details":"Renamed from the previous logic which subtracted allocated amount. Now just returns total balance.","returns":{"_0":"The amount of stETH held by the escrow."}},"updateBalance(int256)":{"details":"Callable only by StabilizerNFT to report balance changes from stETH transfers      that happen outside this contract's direct control (e.g., direct deposit, allocation).","params":{"delta":"The change in balance (can be positive or negative)."}},"withdrawExcessStEthBalance()":{"details":"This serves as a recovery mechanism for stETH sent directly to the escrow via `transfer`,      bypassing the internal accounting. It does not affect the tracked balance."},"withdrawForAllocation(uint256,address)":{"details":"Callable only by StabilizerNFT. This is a single-call alternative to approve/transferFrom      to reduce bytecode size in the calling StabilizerNFT contract.","params":{"amount":"The amount of stETH to withdraw.","recipient":"The address to send the stETH to."}},"withdrawUnallocated(uint256)":{"details":"Callable only by StabilizerNFT. Uses stored `tokenId` to fetch current owner. Checks against total balance.","params":{"amount":"The amount of stETH to withdraw."}}},"version":1},"userdoc":{"kind":"user","methods":{"approveAllocation(uint256,address)":{"notice":"Approves the PositionNFT contract to spend stETH for allocation."},"deposit()":{"notice":"Receives additional ETH deposits forwarded by StabilizerNFT."},"initialize(address,uint256,address,address)":{"notice":"Initializes the escrow contract state."},"unallocatedStETH()":{"notice":"Returns the current stETH balance of this contract."},"updateBalance(int256)":{"notice":"Updates the internal balance tracking."},"withdrawExcessStEthBalance()":{"notice":"Allows the owner of the associated Stabilizer NFT to withdraw any stETH balance         that is in excess of the internally tracked `unallocatedStETHBalance`."},"withdrawForAllocation(uint256,address)":{"notice":"Withdraws stETH from this escrow and sends it to a recipient (e.g., PositionEscrow)."},"withdrawUnallocated(uint256)":{"notice":"Withdraws unallocated stETH to the current owner of the associated Stabilizer NFT."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","chainlink/=lib/chainlink/","createx/=lib/createx/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/","solady/=lib/createx/lib/solady/src/","uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/","uniswap-v3-core/=lib/uniswap-v3-core/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/StabilizerEscrow.sol":"StabilizerEscrow"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol":{"keccak256":"0xe62b887bd4460c77222e1c806362b72462ddb13e224ba3a759ad1a23fe6ea22a","urls":["bzz-raw://b34213dbcea29166c5b77c8aa48908db812bf55ff501f89bc0e8e6e4dd7c8e2b","dweb:/ipfs/QmZ7HaZLMseqKhUL5cUM2dfWp6Xy8HGME6kA3iDM4E5QV3"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/draft-IERC6093.sol":{"keccak256":"0x880da465c203cec76b10d72dbd87c80f387df4102274f23eea1f9c9b0918792b","urls":["bzz-raw://399594cd8bb0143bc9e55e0f1d071d0d8c850a394fb7a319d50edd55d9ed822b","dweb:/ipfs/QmbPZzgtT6LEm9CMqWfagQFwETbV1ztpECBB1DtQHrKiRz"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261","urls":["bzz-raw://6b7f97c5960a50fd1822cb298551ffc908e37b7893a68d6d08bce18a11cb0f11","dweb:/ipfs/QmQQvxBytoY1eBt3pRQDmvH2hZ2yjhs12YqVfzGm7KSURq"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"src/StabilizerEscrow.sol":{"keccak256":"0x048fa2902368324ef71a7d25857329a223ee364cb541e8de8b86da4cc3867ce0","urls":["bzz-raw://db914656e73387038644a3c95ef1eb6aa2ce6d6979445680ad3653eec43c0ffa","dweb:/ipfs/QmXWBFoAaub7zeTFuPAF1pofkVUQh6zbJV9W6bSECjcfuc"],"license":"MIT"},"src/interfaces/ILido.sol":{"keccak256":"0xf33bd94f14a562f32ceaf9211a3b7084e4e225cc548b91db3e611637dec29a8d","urls":["bzz-raw://e71f220455796f3f19855e3d89ae8a0674894bf19bc49adc430f7afaec36a22a","dweb:/ipfs/QmcQ56JKRECKQcPyXXQwUxrAyrHnA88swjyPaK7AULHW9v"],"license":"MIT"},"src/interfaces/IStabilizerEscrow.sol":{"keccak256":"0xffb0a293f4742b4bec8328faaa26d2df94c91652e690886b387499a0bdc1667c","urls":["bzz-raw://fd1c4182a8dda7622ae9600e58e2299ac3dfebbf072b4c951334af79e3526190","dweb:/ipfs/QmYEaRmfTwLgH6h4TMX6oFxqrtniJUUxo577NG36yxoNEs"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[{"astId":54852,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"stabilizerNFTContract","offset":0,"slot":"0","type":"t_address"},{"astId":54854,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"tokenId","offset":0,"slot":"1","type":"t_uint256"},{"astId":54856,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"stETH","offset":0,"slot":"2","type":"t_address"},{"astId":54858,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"lido","offset":0,"slot":"3","type":"t_address"},{"astId":54860,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"unallocatedStETHBalance","offset":0,"slot":"4","type":"t_uint256"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"ast":{"absolutePath":"src/StabilizerEscrow.sol","id":55412,"exportedSymbols":{"IERC165":[47119],"IERC20":[43805],"IERC20Errors":[42340],"IERC721":[44138],"ILido":[59864],"IStabilizerEscrow":[60252],"Initializable":[39723],"StabilizerEscrow":[55411]},"nodeType":"SourceUnit","src":"32:11282:78","nodes":[{"id":54800,"nodeType":"PragmaDirective","src":"32:23:78","nodes":[],"literals":["solidity","0.8",".29"]},{"id":54801,"nodeType":"ImportDirective","src":"57:72:78","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":55412,"sourceUnit":43806,"symbolAliases":[],"unitAlias":""},{"id":54802,"nodeType":"ImportDirective","src":"130:74:78","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","nameLocation":"-1:-1:-1","scope":55412,"sourceUnit":44139,"symbolAliases":[],"unitAlias":""},{"id":54804,"nodeType":"ImportDirective","src":"205:112:78","nodes":[],"absolutePath":"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol","file":"../lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol","nameLocation":"-1:-1:-1","scope":55412,"sourceUnit":39724,"symbolAliases":[{"foreign":{"id":54803,"name":"Initializable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39723,"src":"213:13:78","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":54805,"nodeType":"ImportDirective","src":"346:32:78","nodes":[],"absolutePath":"src/interfaces/ILido.sol","file":"./interfaces/ILido.sol","nameLocation":"-1:-1:-1","scope":55412,"sourceUnit":59865,"symbolAliases":[],"unitAlias":""},{"id":54806,"nodeType":"ImportDirective","src":"379:44:78","nodes":[],"absolutePath":"src/interfaces/IStabilizerEscrow.sol","file":"./interfaces/IStabilizerEscrow.sol","nameLocation":"-1:-1:-1","scope":55412,"sourceUnit":60253,"symbolAliases":[],"unitAlias":""},{"id":55411,"nodeType":"ContractDefinition","src":"684:10629:78","nodes":[{"id":54813,"nodeType":"ErrorDefinition","src":"803:20:78","nodes":[],"errorSelector":"d92e233d","name":"ZeroAddress","nameLocation":"809:11:78","parameters":{"id":54812,"nodeType":"ParameterList","parameters":[],"src":"820:2:78"}},{"id":54815,"nodeType":"ErrorDefinition","src":"828:19:78","nodes":[],"errorSelector":"1f2a2005","name":"ZeroAmount","nameLocation":"834:10:78","parameters":{"id":54814,"nodeType":"ParameterList","parameters":[],"src":"844:2:78"}},{"id":54823,"nodeType":"ErrorDefinition","src":"852:101:78","nodes":[],"errorSelector":"015643f7","name":"InsufficientEscrowAmount","nameLocation":"858:24:78","parameters":{"id":54822,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54817,"mutability":"mutable","name":"currentBalance","nameLocation":"891:14:78","nodeType":"VariableDeclaration","scope":54823,"src":"883:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54816,"name":"uint256","nodeType":"ElementaryTypeName","src":"883:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":54819,"mutability":"mutable","name":"depositAmount","nameLocation":"915:13:78","nodeType":"VariableDeclaration","scope":54823,"src":"907:21:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54818,"name":"uint256","nodeType":"ElementaryTypeName","src":"907:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":54821,"mutability":"mutable","name":"minimumAmount","nameLocation":"938:13:78","nodeType":"VariableDeclaration","scope":54823,"src":"930:21:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54820,"name":"uint256","nodeType":"ElementaryTypeName","src":"930:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"882:70:78"}},{"id":54825,"nodeType":"ErrorDefinition","src":"958:33:78","nodes":[],"errorSelector":"ec29a2a2","name":"WithdrawalWouldLeaveDust","nameLocation":"964:24:78","parameters":{"id":54824,"nodeType":"ParameterList","parameters":[],"src":"988:2:78"}},{"id":54827,"nodeType":"ErrorDefinition","src":"996:28:78","nodes":[],"errorSelector":"c338feb6","name":"BalanceUpdateFailed","nameLocation":"1002:19:78","parameters":{"id":54826,"nodeType":"ParameterList","parameters":[],"src":"1021:2:78"}},{"id":54829,"nodeType":"ErrorDefinition","src":"1029:20:78","nodes":[],"errorSelector":"4088c61c","name":"NotNFTOwner","nameLocation":"1035:11:78","parameters":{"id":54828,"nodeType":"ParameterList","parameters":[],"src":"1046:2:78"}},{"id":54831,"nodeType":"ErrorDefinition","src":"1140:29:78","nodes":[],"errorSelector":"4a76da80","name":"InitialDepositFailed","nameLocation":"1146:20:78","parameters":{"id":54830,"nodeType":"ParameterList","parameters":[],"src":"1166:2:78"}},{"id":54833,"nodeType":"ErrorDefinition","src":"1254:22:78","nodes":[],"errorSelector":"79cacff1","name":"DepositFailed","nameLocation":"1260:13:78","parameters":{"id":54832,"nodeType":"ParameterList","parameters":[],"src":"1273:2:78"}},{"id":54835,"nodeType":"ErrorDefinition","src":"1281:23:78","nodes":[],"errorSelector":"90b8ec18","name":"TransferFailed","nameLocation":"1287:14:78","parameters":{"id":54834,"nodeType":"ParameterList","parameters":[],"src":"1301:2:78"}},{"id":54841,"nodeType":"EventDefinition","src":"1332:55:78","nodes":[],"anonymous":false,"eventSelector":"149e2ad4c3719ec0acdfb19acc4b31eaa110fd8e4c4f78512870123d9839fb0d","name":"BalanceUpdated","nameLocation":"1338:14:78","parameters":{"id":54840,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54837,"indexed":false,"mutability":"mutable","name":"delta","nameLocation":"1360:5:78","nodeType":"VariableDeclaration","scope":54841,"src":"1353:12:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":54836,"name":"int256","nodeType":"ElementaryTypeName","src":"1353:6:78","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":54839,"indexed":false,"mutability":"mutable","name":"newBalance","nameLocation":"1375:10:78","nodeType":"VariableDeclaration","scope":54841,"src":"1367:18:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54838,"name":"uint256","nodeType":"ElementaryTypeName","src":"1367:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1352:34:78"}},{"id":54847,"nodeType":"EventDefinition","src":"1392:65:78","nodes":[],"anonymous":false,"eventSelector":"9bdedcc968f2c0682145c20289dfbb3081a39684571116ab45eabfef512e9473","name":"ExcessWithdrawn","nameLocation":"1398:15:78","parameters":{"id":54846,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54843,"indexed":true,"mutability":"mutable","name":"recipient","nameLocation":"1430:9:78","nodeType":"VariableDeclaration","scope":54847,"src":"1414:25:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54842,"name":"address","nodeType":"ElementaryTypeName","src":"1414:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":54845,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"1449:6:78","nodeType":"VariableDeclaration","scope":54847,"src":"1441:14:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54844,"name":"uint256","nodeType":"ElementaryTypeName","src":"1441:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1413:43:78"}},{"id":54850,"nodeType":"VariableDeclaration","src":"1494:57:78","nodes":[],"constant":true,"functionSelector":"fbae0ade","mutability":"constant","name":"MINIMUM_ESCROW_AMOUNT","nameLocation":"1518:21:78","scope":55411,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54848,"name":"uint256","nodeType":"ElementaryTypeName","src":"1494:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"302e31","id":54849,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1542:9:78","subdenomination":"ether","typeDescriptions":{"typeIdentifier":"t_rational_100000000000000000_by_1","typeString":"int_const 100000000000000000"},"value":"0.1"},"visibility":"public"},{"id":54852,"nodeType":"VariableDeclaration","src":"1557:36:78","nodes":[],"baseFunctions":[60210],"constant":false,"functionSelector":"bec070d6","mutability":"mutable","name":"stabilizerNFTContract","nameLocation":"1572:21:78","scope":55411,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54851,"name":"address","nodeType":"ElementaryTypeName","src":"1557:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":54854,"nodeType":"VariableDeclaration","src":"1642:22:78","nodes":[],"constant":false,"functionSelector":"17d70f7c","mutability":"mutable","name":"tokenId","nameLocation":"1657:7:78","scope":55411,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54853,"name":"uint256","nodeType":"ElementaryTypeName","src":"1642:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":54856,"nodeType":"VariableDeclaration","src":"1809:20:78","nodes":[],"baseFunctions":[60220],"constant":false,"functionSelector":"c1fe3e48","mutability":"mutable","name":"stETH","nameLocation":"1824:5:78","scope":55411,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54855,"name":"address","nodeType":"ElementaryTypeName","src":"1809:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":54858,"nodeType":"VariableDeclaration","src":"1892:19:78","nodes":[],"baseFunctions":[60225],"constant":false,"functionSelector":"23509a2d","mutability":"mutable","name":"lido","nameLocation":"1907:4:78","scope":55411,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54857,"name":"address","nodeType":"ElementaryTypeName","src":"1892:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":54860,"nodeType":"VariableDeclaration","src":"1981:38:78","nodes":[],"constant":false,"functionSelector":"16f637ff","mutability":"mutable","name":"unallocatedStETHBalance","nameLocation":"1996:23:78","scope":55411,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54859,"name":"uint256","nodeType":"ElementaryTypeName","src":"1981:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":54873,"nodeType":"ModifierDefinition","src":"2095:135:78","nodes":[],"body":{"id":54872,"nodeType":"Block","src":"2124:106:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":54865,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":54862,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2138:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2142:6:78","memberName":"sender","nodeType":"MemberAccess","src":"2138:10:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":54864,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54852,"src":"2152:21:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2138:35:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54870,"nodeType":"IfStatement","src":"2134:78:78","trueBody":{"expression":{"arguments":[{"hexValue":"43616c6c6572206973206e6f742053746162696c697a65724e4654","id":54867,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2182:29:78","typeDescriptions":{"typeIdentifier":"t_stringliteral_11c6ad4836ca3af14d2bc7f2a2ea2184915f6b2542b2a7f77f00ad05343d9d37","typeString":"literal_string \"Caller is not StabilizerNFT\""},"value":"Caller is not StabilizerNFT"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_11c6ad4836ca3af14d2bc7f2a2ea2184915f6b2542b2a7f77f00ad05343d9d37","typeString":"literal_string \"Caller is not StabilizerNFT\""}],"id":54866,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"2175:6:78","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":54868,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2175:37:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":54869,"nodeType":"ExpressionStatement","src":"2175:37:78"}},{"id":54871,"nodeType":"PlaceholderStatement","src":"2222:1:78"}]},"name":"onlyStabilizerNFT","nameLocation":"2104:17:78","parameters":{"id":54861,"nodeType":"ParameterList","parameters":[],"src":"2121:2:78"},"virtual":false,"visibility":"internal"},{"id":54881,"nodeType":"FunctionDefinition","src":"2289:97:78","nodes":[],"body":{"id":54880,"nodeType":"Block","src":"2303:83:78","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":54877,"name":"_disableInitializers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39677,"src":"2313:20:78","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":54878,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2313:22:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":54879,"nodeType":"ExpressionStatement","src":"2313:22:78"}]},"documentation":{"id":54874,"nodeType":"StructuredDocumentation","src":"2236:48:78","text":"@custom:oz-upgrades-unsafe-allow constructor"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":54875,"nodeType":"ParameterList","parameters":[],"src":"2300:2:78"},"returnParameters":{"id":54876,"nodeType":"ParameterList","parameters":[],"src":"2303:0:78"},"scope":55411,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":54937,"nodeType":"FunctionDefinition","src":"2871:1308:78","nodes":[],"body":{"id":54936,"nodeType":"Block","src":"3144:1035:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":54914,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":54907,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":54900,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54895,"name":"_stabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54884,"src":"3219:14:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":54898,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3245:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":54897,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3237:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54896,"name":"address","nodeType":"ElementaryTypeName","src":"3237:7:78","typeDescriptions":{}}},"id":54899,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3237:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3219:28:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":54906,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54901,"name":"_stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54888,"src":"3251:6:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":54904,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3269:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":54903,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3261:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54902,"name":"address","nodeType":"ElementaryTypeName","src":"3261:7:78","typeDescriptions":{}}},"id":54905,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3261:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3251:20:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3219:52:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":54913,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54908,"name":"_lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54890,"src":"3275:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":54911,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3292:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":54910,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3284:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54909,"name":"address","nodeType":"ElementaryTypeName","src":"3284:7:78","typeDescriptions":{}}},"id":54912,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3284:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3275:19:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3219:75:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54919,"nodeType":"IfStatement","src":"3215:126:78","trueBody":{"id":54918,"nodeType":"Block","src":"3296:45:78","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54915,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54813,"src":"3317:11:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":54916,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3317:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54917,"nodeType":"RevertStatement","src":"3310:20:78"}]}},{"expression":{"id":54922,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":54920,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54852,"src":"3520:21:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":54921,"name":"_stabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54884,"src":"3544:14:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3520:38:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":54923,"nodeType":"ExpressionStatement","src":"3520:38:78"},{"expression":{"id":54926,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":54924,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54854,"src":"3568:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":54925,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54886,"src":"3578:8:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3568:18:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":54927,"nodeType":"ExpressionStatement","src":"3568:18:78"},{"expression":{"id":54930,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":54928,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54856,"src":"3653:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":54929,"name":"_stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54888,"src":"3661:6:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3653:14:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":54931,"nodeType":"ExpressionStatement","src":"3653:14:78"},{"expression":{"id":54934,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":54932,"name":"lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54858,"src":"3677:4:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":54933,"name":"_lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54890,"src":"3684:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3677:12:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":54935,"nodeType":"ExpressionStatement","src":"3677:12:78"}]},"documentation":{"id":54882,"nodeType":"StructuredDocumentation","src":"2419:447:78","text":" @notice Initializes the escrow contract state.\n @param _stabilizerNFT The address of the controlling StabilizerNFT contract.\n @param _tokenId The ID of the Stabilizer NFT this escrow is associated with.\n @param _stETH The address of the stETH token.\n @param _lido The address of the Lido staking pool.\n @dev Sets immutable addresses and the token ID. Meant to be called once after clone deployment."},"functionSelector":"358394d8","implemented":true,"kind":"function","modifiers":[{"id":54893,"kind":"modifierInvocation","modifierName":{"id":54892,"name":"initializer","nameLocations":["3132:11:78"],"nodeType":"IdentifierPath","referencedDeclaration":39563,"src":"3132:11:78"},"nodeType":"ModifierInvocation","src":"3132:11:78"}],"name":"initialize","nameLocation":"2880:10:78","parameters":{"id":54891,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54884,"mutability":"mutable","name":"_stabilizerNFT","nameLocation":"2940:14:78","nodeType":"VariableDeclaration","scope":54937,"src":"2932:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54883,"name":"address","nodeType":"ElementaryTypeName","src":"2932:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":54886,"mutability":"mutable","name":"_tokenId","nameLocation":"2972:8:78","nodeType":"VariableDeclaration","scope":54937,"src":"2964:16:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54885,"name":"uint256","nodeType":"ElementaryTypeName","src":"2964:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":54888,"mutability":"mutable","name":"_stETH","nameLocation":"3087:6:78","nodeType":"VariableDeclaration","scope":54937,"src":"3079:14:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54887,"name":"address","nodeType":"ElementaryTypeName","src":"3079:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":54890,"mutability":"mutable","name":"_lido","nameLocation":"3111:5:78","nodeType":"VariableDeclaration","scope":54937,"src":"3103:13:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54889,"name":"address","nodeType":"ElementaryTypeName","src":"3103:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2890:232:78"},"returnParameters":{"id":54894,"nodeType":"ParameterList","parameters":[],"src":"3144:0:78"},"scope":55411,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":55021,"nodeType":"FunctionDefinition","src":"4392:957:78","nodes":[],"body":{"id":55020,"nodeType":"Block","src":"4446:903:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54946,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":54943,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4460:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54944,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4464:5:78","memberName":"value","nodeType":"MemberAccess","src":"4460:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":54945,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4473:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4460:14:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54950,"nodeType":"IfStatement","src":"4456:39:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54947,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54815,"src":"4483:10:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":54948,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4483:12:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54949,"nodeType":"RevertStatement","src":"4476:19:78"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54956,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54954,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54951,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"4607:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":54952,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4633:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54953,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4637:5:78","memberName":"value","nodeType":"MemberAccess","src":"4633:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4607:35:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":54955,"name":"MINIMUM_ESCROW_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54850,"src":"4645:21:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4607:59:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54965,"nodeType":"IfStatement","src":"4603:180:78","trueBody":{"id":54964,"nodeType":"Block","src":"4668:115:78","statements":[{"errorCall":{"arguments":[{"id":54958,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"4714:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":54959,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4739:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54960,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4743:5:78","memberName":"value","nodeType":"MemberAccess","src":"4739:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":54961,"name":"MINIMUM_ESCROW_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54850,"src":"4750:21:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":54957,"name":"InsufficientEscrowAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54823,"src":"4689:24:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (uint256,uint256,uint256) pure returns (error)"}},"id":54962,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4689:83:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54963,"nodeType":"RevertStatement","src":"4682:90:78"}]}},{"assignments":[54967],"declarations":[{"constant":false,"id":54967,"mutability":"mutable","name":"stEthReceived","nameLocation":"4860:13:78","nodeType":"VariableDeclaration","scope":55020,"src":"4852:21:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54966,"name":"uint256","nodeType":"ElementaryTypeName","src":"4852:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":54968,"nodeType":"VariableDeclarationStatement","src":"4852:21:78"},{"clauses":[{"block":{"id":54988,"nodeType":"Block","src":"4963:49:78","statements":[{"expression":{"id":54986,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":54984,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54967,"src":"4977:13:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":54985,"name":"received","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54982,"src":"4993:8:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4977:24:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":54987,"nodeType":"ExpressionStatement","src":"4977:24:78"}]},"errorName":"","id":54989,"nodeType":"TryCatchClause","parameters":{"id":54983,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54982,"mutability":"mutable","name":"received","nameLocation":"4953:8:78","nodeType":"VariableDeclaration","scope":54989,"src":"4945:16:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54981,"name":"uint256","nodeType":"ElementaryTypeName","src":"4945:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4944:18:78"},"src":"4936:76:78"},{"block":{"id":54993,"nodeType":"Block","src":"5019:47:78","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54990,"name":"DepositFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54833,"src":"5040:13:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":54991,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5040:15:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54992,"nodeType":"RevertStatement","src":"5033:22:78"}]},"errorName":"","id":54994,"nodeType":"TryCatchClause","src":"5013:53:78"}],"externalCall":{"arguments":[{"arguments":[{"hexValue":"30","id":54978,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4932:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":54977,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4924:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54976,"name":"address","nodeType":"ElementaryTypeName","src":"4924:7:78","typeDescriptions":{}}},"id":54979,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4924:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":54970,"name":"lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54858,"src":"4893:4:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":54969,"name":"ILido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59864,"src":"4887:5:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ILido_$59864_$","typeString":"type(contract ILido)"}},"id":54971,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4887:11:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ILido_$59864","typeString":"contract ILido"}},"id":54972,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4899:6:78","memberName":"submit","nodeType":"MemberAccess","referencedDeclaration":59863,"src":"4887:18:78","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$","typeString":"function (address) payable external returns (uint256)"}},"id":54975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"expression":{"id":54973,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4913:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54974,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4917:5:78","memberName":"value","nodeType":"MemberAccess","src":"4913:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"4887:36:78","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$value","typeString":"function (address) payable external returns (uint256)"}},"id":54980,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4887:48:78","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":54995,"nodeType":"TryStatement","src":"4883:183:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54998,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54996,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54967,"src":"5079:13:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":54997,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5096:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5079:18:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55002,"nodeType":"IfStatement","src":"5075:46:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54999,"name":"DepositFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54833,"src":"5106:13:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55000,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5106:15:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55001,"nodeType":"RevertStatement","src":"5099:22:78"}},{"expression":{"id":55005,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":55003,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"5165:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":55004,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54967,"src":"5192:13:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5165:40:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":55006,"nodeType":"ExpressionStatement","src":"5165:40:78"},{"eventCall":{"arguments":[{"expression":{"id":55008,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5237:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":55009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5241:5:78","memberName":"value","nodeType":"MemberAccess","src":"5237:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55007,"name":"DepositReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60193,"src":"5221:15:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":55010,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5221:26:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55011,"nodeType":"EmitStatement","src":"5216:31:78"},{"eventCall":{"arguments":[{"arguments":[{"id":55015,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54967,"src":"5302:13:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55014,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5295:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":55013,"name":"int256","nodeType":"ElementaryTypeName","src":"5295:6:78","typeDescriptions":{}}},"id":55016,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5295:21:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":55017,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"5318:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55012,"name":"BalanceUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54841,"src":"5280:14:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_uint256_$returns$__$","typeString":"function (int256,uint256)"}},"id":55018,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5280:62:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55019,"nodeType":"EmitStatement","src":"5275:67:78"}]},"baseFunctions":[60228],"documentation":{"id":54938,"nodeType":"StructuredDocumentation","src":"4220:167:78","text":" @notice Receives additional ETH deposits forwarded by StabilizerNFT.\n @dev Stakes the received ETH into stETH. Callable only by StabilizerNFT."},"functionSelector":"d0e30db0","implemented":true,"kind":"function","modifiers":[{"id":54941,"kind":"modifierInvocation","modifierName":{"id":54940,"name":"onlyStabilizerNFT","nameLocations":["4428:17:78"],"nodeType":"IdentifierPath","referencedDeclaration":54873,"src":"4428:17:78"},"nodeType":"ModifierInvocation","src":"4428:17:78"}],"name":"deposit","nameLocation":"4401:7:78","parameters":{"id":54939,"nodeType":"ParameterList","parameters":[],"src":"4408:2:78"},"returnParameters":{"id":54942,"nodeType":"ParameterList","parameters":[],"src":"4446:0:78"},"scope":55411,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":55079,"nodeType":"FunctionDefinition","src":"5653:571:78","nodes":[],"body":{"id":55078,"nodeType":"Block","src":"5751:473:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55033,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55031,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55024,"src":"5765:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":55032,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5775:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5765:11:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55037,"nodeType":"IfStatement","src":"5761:36:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55034,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54815,"src":"5785:10:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55035,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5785:12:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55036,"nodeType":"RevertStatement","src":"5778:19:78"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":55043,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55038,"name":"positionNFTAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55026,"src":"5811:18:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":55041,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5841:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":55040,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5833:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55039,"name":"address","nodeType":"ElementaryTypeName","src":"5833:7:78","typeDescriptions":{}}},"id":55042,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5833:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5811:32:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55047,"nodeType":"IfStatement","src":"5807:58:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55044,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54813,"src":"5852:11:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55045,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5852:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55046,"nodeType":"RevertStatement","src":"5845:20:78"}},{"assignments":[55049],"declarations":[{"constant":false,"id":55049,"mutability":"mutable","name":"currentBalance","nameLocation":"5884:14:78","nodeType":"VariableDeclaration","scope":55078,"src":"5876:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55048,"name":"uint256","nodeType":"ElementaryTypeName","src":"5876:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55051,"initialValue":{"id":55050,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"5901:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5876:48:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55054,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55052,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55024,"src":"5938:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":55053,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55049,"src":"5947:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5938:23:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55064,"nodeType":"IfStatement","src":"5934:99:78","trueBody":{"errorCall":{"arguments":[{"arguments":[{"id":55058,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"6003:4:78","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$55411","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$55411","typeString":"contract StabilizerEscrow"}],"id":55057,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5995:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55056,"name":"address","nodeType":"ElementaryTypeName","src":"5995:7:78","typeDescriptions":{}}},"id":55059,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5995:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55060,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55049,"src":"6010:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":55061,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55024,"src":"6026:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55055,"name":"ERC20InsufficientBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42310,"src":"5970:24:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (address,uint256,uint256) pure returns (error)"}},"id":55062,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5970:63:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55063,"nodeType":"RevertStatement","src":"5963:70:78"}},{"expression":{"arguments":[{"id":55069,"name":"positionNFTAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55026,"src":"6115:18:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55070,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55024,"src":"6135:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":55066,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54856,"src":"6100:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55065,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"6093:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":55067,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6093:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":55068,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6107:7:78","memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":43792,"src":"6093:21:78","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":55071,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6093:49:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55072,"nodeType":"ExpressionStatement","src":"6093:49:78"},{"eventCall":{"arguments":[{"id":55074,"name":"positionNFTAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55026,"src":"6176:18:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55075,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55024,"src":"6196:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55073,"name":"AllocationApproved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60199,"src":"6157:18:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":55076,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6157:46:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55077,"nodeType":"EmitStatement","src":"6152:51:78"}]},"baseFunctions":[60235],"documentation":{"id":55022,"nodeType":"StructuredDocumentation","src":"5355:293:78","text":" @notice Approves the PositionNFT contract to spend stETH for allocation.\n @param amount The amount of stETH to approve.\n @param positionNFTAddress The address of the PositionNFT contract.\n @dev Callable only by StabilizerNFT. Checks for sufficient balance."},"functionSelector":"4f68ae75","implemented":true,"kind":"function","modifiers":[{"id":55029,"kind":"modifierInvocation","modifierName":{"id":55028,"name":"onlyStabilizerNFT","nameLocations":["5733:17:78"],"nodeType":"IdentifierPath","referencedDeclaration":54873,"src":"5733:17:78"},"nodeType":"ModifierInvocation","src":"5733:17:78"}],"name":"approveAllocation","nameLocation":"5662:17:78","parameters":{"id":55027,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55024,"mutability":"mutable","name":"amount","nameLocation":"5688:6:78","nodeType":"VariableDeclaration","scope":55079,"src":"5680:14:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55023,"name":"uint256","nodeType":"ElementaryTypeName","src":"5680:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":55026,"mutability":"mutable","name":"positionNFTAddress","nameLocation":"5704:18:78","nodeType":"VariableDeclaration","scope":55079,"src":"5696:26:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":55025,"name":"address","nodeType":"ElementaryTypeName","src":"5696:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5679:44:78"},"returnParameters":{"id":55030,"nodeType":"ParameterList","parameters":[],"src":"5751:0:78"},"scope":55411,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":55183,"nodeType":"FunctionDefinition","src":"6604:1263:78","nodes":[],"body":{"id":55182,"nodeType":"Block","src":"6676:1191:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55089,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55087,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55082,"src":"6690:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":55088,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6700:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6690:11:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55093,"nodeType":"IfStatement","src":"6686:36:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55090,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54815,"src":"6710:10:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55091,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6710:12:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55092,"nodeType":"RevertStatement","src":"6703:19:78"}},{"assignments":[55095],"declarations":[{"constant":false,"id":55095,"mutability":"mutable","name":"currentBalance","nameLocation":"6740:14:78","nodeType":"VariableDeclaration","scope":55182,"src":"6732:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55094,"name":"uint256","nodeType":"ElementaryTypeName","src":"6732:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55097,"initialValue":{"id":55096,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"6757:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6732:48:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55098,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55082,"src":"6794:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":55099,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55095,"src":"6803:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6794:23:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55110,"nodeType":"IfStatement","src":"6790:99:78","trueBody":{"errorCall":{"arguments":[{"arguments":[{"id":55104,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"6859:4:78","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$55411","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$55411","typeString":"contract StabilizerEscrow"}],"id":55103,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6851:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55102,"name":"address","nodeType":"ElementaryTypeName","src":"6851:7:78","typeDescriptions":{}}},"id":55105,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6851:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55106,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55095,"src":"6866:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":55107,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55082,"src":"6882:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55101,"name":"ERC20InsufficientBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42310,"src":"6826:24:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (address,uint256,uint256) pure returns (error)"}},"id":55108,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6826:63:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55109,"nodeType":"RevertStatement","src":"6819:70:78"}},{"assignments":[55112],"declarations":[{"constant":false,"id":55112,"mutability":"mutable","name":"remainingBalance","nameLocation":"6966:16:78","nodeType":"VariableDeclaration","scope":55182,"src":"6958:24:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55111,"name":"uint256","nodeType":"ElementaryTypeName","src":"6958:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55116,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55115,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55113,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55095,"src":"6985:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":55114,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55082,"src":"7002:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6985:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6958:50:78"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":55123,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55119,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55117,"name":"remainingBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55112,"src":"7022:16:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":55118,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7041:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7022:20:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55122,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55120,"name":"remainingBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55112,"src":"7046:16:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":55121,"name":"MINIMUM_ESCROW_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54850,"src":"7065:21:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7046:40:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7022:64:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55128,"nodeType":"IfStatement","src":"7018:128:78","trueBody":{"id":55127,"nodeType":"Block","src":"7088:58:78","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55124,"name":"WithdrawalWouldLeaveDust","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54825,"src":"7109:24:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55125,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7109:26:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55126,"nodeType":"RevertStatement","src":"7102:33:78"}]}},{"assignments":[55130],"declarations":[{"constant":false,"id":55130,"mutability":"mutable","name":"currentOwner","nameLocation":"7256:12:78","nodeType":"VariableDeclaration","scope":55182,"src":"7248:20:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":55129,"name":"address","nodeType":"ElementaryTypeName","src":"7248:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":55137,"initialValue":{"arguments":[{"id":55135,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54854,"src":"7310:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":55132,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54852,"src":"7279:21:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55131,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44138,"src":"7271:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$44138_$","typeString":"type(contract IERC721)"}},"id":55133,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7271:30:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$44138","typeString":"contract IERC721"}},"id":55134,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7302:7:78","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":44071,"src":"7271:38:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":55136,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7271:47:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"7248:70:78"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":55143,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55138,"name":"currentOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55130,"src":"7354:12:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":55141,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7378:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":55140,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7370:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55139,"name":"address","nodeType":"ElementaryTypeName","src":"7370:7:78","typeDescriptions":{}}},"id":55142,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7370:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7354:26:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55147,"nodeType":"IfStatement","src":"7350:52:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55144,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54813,"src":"7389:11:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55145,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7389:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55146,"nodeType":"RevertStatement","src":"7382:20:78"}},{"assignments":[55149],"declarations":[{"constant":false,"id":55149,"mutability":"mutable","name":"success","nameLocation":"7502:7:78","nodeType":"VariableDeclaration","scope":55182,"src":"7497:12:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":55148,"name":"bool","nodeType":"ElementaryTypeName","src":"7497:4:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":55157,"initialValue":{"arguments":[{"id":55154,"name":"currentOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55130,"src":"7535:12:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55155,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55082,"src":"7549:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":55151,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54856,"src":"7519:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55150,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"7512:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":55152,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7512:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":55153,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7526:8:78","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":43772,"src":"7512:22:78","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":55156,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7512:44:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"7497:59:78"},{"condition":{"id":55159,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"7570:8:78","subExpression":{"id":55158,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55149,"src":"7571:7:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55163,"nodeType":"IfStatement","src":"7566:37:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55160,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54835,"src":"7587:14:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55161,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7587:16:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55162,"nodeType":"RevertStatement","src":"7580:23:78"}},{"expression":{"id":55166,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":55164,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"7614:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":55165,"name":"remainingBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55112,"src":"7640:16:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7614:42:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":55167,"nodeType":"ExpressionStatement","src":"7614:42:78"},{"eventCall":{"arguments":[{"id":55169,"name":"currentOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55130,"src":"7768:12:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55170,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55082,"src":"7782:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55168,"name":"WithdrawalCompleted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60205,"src":"7748:19:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":55171,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7748:41:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55172,"nodeType":"EmitStatement","src":"7743:46:78"},{"eventCall":{"arguments":[{"id":55178,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"7819:15:78","subExpression":{"arguments":[{"id":55176,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55082,"src":"7827:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55175,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7820:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":55174,"name":"int256","nodeType":"ElementaryTypeName","src":"7820:6:78","typeDescriptions":{}}},"id":55177,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7820:14:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":55179,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"7836:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55173,"name":"BalanceUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54841,"src":"7804:14:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_uint256_$returns$__$","typeString":"function (int256,uint256)"}},"id":55180,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7804:56:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55181,"nodeType":"EmitStatement","src":"7799:61:78"}]},"baseFunctions":[60240],"documentation":{"id":55080,"nodeType":"StructuredDocumentation","src":"6316:283:78","text":" @notice Withdraws unallocated stETH to the current owner of the associated Stabilizer NFT.\n @param amount The amount of stETH to withdraw.\n @dev Callable only by StabilizerNFT. Uses stored `tokenId` to fetch current owner. Checks against total balance."},"functionSelector":"a9015400","implemented":true,"kind":"function","modifiers":[{"id":55085,"kind":"modifierInvocation","modifierName":{"id":55084,"name":"onlyStabilizerNFT","nameLocations":["6658:17:78"],"nodeType":"IdentifierPath","referencedDeclaration":54873,"src":"6658:17:78"},"nodeType":"ModifierInvocation","src":"6658:17:78"}],"name":"withdrawUnallocated","nameLocation":"6613:19:78","parameters":{"id":55083,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55082,"mutability":"mutable","name":"amount","nameLocation":"6641:6:78","nodeType":"VariableDeclaration","scope":55183,"src":"6633:14:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55081,"name":"uint256","nodeType":"ElementaryTypeName","src":"6633:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6632:16:78"},"returnParameters":{"id":55086,"nodeType":"ParameterList","parameters":[],"src":"6676:0:78"},"scope":55411,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":55193,"nodeType":"FunctionDefinition","src":"8153:116:78","nodes":[],"body":{"id":55192,"nodeType":"Block","src":"8222:47:78","nodes":[],"statements":[{"expression":{"id":55190,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"8239:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":55189,"id":55191,"nodeType":"Return","src":"8232:30:78"}]},"baseFunctions":[60246],"documentation":{"id":55184,"nodeType":"StructuredDocumentation","src":"7904:244:78","text":" @notice Returns the current stETH balance of this contract.\n @dev Renamed from the previous logic which subtracted allocated amount. Now just returns total balance.\n @return The amount of stETH held by the escrow."},"functionSelector":"ec60b9ab","implemented":true,"kind":"function","modifiers":[],"name":"unallocatedStETH","nameLocation":"8162:16:78","overrides":{"id":55186,"nodeType":"OverrideSpecifier","overrides":[],"src":"8195:8:78"},"parameters":{"id":55185,"nodeType":"ParameterList","parameters":[],"src":"8178:2:78"},"returnParameters":{"id":55189,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55188,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":55193,"src":"8213:7:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55187,"name":"uint256","nodeType":"ElementaryTypeName","src":"8213:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8212:9:78"},"scope":55411,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":55254,"nodeType":"FunctionDefinition","src":"8607:536:78","nodes":[],"body":{"id":55253,"nodeType":"Block","src":"8671:472:78","nodes":[],"statements":[{"assignments":[55202],"declarations":[{"constant":false,"id":55202,"mutability":"mutable","name":"oldBalance","nameLocation":"8689:10:78","nodeType":"VariableDeclaration","scope":55253,"src":"8681:18:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55201,"name":"uint256","nodeType":"ElementaryTypeName","src":"8681:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55204,"initialValue":{"id":55203,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"8702:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8681:44:78"},{"assignments":[55206],"declarations":[{"constant":false,"id":55206,"mutability":"mutable","name":"newBalance","nameLocation":"8743:10:78","nodeType":"VariableDeclaration","scope":55253,"src":"8735:18:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55205,"name":"uint256","nodeType":"ElementaryTypeName","src":"8735:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55207,"nodeType":"VariableDeclarationStatement","src":"8735:18:78"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":55210,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55208,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55196,"src":"8767:5:78","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":55209,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8775:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8767:9:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":55242,"nodeType":"Block","src":"8849:194:78","statements":[{"assignments":[55222],"declarations":[{"constant":false,"id":55222,"mutability":"mutable","name":"amountToRemove","nameLocation":"8871:14:78","nodeType":"VariableDeclaration","scope":55242,"src":"8863:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55221,"name":"uint256","nodeType":"ElementaryTypeName","src":"8863:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55228,"initialValue":{"arguments":[{"id":55226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"8896:6:78","subExpression":{"id":55225,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55196,"src":"8897:5:78","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":55224,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8888:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":55223,"name":"uint256","nodeType":"ElementaryTypeName","src":"8888:7:78","typeDescriptions":{}}},"id":55227,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8888:15:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8863:40:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55231,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55229,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55222,"src":"8921:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":55230,"name":"oldBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55202,"src":"8938:10:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8921:27:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55235,"nodeType":"IfStatement","src":"8917:61:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55232,"name":"BalanceUpdateFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54827,"src":"8957:19:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55233,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8957:21:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55234,"nodeType":"RevertStatement","src":"8950:28:78"}},{"expression":{"id":55240,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":55236,"name":"newBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55206,"src":"8992:10:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55239,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55237,"name":"oldBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55202,"src":"9005:10:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":55238,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55222,"src":"9018:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9005:27:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8992:40:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":55241,"nodeType":"ExpressionStatement","src":"8992:40:78"}]},"id":55243,"nodeType":"IfStatement","src":"8763:280:78","trueBody":{"id":55220,"nodeType":"Block","src":"8778:65:78","statements":[{"expression":{"id":55218,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":55211,"name":"newBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55206,"src":"8792:10:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55212,"name":"oldBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55202,"src":"8805:10:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":55215,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55196,"src":"8826:5:78","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":55214,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8818:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":55213,"name":"uint256","nodeType":"ElementaryTypeName","src":"8818:7:78","typeDescriptions":{}}},"id":55216,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8818:14:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8805:27:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8792:40:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":55219,"nodeType":"ExpressionStatement","src":"8792:40:78"}]}},{"expression":{"id":55246,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":55244,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"9052:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":55245,"name":"newBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55206,"src":"9078:10:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9052:36:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":55247,"nodeType":"ExpressionStatement","src":"9052:36:78"},{"eventCall":{"arguments":[{"id":55249,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55196,"src":"9118:5:78","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":55250,"name":"newBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55206,"src":"9125:10:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55248,"name":"BalanceUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54841,"src":"9103:14:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_uint256_$returns$__$","typeString":"function (int256,uint256)"}},"id":55251,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9103:33:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55252,"nodeType":"EmitStatement","src":"9098:38:78"}]},"baseFunctions":[60251],"documentation":{"id":55194,"nodeType":"StructuredDocumentation","src":"8275:327:78","text":" @notice Updates the internal balance tracking.\n @param delta The change in balance (can be positive or negative).\n @dev Callable only by StabilizerNFT to report balance changes from stETH transfers\n      that happen outside this contract's direct control (e.g., direct deposit, allocation)."},"functionSelector":"171b0188","implemented":true,"kind":"function","modifiers":[{"id":55199,"kind":"modifierInvocation","modifierName":{"id":55198,"name":"onlyStabilizerNFT","nameLocations":["8653:17:78"],"nodeType":"IdentifierPath","referencedDeclaration":54873,"src":"8653:17:78"},"nodeType":"ModifierInvocation","src":"8653:17:78"}],"name":"updateBalance","nameLocation":"8616:13:78","parameters":{"id":55197,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55196,"mutability":"mutable","name":"delta","nameLocation":"8637:5:78","nodeType":"VariableDeclaration","scope":55254,"src":"8630:12:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":55195,"name":"int256","nodeType":"ElementaryTypeName","src":"8630:6:78","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"8629:14:78"},"returnParameters":{"id":55200,"nodeType":"ParameterList","parameters":[],"src":"8671:0:78"},"scope":55411,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":55267,"nodeType":"FunctionDefinition","src":"9149:130:78","nodes":[],"body":{"id":55266,"nodeType":"Block","src":"9208:71:78","nodes":[],"statements":[{"expression":{"arguments":[{"id":55263,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54854,"src":"9264:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":55260,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54852,"src":"9233:21:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55259,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44138,"src":"9225:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$44138_$","typeString":"type(contract IERC721)"}},"id":55261,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9225:30:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$44138","typeString":"contract IERC721"}},"id":55262,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9256:7:78","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":44071,"src":"9225:38:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":55264,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9225:47:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":55258,"id":55265,"nodeType":"Return","src":"9218:54:78"}]},"baseFunctions":[60215],"functionSelector":"7d0e9bba","implemented":true,"kind":"function","modifiers":[],"name":"stabilizerOwner","nameLocation":"9158:15:78","parameters":{"id":55255,"nodeType":"ParameterList","parameters":[],"src":"9173:2:78"},"returnParameters":{"id":55258,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55257,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":55267,"src":"9199:7:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":55256,"name":"address","nodeType":"ElementaryTypeName","src":"9199:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"9198:9:78"},"scope":55411,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":55341,"nodeType":"FunctionDefinition","src":"9690:603:78","nodes":[],"body":{"id":55340,"nodeType":"Block","src":"9783:510:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55277,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55270,"src":"9797:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":55278,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9807:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9797:11:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55283,"nodeType":"IfStatement","src":"9793:36:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55280,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54815,"src":"9817:10:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55281,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9817:12:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55282,"nodeType":"RevertStatement","src":"9810:19:78"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":55289,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55284,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55272,"src":"9843:9:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":55287,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9864:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":55286,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9856:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55285,"name":"address","nodeType":"ElementaryTypeName","src":"9856:7:78","typeDescriptions":{}}},"id":55288,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9856:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9843:23:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55293,"nodeType":"IfStatement","src":"9839:49:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55290,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54813,"src":"9875:11:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55291,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9875:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55292,"nodeType":"RevertStatement","src":"9868:20:78"}},{"assignments":[55295],"declarations":[{"constant":false,"id":55295,"mutability":"mutable","name":"currentBalance","nameLocation":"9907:14:78","nodeType":"VariableDeclaration","scope":55340,"src":"9899:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55294,"name":"uint256","nodeType":"ElementaryTypeName","src":"9899:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55297,"initialValue":{"id":55296,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"9924:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9899:48:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55300,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55298,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55270,"src":"9961:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":55299,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55295,"src":"9970:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9961:23:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55310,"nodeType":"IfStatement","src":"9957:99:78","trueBody":{"errorCall":{"arguments":[{"arguments":[{"id":55304,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"10026:4:78","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$55411","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$55411","typeString":"contract StabilizerEscrow"}],"id":55303,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10018:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55302,"name":"address","nodeType":"ElementaryTypeName","src":"10018:7:78","typeDescriptions":{}}},"id":55305,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10018:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55306,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55295,"src":"10033:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":55307,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55270,"src":"10049:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55301,"name":"ERC20InsufficientBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42310,"src":"9993:24:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (address,uint256,uint256) pure returns (error)"}},"id":55308,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9993:63:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55309,"nodeType":"RevertStatement","src":"9986:70:78"}},{"assignments":[55312],"declarations":[{"constant":false,"id":55312,"mutability":"mutable","name":"success","nameLocation":"10072:7:78","nodeType":"VariableDeclaration","scope":55340,"src":"10067:12:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":55311,"name":"bool","nodeType":"ElementaryTypeName","src":"10067:4:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":55320,"initialValue":{"arguments":[{"id":55317,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55272,"src":"10105:9:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55318,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55270,"src":"10116:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":55314,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54856,"src":"10089:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55313,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"10082:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":55315,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10082:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":55316,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10096:8:78","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":43772,"src":"10082:22:78","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":55319,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10082:41:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"10067:56:78"},{"condition":{"id":55322,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"10137:8:78","subExpression":{"id":55321,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55312,"src":"10138:7:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55326,"nodeType":"IfStatement","src":"10133:37:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55323,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54835,"src":"10154:14:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55324,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10154:16:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55325,"nodeType":"RevertStatement","src":"10147:23:78"}},{"expression":{"id":55329,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":55327,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"10181:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"id":55328,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55270,"src":"10208:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10181:33:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":55330,"nodeType":"ExpressionStatement","src":"10181:33:78"},{"eventCall":{"arguments":[{"id":55336,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"10245:15:78","subExpression":{"arguments":[{"id":55334,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55270,"src":"10253:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55333,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10246:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":55332,"name":"int256","nodeType":"ElementaryTypeName","src":"10246:6:78","typeDescriptions":{}}},"id":55335,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10246:14:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":55337,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"10262:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55331,"name":"BalanceUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54841,"src":"10230:14:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_uint256_$returns$__$","typeString":"function (int256,uint256)"}},"id":55338,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10230:56:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55339,"nodeType":"EmitStatement","src":"10225:61:78"}]},"documentation":{"id":55268,"nodeType":"StructuredDocumentation","src":"9285:400:78","text":" @notice Withdraws stETH from this escrow and sends it to a recipient (e.g., PositionEscrow).\n @param amount The amount of stETH to withdraw.\n @param recipient The address to send the stETH to.\n @dev Callable only by StabilizerNFT. This is a single-call alternative to approve/transferFrom\n      to reduce bytecode size in the calling StabilizerNFT contract."},"functionSelector":"7d810c2a","implemented":true,"kind":"function","modifiers":[{"id":55275,"kind":"modifierInvocation","modifierName":{"id":55274,"name":"onlyStabilizerNFT","nameLocations":["9765:17:78"],"nodeType":"IdentifierPath","referencedDeclaration":54873,"src":"9765:17:78"},"nodeType":"ModifierInvocation","src":"9765:17:78"}],"name":"withdrawForAllocation","nameLocation":"9699:21:78","parameters":{"id":55273,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55270,"mutability":"mutable","name":"amount","nameLocation":"9729:6:78","nodeType":"VariableDeclaration","scope":55341,"src":"9721:14:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55269,"name":"uint256","nodeType":"ElementaryTypeName","src":"9721:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":55272,"mutability":"mutable","name":"recipient","nameLocation":"9745:9:78","nodeType":"VariableDeclaration","scope":55341,"src":"9737:17:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":55271,"name":"address","nodeType":"ElementaryTypeName","src":"9737:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"9720:35:78"},"returnParameters":{"id":55276,"nodeType":"ParameterList","parameters":[],"src":"9783:0:78"},"scope":55411,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":55410,"nodeType":"FunctionDefinition","src":"10685:626:78","nodes":[],"body":{"id":55409,"nodeType":"Block","src":"10732:579:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":55353,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":55345,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"10746:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":55346,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10750:6:78","memberName":"sender","nodeType":"MemberAccess","src":"10746:10:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"id":55351,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54854,"src":"10799:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":55348,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54852,"src":"10768:21:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55347,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44138,"src":"10760:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$44138_$","typeString":"type(contract IERC721)"}},"id":55349,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10760:30:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$44138","typeString":"contract IERC721"}},"id":55350,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10791:7:78","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":44071,"src":"10760:38:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":55352,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10760:47:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10746:61:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55358,"nodeType":"IfStatement","src":"10742:112:78","trueBody":{"id":55357,"nodeType":"Block","src":"10809:45:78","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55354,"name":"NotNFTOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54829,"src":"10830:11:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55355,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10830:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55356,"nodeType":"RevertStatement","src":"10823:20:78"}]}},{"assignments":[55360],"declarations":[{"constant":false,"id":55360,"mutability":"mutable","name":"physicalBalance","nameLocation":"10872:15:78","nodeType":"VariableDeclaration","scope":55409,"src":"10864:23:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55359,"name":"uint256","nodeType":"ElementaryTypeName","src":"10864:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55370,"initialValue":{"arguments":[{"arguments":[{"id":55367,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"10922:4:78","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$55411","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$55411","typeString":"contract StabilizerEscrow"}],"id":55366,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10914:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55365,"name":"address","nodeType":"ElementaryTypeName","src":"10914:7:78","typeDescriptions":{}}},"id":55368,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10914:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":55362,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54856,"src":"10897:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55361,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"10890:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":55363,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10890:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":55364,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10904:9:78","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":43762,"src":"10890:23:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":55369,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10890:38:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10864:64:78"},{"assignments":[55372],"declarations":[{"constant":false,"id":55372,"mutability":"mutable","name":"trackedBalance","nameLocation":"10946:14:78","nodeType":"VariableDeclaration","scope":55409,"src":"10938:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55371,"name":"uint256","nodeType":"ElementaryTypeName","src":"10938:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55374,"initialValue":{"id":55373,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54860,"src":"10963:23:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10938:48:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55377,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55375,"name":"physicalBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55360,"src":"11001:15:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":55376,"name":"trackedBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55372,"src":"11019:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11001:32:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55408,"nodeType":"IfStatement","src":"10997:308:78","trueBody":{"id":55407,"nodeType":"Block","src":"11035:270:78","statements":[{"assignments":[55379],"declarations":[{"constant":false,"id":55379,"mutability":"mutable","name":"excessAmount","nameLocation":"11057:12:78","nodeType":"VariableDeclaration","scope":55407,"src":"11049:20:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55378,"name":"uint256","nodeType":"ElementaryTypeName","src":"11049:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55383,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55382,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55380,"name":"physicalBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55360,"src":"11072:15:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":55381,"name":"trackedBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55372,"src":"11090:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11072:32:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11049:55:78"},{"assignments":[55385],"declarations":[{"constant":false,"id":55385,"mutability":"mutable","name":"success","nameLocation":"11124:7:78","nodeType":"VariableDeclaration","scope":55407,"src":"11119:12:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":55384,"name":"bool","nodeType":"ElementaryTypeName","src":"11119:4:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":55394,"initialValue":{"arguments":[{"expression":{"id":55390,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"11157:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":55391,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11161:6:78","memberName":"sender","nodeType":"MemberAccess","src":"11157:10:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55392,"name":"excessAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55379,"src":"11169:12:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":55387,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54856,"src":"11141:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55386,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"11134:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":55388,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11134:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":55389,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11148:8:78","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":43772,"src":"11134:22:78","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":55393,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11134:48:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"11119:63:78"},{"condition":{"id":55396,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"11200:8:78","subExpression":{"id":55395,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55385,"src":"11201:7:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55400,"nodeType":"IfStatement","src":"11196:37:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55397,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54835,"src":"11217:14:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55398,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11217:16:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55399,"nodeType":"RevertStatement","src":"11210:23:78"}},{"eventCall":{"arguments":[{"expression":{"id":55402,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"11269:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":55403,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11273:6:78","memberName":"sender","nodeType":"MemberAccess","src":"11269:10:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55404,"name":"excessAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55379,"src":"11281:12:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55401,"name":"ExcessWithdrawn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54847,"src":"11253:15:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":55405,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11253:41:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55406,"nodeType":"EmitStatement","src":"11248:46:78"}]}}]},"documentation":{"id":55342,"nodeType":"StructuredDocumentation","src":"10299:381:78","text":" @notice Allows the owner of the associated Stabilizer NFT to withdraw any stETH balance\n         that is in excess of the internally tracked `unallocatedStETHBalance`.\n @dev This serves as a recovery mechanism for stETH sent directly to the escrow via `transfer`,\n      bypassing the internal accounting. It does not affect the tracked balance."},"functionSelector":"878a672c","implemented":true,"kind":"function","modifiers":[],"name":"withdrawExcessStEthBalance","nameLocation":"10694:26:78","parameters":{"id":55343,"nodeType":"ParameterList","parameters":[],"src":"10720:2:78"},"returnParameters":{"id":55344,"nodeType":"ParameterList","parameters":[],"src":"10732:0:78"},"scope":55411,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":54808,"name":"Initializable","nameLocations":["713:13:78"],"nodeType":"IdentifierPath","referencedDeclaration":39723,"src":"713:13:78"},"id":54809,"nodeType":"InheritanceSpecifier","src":"713:13:78"},{"baseName":{"id":54810,"name":"IStabilizerEscrow","nameLocations":["728:17:78"],"nodeType":"IdentifierPath","referencedDeclaration":60252,"src":"728:17:78"},"id":54811,"nodeType":"InheritanceSpecifier","src":"728:17:78"}],"canonicalName":"StabilizerEscrow","contractDependencies":[],"contractKind":"contract","documentation":{"id":54807,"nodeType":"StructuredDocumentation","src":"426:257:78","text":" @title StabilizerEscrow\n @notice A dedicated vault for a single Stabilizer NFT, holding and managing stETH collateral.\n @dev Deployed and controlled by the StabilizerNFT contract. Implements IStabilizerEscrow. Meant to be deployed as a clone."},"fullyImplemented":true,"linearizedBaseContracts":[55411,60252,42340,39723],"name":"StabilizerEscrow","nameLocation":"693:16:78","scope":55412,"usedErrors":[39472,39475,42310,42315,42320,42329,42334,42339,54813,54815,54823,54825,54827,54829,54831,54833,54835],"usedEvents":[39480,54841,54847,60193,60199,60205]}],"license":"MIT"},"id":78}