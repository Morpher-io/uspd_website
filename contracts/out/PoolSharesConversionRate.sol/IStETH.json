{"abi":[{"type":"function","name":"getPooledEthByShares","inputs":[{"name":"_sharesAmount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"getPooledEthByShares(uint256)":"7a28fb88"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.29+commit.ab55807c\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_sharesAmount\",\"type\":\"uint256\"}],\"name\":\"getPooledEthByShares\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/PoolSharesConversionRate.sol\":\"IStETH\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":chainlink/=lib/chainlink/\",\":createx/=lib/createx/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/\",\":solady/=lib/createx/lib/solady/src/\",\":uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/\",\":uniswap-v3-core/=lib/uniswap-v3-core/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/AccessControl.sol\":{\"keccak256\":\"0xd0e967bcd2ad6fd4231951e744b121e4cb428ce9d38e1c99350db6bb4a5207f7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3f454d107c23bd052c0bdb26dcdbb64ea203fd01b5dabb08f185f4c096beb0c8\",\"dweb:/ipfs/QmSNAV8u7TLKWTKmoQhWbBiyTKVZVQTqi9NvnmNSvnWn2D\"]},\"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol\":{\"keccak256\":\"0xc1c2a7f1563b77050dc6d507db9f4ada5d042c1f6a9ddbffdc49c77cdc0a1606\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fd54abb96a6156d9a761f6fdad1d3004bc48d2d4fce47f40a3f91a7ae83fc3a1\",\"dweb:/ipfs/QmUrFSGkTDJ7WaZ6qPVVe3Gn5uN2viPb7x7QQ35UX4DofX\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol\":{\"keccak256\":\"0xddce8e17e3d3f9ed818b4f4c4478a8262aab8b11ed322f1bf5ed705bb4bd97fa\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8084aa71a4cc7d2980972412a88fe4f114869faea3fefa5436431644eb5c0287\",\"dweb:/ipfs/Qmbqfs5dRdPvHVKY8kTaeyc65NdqXRQwRK7h9s5UJEhD1p\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"src/PoolSharesConversionRate.sol\":{\"keccak256\":\"0xa39ced648be463edda3cf0c45238a083e6b8cc5442e37b03f19b7d85a10b3813\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a9acf96e7324fcb8dcbc0e11a6971a66628fc3c64bbe4b4d8b6a882391ba1e75\",\"dweb:/ipfs/QmeAJFhqipGWqH2Zn9kPsEZ3QkfQ5LD2dZtJqEeCPP6QGy\"]},\"src/interfaces/IPoolSharesConversionRate.sol\":{\"keccak256\":\"0xe7ca5b72aee5158674c7cc2cb6b3f96c3a1a1ea8805a82f64262a972fa9cf141\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f0122d44d1ba0563cfe6d4aff7766a66ac6ea36799a37fdee6a908e755b08b65\",\"dweb:/ipfs/QmZiSUCLMZdeGtKzEVyofDE4vn9rpzZm3aiJ7uS6xwBtcT\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.29+commit.ab55807c"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"_sharesAmount","type":"uint256"}],"stateMutability":"view","type":"function","name":"getPooledEthByShares","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","chainlink/=lib/chainlink/","createx/=lib/createx/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/","solady/=lib/createx/lib/solady/src/","uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/","uniswap-v3-core/=lib/uniswap-v3-core/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/PoolSharesConversionRate.sol":"IStETH"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/access/AccessControl.sol":{"keccak256":"0xd0e967bcd2ad6fd4231951e744b121e4cb428ce9d38e1c99350db6bb4a5207f7","urls":["bzz-raw://3f454d107c23bd052c0bdb26dcdbb64ea203fd01b5dabb08f185f4c096beb0c8","dweb:/ipfs/QmSNAV8u7TLKWTKmoQhWbBiyTKVZVQTqi9NvnmNSvnWn2D"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol":{"keccak256":"0xc1c2a7f1563b77050dc6d507db9f4ada5d042c1f6a9ddbffdc49c77cdc0a1606","urls":["bzz-raw://fd54abb96a6156d9a761f6fdad1d3004bc48d2d4fce47f40a3f91a7ae83fc3a1","dweb:/ipfs/QmUrFSGkTDJ7WaZ6qPVVe3Gn5uN2viPb7x7QQ35UX4DofX"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol":{"keccak256":"0xddce8e17e3d3f9ed818b4f4c4478a8262aab8b11ed322f1bf5ed705bb4bd97fa","urls":["bzz-raw://8084aa71a4cc7d2980972412a88fe4f114869faea3fefa5436431644eb5c0287","dweb:/ipfs/Qmbqfs5dRdPvHVKY8kTaeyc65NdqXRQwRK7h9s5UJEhD1p"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"src/PoolSharesConversionRate.sol":{"keccak256":"0xa39ced648be463edda3cf0c45238a083e6b8cc5442e37b03f19b7d85a10b3813","urls":["bzz-raw://a9acf96e7324fcb8dcbc0e11a6971a66628fc3c64bbe4b4d8b6a882391ba1e75","dweb:/ipfs/QmeAJFhqipGWqH2Zn9kPsEZ3QkfQ5LD2dZtJqEeCPP6QGy"],"license":"MIT"},"src/interfaces/IPoolSharesConversionRate.sol":{"keccak256":"0xe7ca5b72aee5158674c7cc2cb6b3f96c3a1a1ea8805a82f64262a972fa9cf141","urls":["bzz-raw://f0122d44d1ba0563cfe6d4aff7766a66ac6ea36799a37fdee6a908e755b08b65","dweb:/ipfs/QmZiSUCLMZdeGtKzEVyofDE4vn9rpzZm3aiJ7uS6xwBtcT"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"src/PoolSharesConversionRate.sol","id":52547,"exportedSymbols":{"AccessControl":[42011],"Context":[44583],"ERC165":[47107],"IAccessControl":[42094],"IERC20":[43805],"IPoolSharesConversionRate":[59118],"IStETH":[52357],"PoolSharesConversionRate":[52546]},"nodeType":"SourceUnit","src":"32:6000:74","nodes":[{"id":52346,"nodeType":"PragmaDirective","src":"32:23:74","nodes":[],"literals":["solidity","0.8",".29"]},{"id":52347,"nodeType":"ImportDirective","src":"717:72:74","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":52547,"sourceUnit":43806,"symbolAliases":[],"unitAlias":""},{"id":52348,"nodeType":"ImportDirective","src":"790:74:74","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/AccessControl.sol","file":"../lib/openzeppelin-contracts/contracts/access/AccessControl.sol","nameLocation":"-1:-1:-1","scope":52547,"sourceUnit":42012,"symbolAliases":[],"unitAlias":""},{"id":52349,"nodeType":"ImportDirective","src":"865:52:74","nodes":[],"absolutePath":"src/interfaces/IPoolSharesConversionRate.sol","file":"./interfaces/IPoolSharesConversionRate.sol","nameLocation":"-1:-1:-1","scope":52547,"sourceUnit":59119,"symbolAliases":[],"unitAlias":""},{"id":52357,"nodeType":"ContractDefinition","src":"990:110:74","nodes":[{"id":52356,"nodeType":"FunctionDefinition","src":"1013:85:74","nodes":[],"functionSelector":"7a28fb88","implemented":false,"kind":"function","modifiers":[],"name":"getPooledEthByShares","nameLocation":"1022:20:74","parameters":{"id":52352,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52351,"mutability":"mutable","name":"_sharesAmount","nameLocation":"1051:13:74","nodeType":"VariableDeclaration","scope":52356,"src":"1043:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52350,"name":"uint256","nodeType":"ElementaryTypeName","src":"1043:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1042:23:74"},"returnParameters":{"id":52355,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52354,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52356,"src":"1089:7:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52353,"name":"uint256","nodeType":"ElementaryTypeName","src":"1089:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1088:9:74"},"scope":52357,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IStETH","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[52357],"name":"IStETH","nameLocation":"1000:6:74","scope":52547,"usedErrors":[],"usedEvents":[]},{"id":52546,"nodeType":"ContractDefinition","src":"1484:4547:74","nodes":[{"id":52365,"nodeType":"VariableDeclaration","src":"1599:44:74","nodes":[],"constant":true,"functionSelector":"68c20057","mutability":"constant","name":"MAINNET_CHAIN_ID","nameLocation":"1623:16:74","scope":52546,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52363,"name":"uint256","nodeType":"ElementaryTypeName","src":"1599:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31","id":52364,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1642:1:74","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"visibility":"public"},{"id":52368,"nodeType":"VariableDeclaration","src":"1740:30:74","nodes":[],"baseFunctions":[59117],"constant":false,"documentation":{"id":52366,"nodeType":"StructuredDocumentation","src":"1650:85:74","text":" @dev The stETH token contract being tracked (only relevant on L1)."},"functionSelector":"c1fe3e48","mutability":"immutable","name":"stETH","nameLocation":"1765:5:74","scope":52546,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52367,"name":"address","nodeType":"ElementaryTypeName","src":"1740:7:74","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":52371,"nodeType":"VariableDeclaration","src":"1960:53:74","nodes":[],"baseFunctions":[59111],"constant":false,"documentation":{"id":52369,"nodeType":"StructuredDocumentation","src":"1777:178:74","text":" @dev On L1: The initial ETH equivalent for 1e18 shares of stETH at deployment.\n      On L2: Not used for calculation; _yieldFactor is updated externally."},"functionSelector":"e8c39cb3","mutability":"immutable","name":"initialEthEquivalentPerShare","nameLocation":"1985:28:74","scope":52546,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52370,"name":"uint256","nodeType":"ElementaryTypeName","src":"1960:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":52374,"nodeType":"VariableDeclaration","src":"2222:29:74","nodes":[],"constant":false,"documentation":{"id":52372,"nodeType":"StructuredDocumentation","src":"2021:196:74","text":" @dev Stores the current yield factor.\n      On L1, this is implicitly defined by stETH's share value changes.\n      On L2, this is explicitly set by an updater role."},"mutability":"mutable","name":"_yieldFactor","nameLocation":"2239:12:74","scope":52546,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52373,"name":"uint256","nodeType":"ElementaryTypeName","src":"2222:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"id":52379,"nodeType":"VariableDeclaration","src":"2279:90:74","nodes":[],"constant":true,"functionSelector":"d5648d8c","mutability":"constant","name":"YIELD_FACTOR_UPDATER_ROLE","nameLocation":"2303:25:74","scope":52546,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":52375,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2279:7:74","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"5949454c445f464143544f525f555044415445525f524f4c45","id":52377,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2341:27:74","typeDescriptions":{"typeIdentifier":"t_stringliteral_6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f2439","typeString":"literal_string \"YIELD_FACTOR_UPDATER_ROLE\""},"value":"YIELD_FACTOR_UPDATER_ROLE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f2439","typeString":"literal_string \"YIELD_FACTOR_UPDATER_ROLE\""}],"id":52376,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"2331:9:74","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":52378,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2331:38:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":52384,"nodeType":"VariableDeclaration","src":"2468:56:74","nodes":[],"baseFunctions":[59093],"constant":true,"documentation":{"id":52380,"nodeType":"StructuredDocumentation","src":"2377:86:74","text":" @dev The precision factor used for yield calculations (e.g., 1e18)."},"functionSelector":"a42c69a9","mutability":"constant","name":"FACTOR_PRECISION","nameLocation":"2501:16:74","overrides":{"id":52382,"nodeType":"OverrideSpecifier","overrides":[],"src":"2492:8:74"},"scope":52546,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52381,"name":"uint256","nodeType":"ElementaryTypeName","src":"2468:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653138","id":52383,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2520:4:74","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"visibility":"public"},{"id":52386,"nodeType":"ErrorDefinition","src":"2553:24:74","nodes":[],"errorSelector":"afe6d043","name":"InitialRateZero","nameLocation":"2559:15:74","parameters":{"id":52385,"nodeType":"ParameterList","parameters":[],"src":"2574:2:74"}},{"id":52388,"nodeType":"ErrorDefinition","src":"2582:25:74","nodes":[],"errorSelector":"fff12314","name":"StEthAddressZero","nameLocation":"2588:16:74","parameters":{"id":52387,"nodeType":"ParameterList","parameters":[],"src":"2604:2:74"}},{"id":52390,"nodeType":"ErrorDefinition","src":"2612:38:74","nodes":[],"errorSelector":"e2f5ba25","name":"YieldFactorDecreaseNotAllowed","nameLocation":"2618:29:74","parameters":{"id":52389,"nodeType":"ParameterList","parameters":[],"src":"2647:2:74"}},{"id":52392,"nodeType":"ErrorDefinition","src":"2655:19:74","nodes":[],"errorSelector":"48e9beb7","name":"NotL2Chain","nameLocation":"2661:10:74","parameters":{"id":52391,"nodeType":"ParameterList","parameters":[],"src":"2671:2:74"}},{"id":52394,"nodeType":"ErrorDefinition","src":"2679:19:74","nodes":[],"errorSelector":"eb8949ca","name":"NotL1Chain","nameLocation":"2685:10:74","parameters":{"id":52393,"nodeType":"ParameterList","parameters":[],"src":"2695:2:74"}},{"id":52469,"nodeType":"FunctionDefinition","src":"3160:912:74","nodes":[],"body":{"id":52468,"nodeType":"Block","src":"3211:861:74","nodes":[],"statements":[{"expression":{"arguments":[{"id":52403,"name":"DEFAULT_ADMIN_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":41745,"src":"3232:18:74","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":52404,"name":"_admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52399,"src":"3252:6:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":52402,"name":"_grantRole","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":41972,"src":"3221:10:74","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$_t_address_$returns$_t_bool_$","typeString":"function (bytes32,address) returns (bool)"}},"id":52405,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3221:38:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52406,"nodeType":"ExpressionStatement","src":"3221:38:74"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":52407,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"3274:5:74","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":52408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3280:7:74","memberName":"chainid","nodeType":"MemberAccess","src":"3274:13:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":52409,"name":"MAINNET_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52365,"src":"3291:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3274:33:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":52466,"nodeType":"Block","src":"3739:327:74","statements":[{"expression":{"id":52451,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52446,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52368,"src":"3782:5:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"30","id":52449,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3798:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":52448,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3790:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":52447,"name":"address","nodeType":"ElementaryTypeName","src":"3790:7:74","typeDescriptions":{}}},"id":52450,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3790:10:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3782:18:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":52452,"nodeType":"ExpressionStatement","src":"3782:18:74"},{"expression":{"id":52455,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52453,"name":"initialEthEquivalentPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52371,"src":"3832:28:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":52454,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3863:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3832:32:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52456,"nodeType":"ExpressionStatement","src":"3832:32:74"},{"expression":{"id":52459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52457,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52374,"src":"3896:12:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52458,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52384,"src":"3911:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3896:31:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52460,"nodeType":"ExpressionStatement","src":"3896:31:74"},{"expression":{"arguments":[{"id":52462,"name":"YIELD_FACTOR_UPDATER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52379,"src":"3985:25:74","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":52463,"name":"_admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52399,"src":"4012:6:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":52461,"name":"_grantRole","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":41972,"src":"3974:10:74","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$_t_address_$returns$_t_bool_$","typeString":"function (bytes32,address) returns (bool)"}},"id":52464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3974:45:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52465,"nodeType":"ExpressionStatement","src":"3974:45:74"}]},"id":52467,"nodeType":"IfStatement","src":"3270:796:74","trueBody":{"id":52445,"nodeType":"Block","src":"3309:424:74","statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":52416,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52411,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52397,"src":"3327:13:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":52414,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3352:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":52413,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3344:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":52412,"name":"address","nodeType":"ElementaryTypeName","src":"3344:7:74","typeDescriptions":{}}},"id":52415,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3344:10:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3327:27:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52420,"nodeType":"IfStatement","src":"3323:58:74","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52417,"name":"StEthAddressZero","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52388,"src":"3363:16:74","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52418,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3363:18:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52419,"nodeType":"RevertStatement","src":"3356:25:74"}},{"expression":{"id":52423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52421,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52368,"src":"3396:5:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52422,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52397,"src":"3404:13:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3396:21:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":52424,"nodeType":"ExpressionStatement","src":"3396:21:74"},{"assignments":[52426],"declarations":[{"constant":false,"id":52426,"mutability":"mutable","name":"initialRate","nameLocation":"3440:11:74","nodeType":"VariableDeclaration","scope":52445,"src":"3432:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52425,"name":"uint256","nodeType":"ElementaryTypeName","src":"3432:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52433,"initialValue":{"arguments":[{"id":52431,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52384,"src":"3497:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":52428,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52397,"src":"3461:13:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":52427,"name":"IStETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52357,"src":"3454:6:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStETH_$52357_$","typeString":"type(contract IStETH)"}},"id":52429,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3454:21:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStETH_$52357","typeString":"contract IStETH"}},"id":52430,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3476:20:74","memberName":"getPooledEthByShares","nodeType":"MemberAccess","referencedDeclaration":52356,"src":"3454:42:74","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":52432,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3454:60:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3432:82:74"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52436,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52434,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52426,"src":"3532:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52435,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3547:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3532:16:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52440,"nodeType":"IfStatement","src":"3528:46:74","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52437,"name":"InitialRateZero","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52386,"src":"3557:15:74","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52438,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3557:17:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52439,"nodeType":"RevertStatement","src":"3550:24:74"}},{"expression":{"id":52443,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52441,"name":"initialEthEquivalentPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52371,"src":"3601:28:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52442,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52426,"src":"3632:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3601:42:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52444,"nodeType":"ExpressionStatement","src":"3601:42:74"}]}}]},"documentation":{"id":52395,"nodeType":"StructuredDocumentation","src":"2732:423:74","text":" @dev Sets up the contract based on the chain ID.\n @param _stETHAddress The address of the stETH token contract (used on L1).\n @param _admin The address to grant DEFAULT_ADMIN_ROLE and YIELD_FACTOR_UPDATER_ROLE (on L2).\n Requirements for L1 deployment:\n - `_stETHAddress` cannot be the zero address.\n - The initial call to `getPooledEthByShares` must return a non-zero value."},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":52400,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52397,"mutability":"mutable","name":"_stETHAddress","nameLocation":"3180:13:74","nodeType":"VariableDeclaration","scope":52469,"src":"3172:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52396,"name":"address","nodeType":"ElementaryTypeName","src":"3172:7:74","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52399,"mutability":"mutable","name":"_admin","nameLocation":"3203:6:74","nodeType":"VariableDeclaration","scope":52469,"src":"3195:14:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52398,"name":"address","nodeType":"ElementaryTypeName","src":"3195:7:74","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3171:39:74"},"returnParameters":{"id":52401,"nodeType":"ParameterList","parameters":[],"src":"3211:0:74"},"scope":52546,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":52513,"nodeType":"FunctionDefinition","src":"4520:633:74","nodes":[],"body":{"id":52512,"nodeType":"Block","src":"4599:554:74","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52479,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":52476,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"4613:5:74","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":52477,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4619:7:74","memberName":"chainid","nodeType":"MemberAccess","src":"4613:13:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":52478,"name":"MAINNET_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52365,"src":"4630:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4613:33:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":52510,"nodeType":"Block","src":"5050:97:74","statements":[{"expression":{"id":52508,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52374,"src":"5124:12:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52475,"id":52509,"nodeType":"Return","src":"5117:19:74"}]},"id":52511,"nodeType":"IfStatement","src":"4609:538:74","trueBody":{"id":52507,"nodeType":"Block","src":"4648:396:74","statements":[{"assignments":[52481],"declarations":[{"constant":false,"id":52481,"mutability":"mutable","name":"initialRate","nameLocation":"4670:11:74","nodeType":"VariableDeclaration","scope":52507,"src":"4662:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52480,"name":"uint256","nodeType":"ElementaryTypeName","src":"4662:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52483,"initialValue":{"id":52482,"name":"initialEthEquivalentPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52371,"src":"4684:28:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4662:50:74"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52486,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52484,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52481,"src":"4823:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52485,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4838:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4823:16:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52490,"nodeType":"IfStatement","src":"4819:46:74","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52487,"name":"InitialRateZero","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52386,"src":"4848:15:74","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52488,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4848:17:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52489,"nodeType":"RevertStatement","src":"4841:24:74"}},{"assignments":[52492],"declarations":[{"constant":false,"id":52492,"mutability":"mutable","name":"currentRate","nameLocation":"4900:11:74","nodeType":"VariableDeclaration","scope":52507,"src":"4892:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52491,"name":"uint256","nodeType":"ElementaryTypeName","src":"4892:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52499,"initialValue":{"arguments":[{"id":52497,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52384,"src":"4949:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":52494,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52368,"src":"4921:5:74","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":52493,"name":"IStETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52357,"src":"4914:6:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStETH_$52357_$","typeString":"type(contract IStETH)"}},"id":52495,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4914:13:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStETH_$52357","typeString":"contract IStETH"}},"id":52496,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4928:20:74","memberName":"getPooledEthByShares","nodeType":"MemberAccess","referencedDeclaration":52356,"src":"4914:34:74","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":52498,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4914:52:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4892:74:74"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52505,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52502,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52500,"name":"currentRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52492,"src":"4988:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":52501,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52384,"src":"5002:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4988:30:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52503,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4987:32:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":52504,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52481,"src":"5022:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4987:46:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52475,"id":52506,"nodeType":"Return","src":"4980:53:74"}]}}]},"baseFunctions":[59087],"documentation":{"id":52470,"nodeType":"StructuredDocumentation","src":"4118:397:74","text":" @notice Calculates the current yield factor based on stETH rebasing.\n @dev The factor represents the growth since the initial deposit, scaled by FACTOR_PRECISION.\n      A factor of 1 * FACTOR_PRECISION means no yield yet.\n      A factor of 1.05 * FACTOR_PRECISION means 5% yield.\n @return yieldFactor The current yield factor, scaled by FACTOR_PRECISION."},"functionSelector":"efa7fa5d","implemented":true,"kind":"function","modifiers":[],"name":"getYieldFactor","nameLocation":"4529:14:74","overrides":{"id":52472,"nodeType":"OverrideSpecifier","overrides":[],"src":"4560:8:74"},"parameters":{"id":52471,"nodeType":"ParameterList","parameters":[],"src":"4543:2:74"},"returnParameters":{"id":52475,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52474,"mutability":"mutable","name":"yieldFactor","nameLocation":"4586:11:74","nodeType":"VariableDeclaration","scope":52513,"src":"4578:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52473,"name":"uint256","nodeType":"ElementaryTypeName","src":"4578:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4577:21:74"},"scope":52546,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":52545,"nodeType":"FunctionDefinition","src":"5483:546:74","nodes":[],"body":{"id":52544,"nodeType":"Block","src":"5581:448:74","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":52522,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"5595:5:74","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":52523,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5601:7:74","memberName":"chainid","nodeType":"MemberAccess","src":"5595:13:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":52524,"name":"MAINNET_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52365,"src":"5612:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5595:33:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52530,"nodeType":"IfStatement","src":"5591:116:74","trueBody":{"id":52529,"nodeType":"Block","src":"5630:77:74","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52526,"name":"NotL2Chain","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52392,"src":"5651:10:74","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52527,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5651:12:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52528,"nodeType":"RevertStatement","src":"5644:19:74"}]}},{"assignments":[52532],"declarations":[{"constant":false,"id":52532,"mutability":"mutable","name":"oldYieldFactor","nameLocation":"5889:14:74","nodeType":"VariableDeclaration","scope":52544,"src":"5881:22:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52531,"name":"uint256","nodeType":"ElementaryTypeName","src":"5881:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52534,"initialValue":{"id":52533,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52374,"src":"5906:12:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5881:37:74"},{"expression":{"id":52537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52535,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52374,"src":"5928:12:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52536,"name":"newYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52516,"src":"5943:14:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5928:29:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52538,"nodeType":"ExpressionStatement","src":"5928:29:74"},{"eventCall":{"arguments":[{"id":52540,"name":"oldYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52532,"src":"5991:14:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52541,"name":"newYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52516,"src":"6007:14:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":52539,"name":"YieldFactorUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59099,"src":"5972:18:74","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256)"}},"id":52542,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5972:50:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52543,"nodeType":"EmitStatement","src":"5967:55:74"}]},"baseFunctions":[59105],"documentation":{"id":52514,"nodeType":"StructuredDocumentation","src":"5159:319:74","text":" @notice Updates the yield factor on L2 chains.\n @dev Callable only by addresses with YIELD_FACTOR_UPDATER_ROLE.\n      The new yield factor cannot be less than the current one.\n      This function will revert if called on L1.\n @param newYieldFactor The new yield factor to set."},"functionSelector":"2bac8118","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":52519,"name":"YIELD_FACTOR_UPDATER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52379,"src":"5554:25:74","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":52520,"kind":"modifierInvocation","modifierName":{"id":52518,"name":"onlyRole","nameLocations":["5545:8:74"],"nodeType":"IdentifierPath","referencedDeclaration":41756,"src":"5545:8:74"},"nodeType":"ModifierInvocation","src":"5545:35:74"}],"name":"updateL2YieldFactor","nameLocation":"5492:19:74","parameters":{"id":52517,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52516,"mutability":"mutable","name":"newYieldFactor","nameLocation":"5520:14:74","nodeType":"VariableDeclaration","scope":52545,"src":"5512:22:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52515,"name":"uint256","nodeType":"ElementaryTypeName","src":"5512:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5511:24:74"},"returnParameters":{"id":52521,"nodeType":"ParameterList","parameters":[],"src":"5581:0:74"},"scope":52546,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":52359,"name":"IPoolSharesConversionRate","nameLocations":["1521:25:74"],"nodeType":"IdentifierPath","referencedDeclaration":59118,"src":"1521:25:74"},"id":52360,"nodeType":"InheritanceSpecifier","src":"1521:25:74"},{"baseName":{"id":52361,"name":"AccessControl","nameLocations":["1548:13:74"],"nodeType":"IdentifierPath","referencedDeclaration":42011,"src":"1548:13:74"},"id":52362,"nodeType":"InheritanceSpecifier","src":"1548:13:74"}],"canonicalName":"PoolSharesConversionRate","contractDependencies":[],"contractKind":"contract","documentation":{"id":52358,"nodeType":"StructuredDocumentation","src":"1102:381:74","text":" @title PoolSharesConversionRate\n @dev On L1: Tracks the yield factor of stETH by comparing the current ETH value of a fixed number of shares\n      to its value at deployment time. This method is secure against arbitrary token transfers to the contract.\n @dev On L2: Stores a yield factor that can be updated by an authorized role, typically reflecting L1's factor."},"fullyImplemented":true,"linearizedBaseContracts":[52546,42011,47107,47119,42094,44583,59118],"name":"PoolSharesConversionRate","nameLocation":"1493:24:74","scope":52547,"usedErrors":[42021,42024,52386,52388,52390,52392,52394],"usedEvents":[42033,42042,42051,59099]}],"license":"MIT"},"id":74}