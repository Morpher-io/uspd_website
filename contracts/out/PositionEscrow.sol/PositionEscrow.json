{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"receive","stateMutability":"payable"},{"type":"function","name":"DEFAULT_ADMIN_ROLE","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"MINIMUM_COLLATERAL_RATIO","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"STABILIZER_ROLE","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"addCollateralEth","inputs":[],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"addCollateralFromStabilizer","inputs":[{"name":"stabilizerStEthAmount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"addCollateralStETH","inputs":[{"name":"stETHAmount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"backedPoolShares","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getCollateralizationRatio","inputs":[{"name":"priceResponse","type":"tuple","internalType":"struct IPriceOracle.PriceResponse","components":[{"name":"price","type":"uint256","internalType":"uint256"},{"name":"decimals","type":"uint8","internalType":"uint8"},{"name":"timestamp","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"ratio","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getCurrentStEthBalance","inputs":[],"outputs":[{"name":"balance","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getRoleAdmin","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"getTrackedStEthWithYield","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"grantRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"hasRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"initialize","inputs":[{"name":"_stabilizerNFT","type":"address","internalType":"address"},{"name":"_tokenId","type":"uint256","internalType":"uint256"},{"name":"_stETHAddress","type":"address","internalType":"address"},{"name":"_lidoAddress","type":"address","internalType":"address"},{"name":"_rateContractAddress","type":"address","internalType":"address"},{"name":"_oracleAddress","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"lido","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"lockedStEth","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"modifyAllocation","inputs":[{"name":"sharesDelta","type":"int256","internalType":"int256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"oracle","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"rateContract","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"removeCollateral","inputs":[{"name":"amountToRemove","type":"uint256","internalType":"uint256"},{"name":"recipient","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"removeExcessCollateral","inputs":[{"name":"recipient","type":"address","internalType":"address payable"},{"name":"amountToRemove","type":"uint256","internalType":"uint256"},{"name":"priceQuery","type":"tuple","internalType":"struct IPriceOracle.PriceAttestationQuery","components":[{"name":"price","type":"uint256","internalType":"uint256"},{"name":"decimals","type":"uint8","internalType":"uint8"},{"name":"dataTimestamp","type":"uint256","internalType":"uint256"},{"name":"assetPair","type":"bytes32","internalType":"bytes32"},{"name":"signature","type":"bytes","internalType":"bytes"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"renounceRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"callerConfirmation","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"revokeRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"stETH","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"stabilizerNFTContract","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"supportsInterface","inputs":[{"name":"interfaceId","type":"bytes4","internalType":"bytes4"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"syncStEthAndGetCollateralizationRatio","inputs":[{"name":"priceResponse","type":"tuple","internalType":"struct IPriceOracle.PriceResponse","components":[{"name":"price","type":"uint256","internalType":"uint256"},{"name":"decimals","type":"uint8","internalType":"uint8"},{"name":"timestamp","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"ratio","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"syncStEthBalance","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"tokenId","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"yieldFactorAtLastUpdate","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"event","name":"AllocationModified","inputs":[{"name":"sharesDelta","type":"int256","indexed":false,"internalType":"int256"},{"name":"newTotalShares","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"CollateralAdded","inputs":[{"name":"totalStEthAmount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"CollateralRemoved","inputs":[{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ExcessCollateralRemoved","inputs":[{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Initialized","inputs":[{"name":"version","type":"uint64","indexed":false,"internalType":"uint64"}],"anonymous":false},{"type":"event","name":"RoleAdminChanged","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"previousAdminRole","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"newAdminRole","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"RoleGranted","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"sender","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"RoleRevoked","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"sender","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"AccessControlBadConfirmation","inputs":[]},{"type":"error","name":"AccessControlUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"neededRole","type":"bytes32","internalType":"bytes32"}]},{"type":"error","name":"ArithmeticError","inputs":[]},{"type":"error","name":"BelowMinimumRatio","inputs":[]},{"type":"error","name":"ERC20InsufficientAllowance","inputs":[{"name":"spender","type":"address","internalType":"address"},{"name":"allowance","type":"uint256","internalType":"uint256"},{"name":"needed","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ERC20InsufficientBalance","inputs":[{"name":"sender","type":"address","internalType":"address"},{"name":"balance","type":"uint256","internalType":"uint256"},{"name":"needed","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ERC20InvalidApprover","inputs":[{"name":"approver","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidReceiver","inputs":[{"name":"receiver","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidSender","inputs":[{"name":"sender","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidSpender","inputs":[{"name":"spender","type":"address","internalType":"address"}]},{"type":"error","name":"InvalidInitialization","inputs":[]},{"type":"error","name":"NotInitializing","inputs":[]},{"type":"error","name":"NotNFTOwner","inputs":[]},{"type":"error","name":"TransferFailed","inputs":[]},{"type":"error","name":"ZeroAddress","inputs":[]},{"type":"error","name":"ZeroAmount","inputs":[]}],"bytecode":{"object":"0x6080604052348015600e575f5ffd5b5060156019565b60c9565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff161560685760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b039081161460c65780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b612334806100d65f395ff3fe6080604052600436106101c8575f3560e01c8063a217fddf116100f2578063d39aa95a11610092578063ee5f440711610062578063ee5f4407146105fd578063eee2421914610611578063f362e62614610630578063fc52347114610645575f5ffd5b8063d39aa95a1461058b578063d41ddc96146105a0578063d547741f146105bf578063dc607d6f146105de575f5ffd5b8063bf3fdde7116100cd578063bf3fdde714610526578063c1fe3e4814610539578063c6d56aa914610558578063cd21748414610577575f5ffd5b8063a217fddf146104d6578063a2dc2ab7146104e9578063bec070d614610508575f5ffd5b80634699643b116101685780637dc0d1d0116101385780637dc0d1d01461046e5780638175ad231461048d57806382882f8a146104a257806391d14854146104b7575f5ffd5b80634699643b14610408578063571a1e2814610428578063618f802714610447578063769ef03d14610466575f5ffd5b806323509a2d116101a357806323509a2d14610374578063248a9ca3146103ab5780632f2ff15d146103ca57806336568abe146103e9575f5ffd5b806301ffc9a7146102fc5780630bfd07fc1461033057806317d70f7c14610351575f5ffd5b366102f857345f8190036101d857005b60025460405163a1903eab60e01b81525f60048201819052916001600160a01b03169063a1903eab90849060240160206040518083038185885af193505050508015610241575060408051601f3d908101601f1916820190925261023e91810190611df2565b60015b61025e576040516312171d8360e31b815260040160405180910390fd5b809150815f03610281576040516312171d8360e31b815260040160405180910390fd5b50306001600160a01b031663fc5234716040518163ffffffff1660e01b81526004015f604051808303815f87803b1580156102ba575f5ffd5b505af11580156102cc573d5f5f3e3d5ffd5b505050505f51602061229f5f395f51905f52816040516102ee91815260200190565b60405180910390a1005b5f5ffd5b348015610307575f5ffd5b5061031b610316366004611e09565b610659565b60405190151581526020015b60405180910390f35b34801561033b575f5ffd5b5061034f61034a366004611e37565b61068f565b005b34801561035c575f5ffd5b5061036660055481565b604051908152602001610327565b34801561037f575f5ffd5b50600254610393906001600160a01b031681565b6040516001600160a01b039091168152602001610327565b3480156103b6575f5ffd5b506103666103c5366004611e37565b610753565b3480156103d5575f5ffd5b5061034f6103e4366004611e62565b610773565b3480156103f4575f5ffd5b5061034f610403366004611e62565b610795565b348015610413575f5ffd5b506103665f5160206122df5f395f51905f5281565b348015610433575f5ffd5b5061034f610442366004611e37565b6107c8565b348015610452575f5ffd5b5061034f610461366004611e90565b6108f8565b61034f610dce565b348015610479575f5ffd5b50600454610393906001600160a01b031681565b348015610498575f5ffd5b5061036660085481565b3480156104ad575f5ffd5b506103666130d481565b3480156104c2575f5ffd5b5061031b6104d1366004611e62565b610f06565b3480156104e1575f5ffd5b506103665f81565b3480156104f4575f5ffd5b5061034f610503366004611eeb565b610f3c565b348015610513575f5ffd5b505f54610393906001600160a01b031681565b61034f610534366004611e37565b611190565b348015610544575f5ffd5b50600154610393906001600160a01b031681565b348015610563575f5ffd5b50610366610572366004611fa3565b611397565b348015610582575f5ffd5b5061036661145b565b348015610596575f5ffd5b5061036660065481565b3480156105ab575f5ffd5b5061034f6105ba366004611e62565b611519565b3480156105ca575f5ffd5b5061034f6105d9366004611e62565b611760565b3480156105e9575f5ffd5b506103666105f8366004611fa3565b61177c565b348015610608575f5ffd5b50610366611969565b34801561061c575f5ffd5b50600354610393906001600160a01b031681565b34801561063b575f5ffd5b5061036660075481565b348015610650575f5ffd5b5061034f6119d8565b5f6001600160e01b03198216637965db0b60e01b148061068957506301ffc9a760e01b6001600160e01b03198316145b92915050565b5f5160206122df5f395f51905f526106a681611c22565b6006545f8313156106c3576106bb8382611ffb565b600655610710565b5f83121561070b575f6106d58461200e565b9050818111156106f857604051630fc12e3560e11b815260040160405180910390fd5b6107028183612028565b60065550610710565b505050565b6006546040805185815260208101929092527fabc1e0200cea3daa5c1d23d3df8212b5b114ee4bb8800bc01d8c2a7f93641d02910160405180910390a1505b5050565b5f9081525f5160206122bf5f395f51905f52602052604090206001015490565b61077c82610753565b61078581611c22565b61078f8383611c2f565b50505050565b6001600160a01b03811633146107be5760405163334bd91960e11b815260040160405180910390fd5b61070b8282611cd0565b805f036107e857604051631f2a200560e01b815260040160405180910390fd5b6001546040516323b872dd60e01b8152336004820152306024820152604481018390525f916001600160a01b0316906323b872dd906064016020604051808303815f875af115801561083c573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610860919061203b565b905080610880576040516312171d8360e31b815260040160405180910390fd5b306001600160a01b031663fc5234716040518163ffffffff1660e01b81526004015f604051808303815f87803b1580156108b8575f5ffd5b505af11580156108ca573d5f5f3e3d5ffd5b505050505f51602061229f5f395f51905f52826040516108ec91815260200190565b60405180910390a15050565b5f546005546040516331a9108f60e11b8152600481019190915233916001600160a01b031690636352211e90602401602060405180830381865afa158015610942573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610966919061205a565b6001600160a01b03161461098d57604051631022318760e21b815260040160405180910390fd5b6001600160a01b0383166109b45760405163d92e233d60e01b815260040160405180910390fd5b815f036109d457604051631f2a200560e01b815260040160405180910390fd5b600480546040516365ab8c7160e01b81525f926001600160a01b03909216916365ab8c7191610a059186910161209d565b6060604051808303815f875af1158015610a21573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610a459190612136565b90505f306001600160a01b031663cd2174846040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a84573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610aa89190611df2565b60065490915081851115610ae45760405163391434e360e21b815230600482015260248101839052604481018690526064015b60405180910390fd5b5f610aef8684612028565b90508115610c9f576003546040805163efa7fa5d60e01b815290515f926001600160a01b03169163efa7fa5d9160048083019260209291908290030181865afa158015610b3e573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b629190611df2565b90505f60035f9054906101000a90046001600160a01b03166001600160a01b031663a42c69a96040518163ffffffff1660e01b8152600401602060405180830381865afa158015610bb5573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610bd99190611df2565b610be3838661217a565b610bed9190612191565b9050805f03610c0f57604051630fc12e3560e11b815260040160405180910390fd5b85515f03610c3057604051631f2a200560e01b815260040160405180910390fd5b5f866020015160ff16600a610c459190612293565b8751610c51908661217a565b610c5b9190612191565b90505f82610c6b8361271061217a565b610c759190612191565b90506130d4811015610c9a5760405163133804c360e01b815260040160405180910390fd5b505050505b60015460405163a9059cbb60e01b81526001600160a01b038981166004830152602482018990525f92169063a9059cbb906044016020604051808303815f875af1158015610cef573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610d13919061203b565b905080610d33576040516312171d8360e31b815260040160405180910390fd5b306001600160a01b031663fc5234716040518163ffffffff1660e01b81526004015f604051808303815f87803b158015610d6b575f5ffd5b505af1158015610d7d573d5f5f3e3d5ffd5b50505050876001600160a01b03167f370ef93e54c934af17869115596b96ef88d1454cd91736e1d7ae0efdaa62686f88604051610dbc91815260200190565b60405180910390a25050505050505050565b345f819003610df057604051631f2a200560e01b815260040160405180910390fd5b60025460405163a1903eab60e01b81525f60048201819052916001600160a01b03169063a1903eab90849060240160206040518083038185885af193505050508015610e59575060408051601f3d908101601f19168201909252610e5691810190611df2565b60015b610e76576040516312171d8360e31b815260040160405180910390fd5b809150815f03610e99576040516312171d8360e31b815260040160405180910390fd5b50306001600160a01b031663fc5234716040518163ffffffff1660e01b81526004015f604051808303815f87803b158015610ed2575f5ffd5b505af1158015610ee4573d5f5f3e3d5ffd5b505050505f51602061229f5f395f51905f52816040516108ec91815260200190565b5f9182525f5160206122bf5f395f51905f52602090815260408084206001600160a01b0393909316845291905290205460ff1690565b5f610f45611d49565b805490915060ff600160401b820416159067ffffffffffffffff165f81158015610f6c5750825b90505f8267ffffffffffffffff166001148015610f885750303b155b905081158015610f96575080155b15610fb45760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff191660011785558315610fde57845460ff60401b1916600160401b1785555b610fe6611d71565b6001600160a01b038b161580610ffa575089155b8061100c57506001600160a01b038916155b8061101e57506001600160a01b038816155b8061103057506001600160a01b038716155b8061104257506001600160a01b038616155b156110605760405163d92e233d60e01b815260040160405180910390fd5b5f80546001600160a01b03808e166001600160a01b03199283161790925560058c9055600180548c8416908316179055600280548b8416908316179055600380548a8416908316811790915560048054938a16939092169290921781556040805163efa7fa5d60e01b8152905163efa7fa5d928281019260209291908290030181865afa1580156110f3573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906111179190611df2565b6008556111245f8c611c2f565b5061113c5f5160206122df5f395f51905f528c611c2f565b50831561118357845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b5050505050505050505050565b5f5160206122df5f395f51905f526111a781611c22565b34801580156111b4575082155b156111d257604051631f2a200560e01b815260040160405180910390fd5b5f81156112835760025460405163a1903eab60e01b81525f60048201526001600160a01b039091169063a1903eab90849060240160206040518083038185885af193505050508015611241575060408051601f3d908101601f1916820190925261123e91810190611df2565b60015b61125e576040516312171d8360e31b815260040160405180910390fd5b809150815f03611281576040516312171d8360e31b815260040160405180910390fd5b505b5f61128e8583611ffb565b90505f306001600160a01b031663cd2174846040518163ffffffff1660e01b8152600401602060405180830381865afa1580156112cd573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906112f19190611df2565b90506112fd8282611ffb565b6007556003546040805163efa7fa5d60e01b815290516001600160a01b039092169163efa7fa5d916004808201926020929091908290030181865afa158015611348573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061136c9190611df2565b6008556040518281525f51602061229f5f395f51905f529060200160405180910390a1505050505050565b5f306001600160a01b031663fc5234716040518163ffffffff1660e01b81526004015f604051808303815f87803b1580156113d0575f5ffd5b505af11580156113e2573d5f5f3e3d5ffd5b50506040805163dc607d6f60e01b815285516004820152602086015160ff16602482015290850151604482015230925063dc607d6f9150606401602060405180830381865afa158015611437573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106899190611df2565b5f5f60035f9054906101000a90046001600160a01b03166001600160a01b031663efa7fa5d6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156114ad573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906114d19190611df2565b600854600754919250908115806114e6575082155b806114f057508282145b156114fc579392505050565b81611507848361217a565b6115119190612191565b935050505090565b5f5160206122df5f395f51905f5261153081611c22565b825f0361155057604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b0382166115775760405163d92e233d60e01b815260040160405180910390fd5b5f306001600160a01b031663cd2174846040518163ffffffff1660e01b8152600401602060405180830381865afa1580156115b4573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906115d89190611df2565b90508084111561160b5760405163391434e360e21b81523060048201526024810182905260448101859052606401610adb565b60015460405163a9059cbb60e01b81526001600160a01b038581166004830152602482018790525f92169063a9059cbb906044016020604051808303815f875af115801561165b573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061167f919061203b565b90508061169f576040516312171d8360e31b815260040160405180910390fd5b6116a98583612028565b6007556003546040805163efa7fa5d60e01b815290516001600160a01b039092169163efa7fa5d916004808201926020929091908290030181865afa1580156116f4573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117189190611df2565b6008556040518581526001600160a01b038516907f12c7466676da8453fdc8fb091f1a24d31919043a79a50ebe022867a5f5c1ed349060200160405180910390a25050505050565b61176982610753565b61177281611c22565b61078f8383611cd0565b6006545f9080820361179157505f1992915050565b5f306001600160a01b031663cd2174846040518163ffffffff1660e01b8152600401602060405180830381865afa1580156117ce573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117f29190611df2565b9050805f0361180457505f9392505050565b5f846020015160ff16600a6118199190612293565b8551611825908461217a565b61182f9190612191565b90505f60035f9054906101000a90046001600160a01b03166001600160a01b031663efa7fa5d6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611882573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906118a69190611df2565b90505f60035f9054906101000a90046001600160a01b03166001600160a01b031663a42c69a96040518163ffffffff1660e01b8152600401602060405180830381865afa1580156118f9573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061191d9190611df2565b611927838761217a565b6119319190612191565b9050805f0361194757505f199695505050505050565b806119548461271061217a565b61195e9190612191565b979650505050505050565b6001546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa1580156119af573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906119d39190611df2565b905090565b6001546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015611a1e573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611a429190611df2565b90505f306001600160a01b031663cd2174846040518163ffffffff1660e01b8152600401602060405180830381865afa158015611a81573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611aa59190611df2565b90505f60035f9054906101000a90046001600160a01b03166001600160a01b031663efa7fa5d6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611af8573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611b1c9190611df2565b905081831115611b90575f611b318385612028565b5f54604051630cf7fe9560e31b8152600481018390529192506001600160a01b0316906367bff4a8906024015f604051808303815f87803b158015611b74575f5ffd5b505af1158015611b86573d5f5f3e3d5ffd5b5050505050611bfe565b81831015611bfe575f611ba38484612028565b5f54604051630722240b60e31b8152600481018390529192506001600160a01b0316906339112058906024015f604051808303815f87803b158015611be6575f5ffd5b505af1158015611bf8573d5f5f3e3d5ffd5b50505050505b82600754141580611c1157508060085414155b1561070b5760079290925550600855565b611c2c8133611d7b565b50565b5f5f5160206122bf5f395f51905f52611c488484610f06565b611cc7575f848152602082815260408083206001600160a01b03871684529091529020805460ff19166001179055611c7d3390565b6001600160a01b0316836001600160a01b0316857f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a46001915050610689565b5f915050610689565b5f5f5160206122bf5f395f51905f52611ce98484610f06565b15611cc7575f848152602082815260408083206001600160a01b0387168085529252808320805460ff1916905551339287917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a46001915050610689565b5f807ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00610689565b611d79611db4565b565b611d858282610f06565b61074f5760405163e2517d3f60e01b81526001600160a01b038216600482015260248101839052604401610adb565b611dbc611dd9565b611d7957604051631afcd79f60e31b815260040160405180910390fd5b5f611de2611d49565b54600160401b900460ff16919050565b5f60208284031215611e02575f5ffd5b5051919050565b5f60208284031215611e19575f5ffd5b81356001600160e01b031981168114611e30575f5ffd5b9392505050565b5f60208284031215611e47575f5ffd5b5035919050565b6001600160a01b0381168114611c2c575f5ffd5b5f5f60408385031215611e73575f5ffd5b823591506020830135611e8581611e4e565b809150509250929050565b5f5f5f60608486031215611ea2575f5ffd5b8335611ead81611e4e565b925060208401359150604084013567ffffffffffffffff811115611ecf575f5ffd5b840160a08187031215611ee0575f5ffd5b809150509250925092565b5f5f5f5f5f5f60c08789031215611f00575f5ffd5b8635611f0b81611e4e565b9550602087013594506040870135611f2281611e4e565b93506060870135611f3281611e4e565b92506080870135611f4281611e4e565b915060a0870135611f5281611e4e565b809150509295509295509295565b6040516060810167ffffffffffffffff81118282101715611f8f57634e487b7160e01b5f52604160045260245ffd5b60405290565b60ff81168114611c2c575f5ffd5b5f6060828403128015611fb4575f5ffd5b50611fbd611f60565b823581526020830135611fcf81611f95565b60208201526040928301359281019290925250919050565b634e487b7160e01b5f52601160045260245ffd5b8082018082111561068957610689611fe7565b5f600160ff1b820161202257612022611fe7565b505f0390565b8181038181111561068957610689611fe7565b5f6020828403121561204b575f5ffd5b81518015158114611e30575f5ffd5b5f6020828403121561206a575f5ffd5b8151611e3081611e4e565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b60208082528235828201525f908301356120b681611f95565b60ff1660408381019190915283013560608084019190915283013560808084019190915283013536849003601e190181126120ef575f5ffd5b830160208101903567ffffffffffffffff81111561210b575f5ffd5b803603821315612119575f5ffd5b60a08085015261212d60c085018284612075565b95945050505050565b5f6060828403128015612147575f5ffd5b50612150611f60565b82518152602083015161216281611f95565b60208201526040928301519281019290925250919050565b808202811582820484141761068957610689611fe7565b5f826121ab57634e487b7160e01b5f52601260045260245ffd5b500490565b6001815b60018411156121eb578085048111156121cf576121cf611fe7565b60018416156121dd57908102905b60019390931c9280026121b4565b935093915050565b5f8261220157506001610689565b8161220d57505f610689565b8160018114612223576002811461222d57612249565b6001915050610689565b60ff84111561223e5761223e611fe7565b50506001821b610689565b5060208310610133831016604e8410600b841016171561226c575081810a610689565b6122785f1984846121b0565b805f190482111561228b5761228b611fe7565b029392505050565b5f611e3083836121f356fe206d5f22994381488f76c20f193ebf898daf960461a61d40e68e1641f62d8c5d02dd7bc7dec4dceedda775e58dd541e08a116c6c53815c0bd028192f7b626800079847024f21c1f5f8d88daf6764f03ddd70ce4acc6aa7104a85233fe5a76995a2646970667358221220aec03338174675a533a9f5ae98416d14b4e1e16f0e2b6b029977d3be3aa5d03364736f6c634300081d0033","sourceMap":"1025:18364:75:-:0;;;2308:97;;;;;;;;;-1:-1:-1;2332:22:75;:20;:22::i;:::-;1025:18364;;7711:422:20;3147:66;7900:15;;;;;;;7896:76;;;7938:23;;-1:-1:-1;;;7938:23:20;;;;;;;;;;;7896:76;7985:14;;-1:-1:-1;;;;;7985:14:20;;;:34;7981:146;;8035:33;;-1:-1:-1;;;;;;8035:33:20;-1:-1:-1;;;;;8035:33:20;;;;;8087:29;;158:50:103;;;8087:29:20;;146:2:103;131:18;8087:29:20;;;;;;;7981:146;7760:373;7711:422::o;14:200:103:-;1025:18364:75;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x6080604052600436106101c8575f3560e01c8063a217fddf116100f2578063d39aa95a11610092578063ee5f440711610062578063ee5f4407146105fd578063eee2421914610611578063f362e62614610630578063fc52347114610645575f5ffd5b8063d39aa95a1461058b578063d41ddc96146105a0578063d547741f146105bf578063dc607d6f146105de575f5ffd5b8063bf3fdde7116100cd578063bf3fdde714610526578063c1fe3e4814610539578063c6d56aa914610558578063cd21748414610577575f5ffd5b8063a217fddf146104d6578063a2dc2ab7146104e9578063bec070d614610508575f5ffd5b80634699643b116101685780637dc0d1d0116101385780637dc0d1d01461046e5780638175ad231461048d57806382882f8a146104a257806391d14854146104b7575f5ffd5b80634699643b14610408578063571a1e2814610428578063618f802714610447578063769ef03d14610466575f5ffd5b806323509a2d116101a357806323509a2d14610374578063248a9ca3146103ab5780632f2ff15d146103ca57806336568abe146103e9575f5ffd5b806301ffc9a7146102fc5780630bfd07fc1461033057806317d70f7c14610351575f5ffd5b366102f857345f8190036101d857005b60025460405163a1903eab60e01b81525f60048201819052916001600160a01b03169063a1903eab90849060240160206040518083038185885af193505050508015610241575060408051601f3d908101601f1916820190925261023e91810190611df2565b60015b61025e576040516312171d8360e31b815260040160405180910390fd5b809150815f03610281576040516312171d8360e31b815260040160405180910390fd5b50306001600160a01b031663fc5234716040518163ffffffff1660e01b81526004015f604051808303815f87803b1580156102ba575f5ffd5b505af11580156102cc573d5f5f3e3d5ffd5b505050505f51602061229f5f395f51905f52816040516102ee91815260200190565b60405180910390a1005b5f5ffd5b348015610307575f5ffd5b5061031b610316366004611e09565b610659565b60405190151581526020015b60405180910390f35b34801561033b575f5ffd5b5061034f61034a366004611e37565b61068f565b005b34801561035c575f5ffd5b5061036660055481565b604051908152602001610327565b34801561037f575f5ffd5b50600254610393906001600160a01b031681565b6040516001600160a01b039091168152602001610327565b3480156103b6575f5ffd5b506103666103c5366004611e37565b610753565b3480156103d5575f5ffd5b5061034f6103e4366004611e62565b610773565b3480156103f4575f5ffd5b5061034f610403366004611e62565b610795565b348015610413575f5ffd5b506103665f5160206122df5f395f51905f5281565b348015610433575f5ffd5b5061034f610442366004611e37565b6107c8565b348015610452575f5ffd5b5061034f610461366004611e90565b6108f8565b61034f610dce565b348015610479575f5ffd5b50600454610393906001600160a01b031681565b348015610498575f5ffd5b5061036660085481565b3480156104ad575f5ffd5b506103666130d481565b3480156104c2575f5ffd5b5061031b6104d1366004611e62565b610f06565b3480156104e1575f5ffd5b506103665f81565b3480156104f4575f5ffd5b5061034f610503366004611eeb565b610f3c565b348015610513575f5ffd5b505f54610393906001600160a01b031681565b61034f610534366004611e37565b611190565b348015610544575f5ffd5b50600154610393906001600160a01b031681565b348015610563575f5ffd5b50610366610572366004611fa3565b611397565b348015610582575f5ffd5b5061036661145b565b348015610596575f5ffd5b5061036660065481565b3480156105ab575f5ffd5b5061034f6105ba366004611e62565b611519565b3480156105ca575f5ffd5b5061034f6105d9366004611e62565b611760565b3480156105e9575f5ffd5b506103666105f8366004611fa3565b61177c565b348015610608575f5ffd5b50610366611969565b34801561061c575f5ffd5b50600354610393906001600160a01b031681565b34801561063b575f5ffd5b5061036660075481565b348015610650575f5ffd5b5061034f6119d8565b5f6001600160e01b03198216637965db0b60e01b148061068957506301ffc9a760e01b6001600160e01b03198316145b92915050565b5f5160206122df5f395f51905f526106a681611c22565b6006545f8313156106c3576106bb8382611ffb565b600655610710565b5f83121561070b575f6106d58461200e565b9050818111156106f857604051630fc12e3560e11b815260040160405180910390fd5b6107028183612028565b60065550610710565b505050565b6006546040805185815260208101929092527fabc1e0200cea3daa5c1d23d3df8212b5b114ee4bb8800bc01d8c2a7f93641d02910160405180910390a1505b5050565b5f9081525f5160206122bf5f395f51905f52602052604090206001015490565b61077c82610753565b61078581611c22565b61078f8383611c2f565b50505050565b6001600160a01b03811633146107be5760405163334bd91960e11b815260040160405180910390fd5b61070b8282611cd0565b805f036107e857604051631f2a200560e01b815260040160405180910390fd5b6001546040516323b872dd60e01b8152336004820152306024820152604481018390525f916001600160a01b0316906323b872dd906064016020604051808303815f875af115801561083c573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610860919061203b565b905080610880576040516312171d8360e31b815260040160405180910390fd5b306001600160a01b031663fc5234716040518163ffffffff1660e01b81526004015f604051808303815f87803b1580156108b8575f5ffd5b505af11580156108ca573d5f5f3e3d5ffd5b505050505f51602061229f5f395f51905f52826040516108ec91815260200190565b60405180910390a15050565b5f546005546040516331a9108f60e11b8152600481019190915233916001600160a01b031690636352211e90602401602060405180830381865afa158015610942573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610966919061205a565b6001600160a01b03161461098d57604051631022318760e21b815260040160405180910390fd5b6001600160a01b0383166109b45760405163d92e233d60e01b815260040160405180910390fd5b815f036109d457604051631f2a200560e01b815260040160405180910390fd5b600480546040516365ab8c7160e01b81525f926001600160a01b03909216916365ab8c7191610a059186910161209d565b6060604051808303815f875af1158015610a21573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610a459190612136565b90505f306001600160a01b031663cd2174846040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a84573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610aa89190611df2565b60065490915081851115610ae45760405163391434e360e21b815230600482015260248101839052604481018690526064015b60405180910390fd5b5f610aef8684612028565b90508115610c9f576003546040805163efa7fa5d60e01b815290515f926001600160a01b03169163efa7fa5d9160048083019260209291908290030181865afa158015610b3e573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b629190611df2565b90505f60035f9054906101000a90046001600160a01b03166001600160a01b031663a42c69a96040518163ffffffff1660e01b8152600401602060405180830381865afa158015610bb5573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610bd99190611df2565b610be3838661217a565b610bed9190612191565b9050805f03610c0f57604051630fc12e3560e11b815260040160405180910390fd5b85515f03610c3057604051631f2a200560e01b815260040160405180910390fd5b5f866020015160ff16600a610c459190612293565b8751610c51908661217a565b610c5b9190612191565b90505f82610c6b8361271061217a565b610c759190612191565b90506130d4811015610c9a5760405163133804c360e01b815260040160405180910390fd5b505050505b60015460405163a9059cbb60e01b81526001600160a01b038981166004830152602482018990525f92169063a9059cbb906044016020604051808303815f875af1158015610cef573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610d13919061203b565b905080610d33576040516312171d8360e31b815260040160405180910390fd5b306001600160a01b031663fc5234716040518163ffffffff1660e01b81526004015f604051808303815f87803b158015610d6b575f5ffd5b505af1158015610d7d573d5f5f3e3d5ffd5b50505050876001600160a01b03167f370ef93e54c934af17869115596b96ef88d1454cd91736e1d7ae0efdaa62686f88604051610dbc91815260200190565b60405180910390a25050505050505050565b345f819003610df057604051631f2a200560e01b815260040160405180910390fd5b60025460405163a1903eab60e01b81525f60048201819052916001600160a01b03169063a1903eab90849060240160206040518083038185885af193505050508015610e59575060408051601f3d908101601f19168201909252610e5691810190611df2565b60015b610e76576040516312171d8360e31b815260040160405180910390fd5b809150815f03610e99576040516312171d8360e31b815260040160405180910390fd5b50306001600160a01b031663fc5234716040518163ffffffff1660e01b81526004015f604051808303815f87803b158015610ed2575f5ffd5b505af1158015610ee4573d5f5f3e3d5ffd5b505050505f51602061229f5f395f51905f52816040516108ec91815260200190565b5f9182525f5160206122bf5f395f51905f52602090815260408084206001600160a01b0393909316845291905290205460ff1690565b5f610f45611d49565b805490915060ff600160401b820416159067ffffffffffffffff165f81158015610f6c5750825b90505f8267ffffffffffffffff166001148015610f885750303b155b905081158015610f96575080155b15610fb45760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff191660011785558315610fde57845460ff60401b1916600160401b1785555b610fe6611d71565b6001600160a01b038b161580610ffa575089155b8061100c57506001600160a01b038916155b8061101e57506001600160a01b038816155b8061103057506001600160a01b038716155b8061104257506001600160a01b038616155b156110605760405163d92e233d60e01b815260040160405180910390fd5b5f80546001600160a01b03808e166001600160a01b03199283161790925560058c9055600180548c8416908316179055600280548b8416908316179055600380548a8416908316811790915560048054938a16939092169290921781556040805163efa7fa5d60e01b8152905163efa7fa5d928281019260209291908290030181865afa1580156110f3573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906111179190611df2565b6008556111245f8c611c2f565b5061113c5f5160206122df5f395f51905f528c611c2f565b50831561118357845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b5050505050505050505050565b5f5160206122df5f395f51905f526111a781611c22565b34801580156111b4575082155b156111d257604051631f2a200560e01b815260040160405180910390fd5b5f81156112835760025460405163a1903eab60e01b81525f60048201526001600160a01b039091169063a1903eab90849060240160206040518083038185885af193505050508015611241575060408051601f3d908101601f1916820190925261123e91810190611df2565b60015b61125e576040516312171d8360e31b815260040160405180910390fd5b809150815f03611281576040516312171d8360e31b815260040160405180910390fd5b505b5f61128e8583611ffb565b90505f306001600160a01b031663cd2174846040518163ffffffff1660e01b8152600401602060405180830381865afa1580156112cd573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906112f19190611df2565b90506112fd8282611ffb565b6007556003546040805163efa7fa5d60e01b815290516001600160a01b039092169163efa7fa5d916004808201926020929091908290030181865afa158015611348573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061136c9190611df2565b6008556040518281525f51602061229f5f395f51905f529060200160405180910390a1505050505050565b5f306001600160a01b031663fc5234716040518163ffffffff1660e01b81526004015f604051808303815f87803b1580156113d0575f5ffd5b505af11580156113e2573d5f5f3e3d5ffd5b50506040805163dc607d6f60e01b815285516004820152602086015160ff16602482015290850151604482015230925063dc607d6f9150606401602060405180830381865afa158015611437573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106899190611df2565b5f5f60035f9054906101000a90046001600160a01b03166001600160a01b031663efa7fa5d6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156114ad573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906114d19190611df2565b600854600754919250908115806114e6575082155b806114f057508282145b156114fc579392505050565b81611507848361217a565b6115119190612191565b935050505090565b5f5160206122df5f395f51905f5261153081611c22565b825f0361155057604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b0382166115775760405163d92e233d60e01b815260040160405180910390fd5b5f306001600160a01b031663cd2174846040518163ffffffff1660e01b8152600401602060405180830381865afa1580156115b4573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906115d89190611df2565b90508084111561160b5760405163391434e360e21b81523060048201526024810182905260448101859052606401610adb565b60015460405163a9059cbb60e01b81526001600160a01b038581166004830152602482018790525f92169063a9059cbb906044016020604051808303815f875af115801561165b573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061167f919061203b565b90508061169f576040516312171d8360e31b815260040160405180910390fd5b6116a98583612028565b6007556003546040805163efa7fa5d60e01b815290516001600160a01b039092169163efa7fa5d916004808201926020929091908290030181865afa1580156116f4573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117189190611df2565b6008556040518581526001600160a01b038516907f12c7466676da8453fdc8fb091f1a24d31919043a79a50ebe022867a5f5c1ed349060200160405180910390a25050505050565b61176982610753565b61177281611c22565b61078f8383611cd0565b6006545f9080820361179157505f1992915050565b5f306001600160a01b031663cd2174846040518163ffffffff1660e01b8152600401602060405180830381865afa1580156117ce573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117f29190611df2565b9050805f0361180457505f9392505050565b5f846020015160ff16600a6118199190612293565b8551611825908461217a565b61182f9190612191565b90505f60035f9054906101000a90046001600160a01b03166001600160a01b031663efa7fa5d6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611882573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906118a69190611df2565b90505f60035f9054906101000a90046001600160a01b03166001600160a01b031663a42c69a96040518163ffffffff1660e01b8152600401602060405180830381865afa1580156118f9573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061191d9190611df2565b611927838761217a565b6119319190612191565b9050805f0361194757505f199695505050505050565b806119548461271061217a565b61195e9190612191565b979650505050505050565b6001546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa1580156119af573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906119d39190611df2565b905090565b6001546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015611a1e573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611a429190611df2565b90505f306001600160a01b031663cd2174846040518163ffffffff1660e01b8152600401602060405180830381865afa158015611a81573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611aa59190611df2565b90505f60035f9054906101000a90046001600160a01b03166001600160a01b031663efa7fa5d6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611af8573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611b1c9190611df2565b905081831115611b90575f611b318385612028565b5f54604051630cf7fe9560e31b8152600481018390529192506001600160a01b0316906367bff4a8906024015f604051808303815f87803b158015611b74575f5ffd5b505af1158015611b86573d5f5f3e3d5ffd5b5050505050611bfe565b81831015611bfe575f611ba38484612028565b5f54604051630722240b60e31b8152600481018390529192506001600160a01b0316906339112058906024015f604051808303815f87803b158015611be6575f5ffd5b505af1158015611bf8573d5f5f3e3d5ffd5b50505050505b82600754141580611c1157508060085414155b1561070b5760079290925550600855565b611c2c8133611d7b565b50565b5f5f5160206122bf5f395f51905f52611c488484610f06565b611cc7575f848152602082815260408083206001600160a01b03871684529091529020805460ff19166001179055611c7d3390565b6001600160a01b0316836001600160a01b0316857f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a46001915050610689565b5f915050610689565b5f5f5160206122bf5f395f51905f52611ce98484610f06565b15611cc7575f848152602082815260408083206001600160a01b0387168085529252808320805460ff1916905551339287917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a46001915050610689565b5f807ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00610689565b611d79611db4565b565b611d858282610f06565b61074f5760405163e2517d3f60e01b81526001600160a01b038216600482015260248101839052604401610adb565b611dbc611dd9565b611d7957604051631afcd79f60e31b815260040160405180910390fd5b5f611de2611d49565b54600160401b900460ff16919050565b5f60208284031215611e02575f5ffd5b5051919050565b5f60208284031215611e19575f5ffd5b81356001600160e01b031981168114611e30575f5ffd5b9392505050565b5f60208284031215611e47575f5ffd5b5035919050565b6001600160a01b0381168114611c2c575f5ffd5b5f5f60408385031215611e73575f5ffd5b823591506020830135611e8581611e4e565b809150509250929050565b5f5f5f60608486031215611ea2575f5ffd5b8335611ead81611e4e565b925060208401359150604084013567ffffffffffffffff811115611ecf575f5ffd5b840160a08187031215611ee0575f5ffd5b809150509250925092565b5f5f5f5f5f5f60c08789031215611f00575f5ffd5b8635611f0b81611e4e565b9550602087013594506040870135611f2281611e4e565b93506060870135611f3281611e4e565b92506080870135611f4281611e4e565b915060a0870135611f5281611e4e565b809150509295509295509295565b6040516060810167ffffffffffffffff81118282101715611f8f57634e487b7160e01b5f52604160045260245ffd5b60405290565b60ff81168114611c2c575f5ffd5b5f6060828403128015611fb4575f5ffd5b50611fbd611f60565b823581526020830135611fcf81611f95565b60208201526040928301359281019290925250919050565b634e487b7160e01b5f52601160045260245ffd5b8082018082111561068957610689611fe7565b5f600160ff1b820161202257612022611fe7565b505f0390565b8181038181111561068957610689611fe7565b5f6020828403121561204b575f5ffd5b81518015158114611e30575f5ffd5b5f6020828403121561206a575f5ffd5b8151611e3081611e4e565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b60208082528235828201525f908301356120b681611f95565b60ff1660408381019190915283013560608084019190915283013560808084019190915283013536849003601e190181126120ef575f5ffd5b830160208101903567ffffffffffffffff81111561210b575f5ffd5b803603821315612119575f5ffd5b60a08085015261212d60c085018284612075565b95945050505050565b5f6060828403128015612147575f5ffd5b50612150611f60565b82518152602083015161216281611f95565b60208201526040928301519281019290925250919050565b808202811582820484141761068957610689611fe7565b5f826121ab57634e487b7160e01b5f52601260045260245ffd5b500490565b6001815b60018411156121eb578085048111156121cf576121cf611fe7565b60018416156121dd57908102905b60019390931c9280026121b4565b935093915050565b5f8261220157506001610689565b8161220d57505f610689565b8160018114612223576002811461222d57612249565b6001915050610689565b60ff84111561223e5761223e611fe7565b50506001821b610689565b5060208310610133831016604e8410600b841016171561226c575081810a610689565b6122785f1984846121b0565b805f190482111561228b5761228b611fe7565b029392505050565b5f611e3083836121f356fe206d5f22994381488f76c20f193ebf898daf960461a61d40e68e1641f62d8c5d02dd7bc7dec4dceedda775e58dd541e08a116c6c53815c0bd028192f7b626800079847024f21c1f5f8d88daf6764f03ddd70ce4acc6aa7104a85233fe5a76995a2646970667358221220aec03338174675a533a9f5ae98416d14b4e1e16f0e2b6b029977d3be3aa5d03364736f6c634300081d0033","sourceMap":"1025:18364:75:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;18728:9;18708:17;18751:14;;;18747:27;;18767:7;18747:27;18869:4;;18863:48;;-1:-1:-1;;;18863:48:75;;18813:21;18863:48;;;160:51:103;;;18813:21:75;-1:-1:-1;;;;;18869:4:75;;18863:18;;18889:9;;133:18:103;;18863:48:75;;;;;;;;;;;;;;;;;;;;-1:-1:-1;18863:48:75;;;;;;;;-1:-1:-1;;18863:48:75;;;;;;;;;;;;:::i;:::-;;;18859:306;;19116:16;;-1:-1:-1;;;19116:16:75;;;;;;;;;;;18859:306;18969:8;18953:24;;18995:13;19012:1;18995:18;18991:47;;19022:16;;-1:-1:-1;;;19022:16:75;;;;;;;;;;;18991:47;18912:176;19247:4;-1:-1:-1;;;;;19247:21:75;;:23;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;19366:13:75;19350:30;;;;603:25:103;;591:2;576:18;;457:177;19350:30:75;;;;;;;;18698:689;1025:18364;;;;3443:202:19;;;;;;;;;;-1:-1:-1;3443:202:19;;;;;:::i;:::-;;:::i;:::-;;;1095:14:103;;1088:22;1070:41;;1058:2;1043:18;3443:202:19;;;;;;;;8756:739:75;;;;;;;;;;-1:-1:-1;8756:739:75;;;;;:::i;:::-;;:::i;:::-;;1989:31;;;;;;;;;;;;;;;;;;;603:25:103;;;591:2;576:18;1989:31:75;457:177:103;1676:28:75;;;;;;;;;;-1:-1:-1;1676:28:75;;;;-1:-1:-1;;;;;1676:28:75;;;;;;-1:-1:-1;;;;;178:32:103;;;160:51;;148:2;133:18;1676:28:75;14:203:103;4759:191:19;;;;;;;;;;-1:-1:-1;4759:191:19;;;;;:::i;:::-;;:::i;5246:136::-;;;;;;;;;;-1:-1:-1;5246:136:19;;;;;:::i;:::-;;:::i;6348:245::-;;;;;;;;;;-1:-1:-1;6348:245:19;;;;;:::i;:::-;;:::i;1289:70:75:-;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;1289:70:75;;7958:572;;;;;;;;;;-1:-1:-1;7958:572:75;;;;;:::i;:::-;;:::i;11034:2679::-;;;;;;;;;;-1:-1:-1;11034:2679:75;;;;;:::i;:::-;;:::i;6974:752::-;;;:::i;1914:30::-;;;;;;;;;;-1:-1:-1;1914:30:75;;;;-1:-1:-1;;;;;1914:30:75;;;2209:38;;;;;;;;;;;;;;;;1391:56;;;;;;;;;;;;1442:5;1391:56;;3732:207:19;;;;;;;;;;-1:-1:-1;3732:207:19;;;;;:::i;:::-;;:::i;2317:49::-;;;;;;;;;;-1:-1:-1;2317:49:19;2362:4;2317:49;;2967:1189:75;;;;;;;;;;-1:-1:-1;2967:1189:75;;;;;:::i;:::-;;:::i;1496:45::-;;;;;;;;;;-1:-1:-1;1496:45:75;;;;-1:-1:-1;;;;;1496:45:75;;;5405:1400;;;;;;:::i;:::-;;:::i;1601:29::-;;;;;;;;;;-1:-1:-1;1601:29:75;;;;-1:-1:-1;;;;;1601:29:75;;;16442:231;;;;;;;;;;-1:-1:-1;16442:231:75;;;;;:::i;:::-;;:::i;15505:581::-;;;;;;;;;;;;;:::i;2095:40::-;;;;;;;;;;;;;;;;9770:836;;;;;;;;;;-1:-1:-1;9770:836:75;;;;;:::i;:::-;;:::i;5662:138:19:-;;;;;;;;;;-1:-1:-1;5662:138:19;;;;;:::i;:::-;;:::i;14023:1339:75:-;;;;;;;;;;-1:-1:-1;14023:1339:75;;;;;:::i;:::-;;:::i;16765:145::-;;;;;;;;;;;;;:::i;1826:36::-;;;;;;;;;;-1:-1:-1;1826:36:75;;;;-1:-1:-1;;;;;1826:36:75;;;2177:26;;;;;;;;;;;;;;;;17306:1231;;;;;;;;;;;;;:::i;3443:202:19:-;3528:4;-1:-1:-1;;;;;;3551:47:19;;-1:-1:-1;;;3551:47:19;;:87;;-1:-1:-1;;;;;;;;;;1134:40:26;;;3602:36:19;3544:94;3443:202;-1:-1:-1;;3443:202:19:o;8756:739:75:-;-1:-1:-1;;;;;;;;;;;3191:16:19;3202:4;3191:10;:16::i;:::-;8876::75::1;::::0;8856:17:::1;8906:15:::0;::::1;8902:523;;;8998:32;9018:11:::0;8998:9;:32:::1;:::i;:::-;8979:16;:51:::0;8902:523:::1;;;9065:1;9051:11;:15;9047:378;;;9128:22;9161:12;9162:11:::0;9161:12:::1;:::i;:::-;9128:46;;9209:9;9192:14;:26;9188:56;;;9227:17;;-1:-1:-1::0;;;9227:17:75::1;;;;;;;;;;;9188:56;9310:26;9322:14:::0;9310:9;:26:::1;:::i;:::-;9291:16;:45:::0;-1:-1:-1;9047:378:75::1;;;9408:7;8756:739:::0;;:::o;9047:378::-:1;9471:16;::::0;9439:49:::1;::::0;;6241:25:103;;;6297:2;6282:18;;6275:34;;;;9439:49:75::1;::::0;6214:18:103;9439:49:75::1;;;;;;;8846:649;3217:1:19;8756:739:75::0;;:::o;4759:191:19:-;4824:7;4919:14;;;-1:-1:-1;;;;;;;;;;;4919:14:19;;;;;:24;;;;4759:191::o;5246:136::-;5320:18;5333:4;5320:12;:18::i;:::-;3191:16;3202:4;3191:10;:16::i;:::-;5350:25:::1;5361:4;5367:7;5350:10;:25::i;:::-;;5246:136:::0;;;:::o;6348:245::-;-1:-1:-1;;;;;6441:34:19;;966:10:24;6441:34:19;6437:102;;6498:30;;-1:-1:-1;;;6498:30:19;;;;;;;;;;;6437:102;6549:37;6561:4;6567:18;6549:11;:37::i;7958:572:75:-;8064:11;8079:1;8064:16;8060:41;;8089:12;;-1:-1:-1;;;8089:12:75;;;;;;;;;;;8060:41;8172:5;;8165:66;;-1:-1:-1;;;8165:66:75;;8192:10;8165:66;;;6522:51:103;8212:4:75;6589:18:103;;;6582:60;6658:18;;;6651:34;;;8150:12:75;;-1:-1:-1;;;;;8172:5:75;;8165:26;;6495:18:103;;8165:66:75;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;8150:81;;8246:7;8241:37;;8262:16;;-1:-1:-1;;;8262:16:75;;;;;;;;;;;8241:37;8392:4;-1:-1:-1;;;;;8392:21:75;;:23;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;8511:11:75;8495:28;;;;603:25:103;;591:2;576:18;;457:177;8495:28:75;;;;;;;;8050:480;7958:572;:::o;11034:2679::-;11399:21;;11430:7;;11391:47;;-1:-1:-1;;;11391:47:75;;;;;603:25:103;;;;11442:10:75;;-1:-1:-1;;;;;11399:21:75;;11391:38;;576:18:103;;11391:47:75;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;11391:61:75;;11387:87;;11461:13;;-1:-1:-1;;;11461:13:75;;;;;;;;;;;11387:87;-1:-1:-1;;;;;11519:23:75;;11515:49;;11551:13;;-1:-1:-1;;;11551:13:75;;;;;;;;;;;11515:49;11578:14;11596:1;11578:19;11574:44;;11606:12;;-1:-1:-1;;;11606:12:75;;;;;;;;;;;11574:44;11727:6;;;11714:64;;-1:-1:-1;;;11714:64:75;;11664:47;;-1:-1:-1;;;;;11727:6:75;;;;11714:52;;:64;;11767:10;;11714:64;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;11664:114;;11821:20;11844:4;-1:-1:-1;;;;;11844:29:75;;:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;11909:16;;11821:54;;-1:-1:-1;11979:29:75;;;11975:111;;;12017:69;;-1:-1:-1;;;12017:69:75;;12050:4;12017:69;;;9596:51:103;9663:18;;;9656:34;;;9706:18;;;9699:34;;;9569:18;;12017:69:75;;;;;;;;11975:111;12143:22;12168:29;12183:14;12168:12;:29;:::i;:::-;12143:54;-1:-1:-1;12272:17:75;;12268:981;;12353:12;;12327:56;;;-1:-1:-1;;;12327:56:75;;;;12305:19;;-1:-1:-1;;;;;12353:12:75;;12327:54;;:56;;;;;;;;;;;;;;12353:12;12327:56;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;12305:78;;12397:25;12483:12;;;;;;;;;-1:-1:-1;;;;;12483:12:75;-1:-1:-1;;;;;12457:56:75;;:58;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;12426:27;12442:11;12426:13;:27;:::i;:::-;12425:90;;;;:::i;:::-;12397:118;;12533:17;12554:1;12533:22;12529:52;;12564:17;;-1:-1:-1;;;12564:17:75;;;;;;;;;;;12529:52;12696:19;;;:24;12692:49;;12729:12;;-1:-1:-1;;;12729:12:75;;;;;;;;;;;12692:49;12814:32;12903:13;:22;;;12895:31;;12891:2;:35;;;;:::i;:::-;12867:19;;12850:36;;:14;:36;:::i;:::-;12849:78;;;;:::i;:::-;12814:113;-1:-1:-1;12988:16:75;13044:17;13008:32;12814:113;13035:5;13008:32;:::i;:::-;13007:54;;;;:::i;:::-;12988:73;;1442:5;13175:8;:35;13171:67;;;13219:19;;-1:-1:-1;;;13219:19:75;;;;;;;;;;;13171:67;12291:958;;;;12268:981;13420:5;;13413:49;;-1:-1:-1;;;13413:49:75;;-1:-1:-1;;;;;11762:32:103;;;13413:49:75;;;11744:51:103;11811:18;;;11804:34;;;13398:12:75;;13420:5;;13413:22;;11717:18:103;;13413:49:75;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;13398:64;;13477:7;13472:37;;13493:16;;-1:-1:-1;;;13493:16:75;;;;;;;;;;;13472:37;13592:4;-1:-1:-1;;;;;13592:21:75;;:23;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;13680:9;-1:-1:-1;;;;;13656:50:75;;13691:14;13656:50;;;;603:25:103;;591:2;576:18;;457:177;13656:50:75;;;;;;;;11248:2465;;;;;11034:2679;;;:::o;6974:752::-;7083:9;7063:17;7106:14;;;7102:39;;7129:12;;-1:-1:-1;;;7129:12:75;;;;;;;;;;;7102:39;7208:4;;7202:48;;-1:-1:-1;;;7202:48:75;;7152:21;7202:48;;;160:51:103;;;7152:21:75;-1:-1:-1;;;;;7208:4:75;;7202:18;;7228:9;;133:18:103;;7202:48:75;;;;;;;;;;;;;;;;;;;;-1:-1:-1;7202:48:75;;;;;;;;-1:-1:-1;;7202:48:75;;;;;;;;;;;;:::i;:::-;;;7198:306;;7455:16;;-1:-1:-1;;;7455:16:75;;;;;;;;;;;7198:306;7308:8;7292:24;;7334:13;7351:1;7334:18;7330:47;;7361:16;;-1:-1:-1;;;7361:16:75;;;;;;;;;;;7330:47;7251:176;7586:4;-1:-1:-1;;;;;7586:21:75;;:23;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;7705:13:75;7689:30;;;;603:25:103;;591:2;576:18;;457:177;3732:207:19;3809:4;3901:14;;;-1:-1:-1;;;;;;;;;;;3901:14:19;;;;;;;;-1:-1:-1;;;;;3901:31:19;;;;;;;;;;;;;;;3732:207::o;2967:1189:75:-;4158:30:20;4191:26;:24;:26::i;:::-;4302:15;;4158:59;;-1:-1:-1;4302:15:20;-1:-1:-1;;;4302:15:20;;;4301:16;;4348:14;;4279:19;4726:16;;:34;;;;;4746:14;4726:34;4706:54;;4770:17;4790:11;:16;;4805:1;4790:16;:50;;;;-1:-1:-1;4818:4:20;4810:25;:30;4790:50;4770:70;;4856:12;4855:13;:30;;;;;4873:12;4872:13;4855:30;4851:91;;;4908:23;;-1:-1:-1;;;4908:23:20;;;;;;;;;;;4851:91;4951:18;;-1:-1:-1;;4951:18:20;4968:1;4951:18;;;4979:67;;;;5013:22;;-1:-1:-1;;;;5013:22:20;-1:-1:-1;;;5013:22:20;;;4979:67;3279:22:75::1;:20;:22::i;:::-;-1:-1:-1::0;;;;;3348:28:75;::::1;::::0;;:45:::1;;-1:-1:-1::0;3380:13:75;;3348:45:::1;:76;;;-1:-1:-1::0;;;;;;3397:27:75;::::1;::::0;3348:76:::1;:106;;;-1:-1:-1::0;;;;;;3428:26:75;::::1;::::0;3348:106:::1;:144;;;-1:-1:-1::0;;;;;;3458:34:75;::::1;::::0;3348:144:::1;:176;;;-1:-1:-1::0;;;;;;3496:28:75;::::1;::::0;3348:176:::1;3344:283;;;3547:13;;-1:-1:-1::0;;;3547:13:75::1;;;;;;;;;;;3344:283;3637:21;:38:::0;;-1:-1:-1;;;;;3637:38:75;;::::1;-1:-1:-1::0;;;;;;3637:38:75;;::::1;;::::0;;;3685:7:::1;:18:::0;;;3637:38;3713:21;;;;::::1;::::0;;::::1;;::::0;;3744:4:::1;:19:::0;;;;::::1;::::0;;::::1;;::::0;;-1:-1:-1;3795:35:75;;;;::::1;::::0;;::::1;::::0;::::1;::::0;;;-1:-1:-1;3840:23:75;;;;::::1;::::0;;;::::1;::::0;;;::::1;::::0;;3899:64:::1;::::0;;-1:-1:-1;;;3899:64:75;;;;:62:::1;::::0;:64;;::::1;::::0;::::1;::::0;;;;;;;;3795:35;3899:64:::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3873:23;:90:::0;4050:46:::1;2362:4:19;4081:14:75::0;4050:10:::1;:46::i;:::-;;4106:43;-1:-1:-1::0;;;;;;;;;;;4134:14:75::1;4106:10;:43::i;:::-;;5070:14:20::0;5066:101;;;5100:23;;-1:-1:-1;;;;5100:23:20;;;5142:14;;-1:-1:-1;12002:50:103;;5142:14:20;;11990:2:103;11975:18;5142:14:20;;;;;;;5066:101;4092:1081;;;;;2967:1189:75;;;;;;:::o;5405:1400::-;-1:-1:-1;;;;;;;;;;;3191:16:19;3202:4;3191:10;:16::i;:::-;5595:9:75::1;5618:18:::0;;:48;::::1;;;-1:-1:-1::0;5640:26:75;;5618:48:::1;5614:73;;;5675:12;;-1:-1:-1::0;;;5675:12:75::1;;;;;;;;;;;5614:73;5720:25;5771:17:::0;;5767:480:::1;;5899:4;::::0;5893:52:::1;::::0;-1:-1:-1;;;5893:52:75;;5899:4:::1;5893:52;::::0;::::1;160:51:103::0;-1:-1:-1;;;;;5899:4:75;;::::1;::::0;5893:18:::1;::::0;5919:13;;133:18:103;;5893:52:75::1;;;;;;;;;;;;;;;;;;;;-1:-1:-1::0;5893:52:75::1;::::0;;::::1;;::::0;;::::1;-1:-1:-1::0;;5893:52:75::1;::::0;::::1;::::0;;;::::1;::::0;;::::1;::::0;::::1;:::i;:::-;;;5889:348;;6184:16;;-1:-1:-1::0;;;6184:16:75::1;;;;;;;;;;;5889:348;6016:13;5996:33;;6051:17;6072:1;6051:22:::0;6047:51:::1;;6082:16;;-1:-1:-1::0;;;6082:16:75::1;;;;;;;;;;;6047:51;5946:206;5889:348;6362:23;6388:41;6408:21:::0;6388:17;:41:::1;:::i;:::-;6362:67;;6448:36;6487:4;-1:-1:-1::0;;;;;6487:29:75::1;;:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6448:70:::0;-1:-1:-1;6542:46:75::1;6573:15:::0;6448:70;6542:46:::1;:::i;:::-;6528:11;:60:::0;6650:12:::1;::::0;6624:56:::1;::::0;;-1:-1:-1;;;6624:56:75;;;;-1:-1:-1;;;;;6650:12:75;;::::1;::::0;6624:54:::1;::::0;:56:::1;::::0;;::::1;::::0;::::1;::::0;;;;;;;;;6650:12;6624:56:::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6598:23;:82:::0;6766:32:::1;::::0;603:25:103;;;-1:-1:-1;;;;;;;;;;;6766:32:75;591:2:103;576:18;6766:32:75::1;;;;;;;5561:1244;;;;5405:1400:::0;;:::o;16442:231::-;16556:13;16581:4;-1:-1:-1;;;;;16581:21:75;;:23;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;16621:45:75;;;-1:-1:-1;;;16621:45:75;;12291:13:103;;16621:45:75;;;12273:32:103;12365:4;12353:17;;12347:24;12373:4;12343:35;12321:20;;;12314:65;12423:17;;;12417:24;12395:20;;;12388:54;16621:4:75;;-1:-1:-1;16621:30:75;;-1:-1:-1;12246:18:103;;16621:45:75;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;15505:581::-;15562:7;15681:26;15736:12;;;;;;;;;-1:-1:-1;;;;;15736:12:75;-1:-1:-1;;;;;15710:54:75;;:56;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;15802:23;;15855:11;;15681:85;;-1:-1:-1;15802:23:75;15881:20;;;:47;;-1:-1:-1;15905:23:75;;15881:47;:88;;;;15951:18;15932:15;:37;15881:88;15877:135;;;15992:9;15505:581;-1:-1:-1;;;15505:581:75:o;15877:135::-;16064:15;16030:30;16042:18;16030:9;:30;:::i;:::-;16029:50;;;;:::i;:::-;16022:57;;;;;15505:581;:::o;9770:836::-;-1:-1:-1;;;;;;;;;;;3191:16:19;3202:4;3191:10;:16::i;:::-;9897:14:75::1;9915:1;9897:19:::0;9893:44:::1;;9925:12;;-1:-1:-1::0;;;9925:12:75::1;;;;;;;;;;;9893:44;-1:-1:-1::0;;;;;9951:23:75;::::1;9947:49;;9983:13;;-1:-1:-1::0;;;9983:13:75::1;;;;;;;;;;;9947:49;10007:36;10046:4;-1:-1:-1::0;;;;;10046:29:75::1;;:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10007:70;;10108:28;10091:14;:45;10087:143;;;10145:85;::::0;-1:-1:-1;;;10145:85:75;;10178:4:::1;10145:85;::::0;::::1;9596:51:103::0;9663:18;;;9656:34;;;9706:18;;;9699:34;;;9569:18;;10145:85:75::1;9394:345:103::0;10087:143:75::1;10263:5;::::0;10256:49:::1;::::0;-1:-1:-1;;;10256:49:75;;-1:-1:-1;;;;;11762:32:103;;;10256:49:75::1;::::0;::::1;11744:51:103::0;11811:18;;;11804:34;;;10241:12:75::1;::::0;10263:5:::1;::::0;10256:22:::1;::::0;11717:18:103;;10256:49:75::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10241:64;;10320:7;10315:37;;10336:16;;-1:-1:-1::0;;;10336:16:75::1;;;;;;;;;;;10315:37;10377:45;10408:14:::0;10377:28;:45:::1;:::i;:::-;10363:11;:59:::0;10484:12:::1;::::0;10458:56:::1;::::0;;-1:-1:-1;;;10458:56:75;;;;-1:-1:-1;;;;;10484:12:75;;::::1;::::0;10458:54:::1;::::0;:56:::1;::::0;;::::1;::::0;::::1;::::0;;;;;;;;;10484:12;10458:56:::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10432:23;:82:::0;10530:44:::1;::::0;603:25:103;;;-1:-1:-1;;;;;10530:44:75;::::1;::::0;::::1;::::0;591:2:103;576:18;10530:44:75::1;;;;;;;9883:723;;9770:836:::0;;;:::o;5662:138:19:-;5737:18;5750:4;5737:12;:18::i;:::-;3191:16;3202:4;3191:10;:16::i;:::-;5767:26:::1;5779:4;5785:7;5767:11;:26::i;14023:1339:75:-:0;14188:16;;14139:13;;14218:18;;;14214:110;;-1:-1:-1;;;14259:17:75;14023:1339;-1:-1:-1;;14023:1339:75:o;14214:110::-;14334:20;14357:4;-1:-1:-1;;;;;14357:29:75;;:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;14334:54;;14402:12;14418:1;14402:17;14398:88;;-1:-1:-1;14442:1:75;;14023:1339;-1:-1:-1;;;14023:1339:75:o;14398:88::-;14545:26;14626:13;:22;;;14618:31;;14614:2;:35;;;;:::i;:::-;14590:19;;14575:34;;:12;:34;:::i;:::-;14574:76;;;;:::i;:::-;14545:105;;14742:19;14790:12;;;;;;;;;-1:-1:-1;;;;;14790:12:75;-1:-1:-1;;;;;14764:54:75;;:56;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;14742:78;;14830:25;14916:12;;;;;;;;;-1:-1:-1;;;;;14916:12:75;-1:-1:-1;;;;;14890:56:75;;:58;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;14859:27;14875:11;14859:13;:27;:::i;:::-;14858:90;;;;:::i;:::-;14830:118;;14963:17;14984:1;14963:22;14959:151;;-1:-1:-1;;;15082:17:75;14023:1339;-1:-1:-1;;;;;;14023:1339:75:o;14959:151::-;15315:17;15285:26;:18;15306:5;15285:26;:::i;:::-;15284:48;;;;:::i;:::-;15276:56;14023:1339;-1:-1:-1;;;;;;;14023:1339:75:o;16765:145::-;16872:5;;16865:38;;-1:-1:-1;;;16865:38:75;;16897:4;16865:38;;;160:51:103;16831:15:75;;-1:-1:-1;;;;;16872:5:75;;16865:23;;133:18:103;;16865:38:75;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;16858:45;;16765:145;:::o;17306:1231::-;17386:5;;17379:38;;-1:-1:-1;;;17379:38:75;;17411:4;17379:38;;;160:51:103;17353:23:75;;-1:-1:-1;;;;;17386:5:75;;17379:23;;133:18:103;;17379:38:75;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;17353:64;;17427:32;17462:4;-1:-1:-1;;;;;17462:29:75;;:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;17427:66;;17503:26;17558:12;;;;;;;;;-1:-1:-1;;;;;17558:12:75;-1:-1:-1;;;;;17532:54:75;;:56;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;17503:85;;17621:24;17603:15;:42;17599:434;;;17661:13;17677:42;17695:24;17677:15;:42;:::i;:::-;17748:21;;17733:69;;-1:-1:-1;;;17733:69:75;;;;;603:25:103;;;17661:58:75;;-1:-1:-1;;;;;;17748:21:75;;17733:62;;576:18:103;;17733:69:75;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;17647:167;17599:434;;;17842:24;17824:15;:42;17820:213;;;17882:13;17898:42;17925:15;17898:24;:42;:::i;:::-;17969:21;;17954:68;;-1:-1:-1;;;17954:68:75;;;;;603:25:103;;;17882:58:75;;-1:-1:-1;;;;;;17969:21:75;;17954:61;;576:18:103;;17954:68:75;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;17868:165;17820:213;18353:15;18338:11;;:30;;:79;;;;18399:18;18372:23;;:45;;18338:79;18334:197;;;18433:11;:29;;;;-1:-1:-1;18476:23:75;:44;17306:1231::o;4148:103:19:-;4214:30;4225:4;966:10:24;4214::19;:30::i;:::-;4148:103;:::o;7270:387::-;7347:4;-1:-1:-1;;;;;;;;;;;7437:22:19;7445:4;7451:7;7437;:22::i;:::-;7432:219;;7475:8;:14;;;;;;;;;;;-1:-1:-1;;;;;7475:31:19;;;;;;;;;:38;;-1:-1:-1;;7475:38:19;7509:4;7475:38;;;7559:12;966:10:24;;887:96;7559:12:19;-1:-1:-1;;;;;7532:40:19;7550:7;-1:-1:-1;;;;;7532:40:19;7544:4;7532:40;;;;;;;;;;7593:4;7586:11;;;;;7432:219;7635:5;7628:12;;;;;7894:388;7972:4;-1:-1:-1;;;;;;;;;;;8061:22:19;8069:4;8075:7;8061;:22::i;:::-;8057:219;;;8133:5;8099:14;;;;;;;;;;;-1:-1:-1;;;;;8099:31:19;;;;;;;;;;:39;;-1:-1:-1;;8099:39:19;;;8157:40;966:10:24;;8099:14:19;;8157:40;;8133:5;8157:40;8218:4;8211:11;;;;;9073:205:20;9131:30;;3147:66;9188:27;8821:122;3231:65:19;6931:20:20;:18;:20::i;:::-;3231:65:19:o;4381:197::-;4469:22;4477:4;4483:7;4469;:22::i;:::-;4464:108;;4514:47;;-1:-1:-1;;;4514:47:19;;-1:-1:-1;;;;;11762:32:103;;4514:47:19;;;11744:51:103;11811:18;;;11804:34;;;11717:18;;4514:47:19;11562:282:103;7084:141:20;7151:17;:15;:17::i;:::-;7146:73;;7191:17;;-1:-1:-1;;;7191:17:20;;;;;;;;;;;8487:120;8537:4;8560:26;:24;:26::i;:::-;:40;-1:-1:-1;;;8560:40:20;;;;;;-1:-1:-1;8487:120:20:o;222:230:103:-;292:6;345:2;333:9;324:7;320:23;316:32;313:52;;;361:1;358;351:12;313:52;-1:-1:-1;406:16:103;;222:230;-1:-1:-1;222:230:103:o;639:286::-;697:6;750:2;738:9;729:7;725:23;721:32;718:52;;;766:1;763;756:12;718:52;792:23;;-1:-1:-1;;;;;;844:32:103;;834:43;;824:71;;891:1;888;881:12;824:71;914:5;639:286;-1:-1:-1;;;639:286:103:o;1122:179::-;1180:6;1233:2;1221:9;1212:7;1208:23;1204:32;1201:52;;;1249:1;1246;1239:12;1201:52;-1:-1:-1;1272:23:103;;1122:179;-1:-1:-1;1122:179:103:o;1719:131::-;-1:-1:-1;;;;;1794:31:103;;1784:42;;1774:70;;1840:1;1837;1830:12;1855:367;1923:6;1931;1984:2;1972:9;1963:7;1959:23;1955:32;1952:52;;;2000:1;1997;1990:12;1952:52;2045:23;;;-1:-1:-1;2144:2:103;2129:18;;2116:32;2157:33;2116:32;2157:33;:::i;:::-;2209:7;2199:17;;;1855:367;;;;;:::o;2458:665::-;2585:6;2593;2601;2654:2;2642:9;2633:7;2629:23;2625:32;2622:52;;;2670:1;2667;2660:12;2622:52;2709:9;2696:23;2728:31;2753:5;2728:31;:::i;:::-;2778:5;-1:-1:-1;2856:2:103;2841:18;;2828:32;;-1:-1:-1;2937:2:103;2922:18;;2909:32;2964:18;2953:30;;2950:50;;;2996:1;2993;2986:12;2950:50;3019:22;;3075:3;3057:16;;;3053:26;3050:46;;;3092:1;3089;3082:12;3050:46;3115:2;3105:12;;;2458:665;;;;;:::o;3128:934::-;3232:6;3240;3248;3256;3264;3272;3325:3;3313:9;3304:7;3300:23;3296:33;3293:53;;;3342:1;3339;3332:12;3293:53;3381:9;3368:23;3400:31;3425:5;3400:31;:::i;:::-;3450:5;-1:-1:-1;3528:2:103;3513:18;;3500:32;;-1:-1:-1;3610:2:103;3595:18;;3582:32;3623:33;3582:32;3623:33;:::i;:::-;3675:7;-1:-1:-1;3734:2:103;3719:18;;3706:32;3747:33;3706:32;3747:33;:::i;:::-;3799:7;-1:-1:-1;3858:3:103;3843:19;;3830:33;3872;3830;3872;:::i;:::-;3924:7;-1:-1:-1;3983:3:103;3968:19;;3955:33;3997;3955;3997;:::i;:::-;4049:7;4039:17;;;3128:934;;;;;;;;:::o;4067:343::-;4134:2;4128:9;4176:2;4164:15;;4209:18;4194:34;;4230:22;;;4191:62;4188:185;;;4295:10;4290:3;4286:20;4283:1;4276:31;4330:4;4327:1;4320:15;4358:4;4355:1;4348:15;4188:185;4389:2;4382:22;4067:343;:::o;4415:114::-;4499:4;4492:5;4488:16;4481:5;4478:27;4468:55;;4519:1;4516;4509:12;4534:622;4625:6;4685:2;4673:9;4664:7;4660:23;4656:32;4700:2;4697:22;;;4715:1;4712;4705:12;4697:22;-1:-1:-1;4757:17:103;;:::i;:::-;4819:23;;4851:22;;4925:2;4910:18;;4897:32;4938:31;4897:32;4938:31;:::i;:::-;4996:2;4985:14;;4978:31;5082:2;5067:18;;;5054:32;5102:14;;;5095:31;;;;-1:-1:-1;4989:5:103;4534:622;-1:-1:-1;4534:622:103:o;5533:127::-;5594:10;5589:3;5585:20;5582:1;5575:31;5625:4;5622:1;5615:15;5649:4;5646:1;5639:15;5665:125;5730:9;;;5751:10;;;5748:36;;;5764:18;;:::i;5795:136::-;5830:3;-1:-1:-1;;;5851:22:103;;5848:48;;5876:18;;:::i;:::-;-1:-1:-1;5916:1:103;5912:13;;5795:136::o;5936:128::-;6003:9;;;6024:11;;;6021:37;;;6038:18;;:::i;6696:277::-;6763:6;6816:2;6804:9;6795:7;6791:23;6787:32;6784:52;;;6832:1;6829;6822:12;6784:52;6864:9;6858:16;6917:5;6910:13;6903:21;6896:5;6893:32;6883:60;;6939:1;6936;6929:12;6978:251;7048:6;7101:2;7089:9;7080:7;7076:23;7072:32;7069:52;;;7117:1;7114;7107:12;7069:52;7149:9;7143:16;7168:31;7193:5;7168:31;:::i;7234:266::-;7322:6;7317:3;7310:19;7374:6;7367:5;7360:4;7355:3;7351:14;7338:43;-1:-1:-1;7426:1:103;7401:16;;;7419:4;7397:27;;;7390:38;;;;7482:2;7461:15;;;-1:-1:-1;;7457:29:103;7448:39;;;7444:50;;7234:266::o;7505:1267::-;7716:2;7698:21;;;7760:20;;7796:18;;;7789:33;7679:4;;7859:15;;7846:29;7884:31;7846:29;7884:31;:::i;:::-;7964:4;7951:18;7946:2;7931:18;;;7924:46;;;;8028:15;;8015:29;8075:2;8060:18;;;8053:35;;;;8146:15;;8133:29;8193:3;8178:19;;;8171:36;;;;8255:16;;8242:30;8323:14;8319:27;;;-1:-1:-1;;8315:41:103;8291:66;;8281:94;;8371:1;8368;8361:12;8281:94;8399:31;;8511:2;8498:16;;;8453:21;8537:18;8526:30;;8523:50;;;8569:1;8566;8559:12;8523:50;8618:6;8602:14;8598:27;8589:7;8585:41;8582:61;;;8639:1;8636;8629:12;8582:61;8681:4;8674;8663:9;8659:20;8652:34;8703:63;8761:3;8750:9;8746:19;8738:6;8729:7;8703:63;:::i;:::-;8695:71;7505:1267;-1:-1:-1;;;;;7505:1267:103:o;8777:612::-;8879:6;8939:2;8927:9;8918:7;8914:23;8910:32;8954:2;8951:22;;;8969:1;8966;8959:12;8951:22;-1:-1:-1;9011:17:103;;:::i;:::-;9073:16;;9098:22;;9165:2;9150:18;;9144:25;9178:31;9144:25;9178:31;:::i;:::-;9236:2;9225:14;;9218:31;9315:2;9300:18;;;9294:25;9335:14;;;9328:31;;;;-1:-1:-1;9229:5:103;8777:612;-1:-1:-1;8777:612:103:o;9744:168::-;9817:9;;;9848;;9865:15;;;9859:22;;9845:37;9835:71;;9886:18;;:::i;9917:217::-;9957:1;9983;9973:132;;10027:10;10022:3;10018:20;10015:1;10008:31;10062:4;10059:1;10052:15;10090:4;10087:1;10080:15;9973:132;-1:-1:-1;10119:9:103;;9917:217::o;10139:375::-;10227:1;10245:5;10259:249;10280:1;10270:8;10267:15;10259:249;;;10330:4;10325:3;10321:14;10315:4;10312:24;10309:50;;;10339:18;;:::i;:::-;10389:1;10379:8;10375:16;10372:49;;;10403:16;;;;10372:49;10486:1;10482:16;;;;;10442:15;;10259:249;;;10139:375;;;;;;:::o;10519:902::-;10568:5;10598:8;10588:80;;-1:-1:-1;10639:1:103;10653:5;;10588:80;10687:4;10677:76;;-1:-1:-1;10724:1:103;10738:5;;10677:76;10769:4;10787:1;10782:59;;;;10855:1;10850:174;;;;10762:262;;10782:59;10812:1;10803:10;;10826:5;;;10850:174;10887:3;10877:8;10874:17;10871:43;;;10894:18;;:::i;:::-;-1:-1:-1;;10950:1:103;10936:16;;11009:5;;10762:262;;11108:2;11098:8;11095:16;11089:3;11083:4;11080:13;11076:36;11070:2;11060:8;11057:16;11052:2;11046:4;11043:12;11039:35;11036:77;11033:203;;;-1:-1:-1;11145:19:103;;;11221:5;;11033:203;11268:42;-1:-1:-1;;11293:8:103;11287:4;11268:42;:::i;:::-;11346:6;11342:1;11338:6;11334:19;11325:7;11322:32;11319:58;;;11357:18;;:::i;:::-;11395:20;;10519:902;-1:-1:-1;;;10519:902:103:o;11426:131::-;11486:5;11515:36;11542:8;11536:4;11515:36;:::i","linkReferences":{}},"methodIdentifiers":{"DEFAULT_ADMIN_ROLE()":"a217fddf","MINIMUM_COLLATERAL_RATIO()":"82882f8a","STABILIZER_ROLE()":"4699643b","addCollateralEth()":"769ef03d","addCollateralFromStabilizer(uint256)":"bf3fdde7","addCollateralStETH(uint256)":"571a1e28","backedPoolShares()":"d39aa95a","getCollateralizationRatio((uint256,uint8,uint256))":"dc607d6f","getCurrentStEthBalance()":"ee5f4407","getRoleAdmin(bytes32)":"248a9ca3","getTrackedStEthWithYield()":"cd217484","grantRole(bytes32,address)":"2f2ff15d","hasRole(bytes32,address)":"91d14854","initialize(address,uint256,address,address,address,address)":"a2dc2ab7","lido()":"23509a2d","lockedStEth()":"f362e626","modifyAllocation(int256)":"0bfd07fc","oracle()":"7dc0d1d0","rateContract()":"eee24219","removeCollateral(uint256,address)":"d41ddc96","removeExcessCollateral(address,uint256,(uint256,uint8,uint256,bytes32,bytes))":"618f8027","renounceRole(bytes32,address)":"36568abe","revokeRole(bytes32,address)":"d547741f","stETH()":"c1fe3e48","stabilizerNFTContract()":"bec070d6","supportsInterface(bytes4)":"01ffc9a7","syncStEthAndGetCollateralizationRatio((uint256,uint8,uint256))":"c6d56aa9","syncStEthBalance()":"fc523471","tokenId()":"17d70f7c","yieldFactorAtLastUpdate()":"8175ad23"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.29+commit.ab55807c\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AccessControlBadConfirmation\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"neededRole\",\"type\":\"bytes32\"}],\"name\":\"AccessControlUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ArithmeticError\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BelowMinimumRatio\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"allowance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"needed\",\"type\":\"uint256\"}],\"name\":\"ERC20InsufficientAllowance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"needed\",\"type\":\"uint256\"}],\"name\":\"ERC20InsufficientBalance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"approver\",\"type\":\"address\"}],\"name\":\"ERC20InvalidApprover\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"ERC20InvalidReceiver\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"ERC20InvalidSender\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"ERC20InvalidSpender\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidInitialization\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotInitializing\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotNFTOwner\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TransferFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAmount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"sharesDelta\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newTotalShares\",\"type\":\"uint256\"}],\"name\":\"AllocationModified\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalStEthAmount\",\"type\":\"uint256\"}],\"name\":\"CollateralAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"CollateralRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"ExcessCollateralRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"version\",\"type\":\"uint64\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"previousAdminRole\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"newAdminRole\",\"type\":\"bytes32\"}],\"name\":\"RoleAdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleGranted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleRevoked\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"DEFAULT_ADMIN_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MINIMUM_COLLATERAL_RATIO\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"STABILIZER_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"addCollateralEth\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"stabilizerStEthAmount\",\"type\":\"uint256\"}],\"name\":\"addCollateralFromStabilizer\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"stETHAmount\",\"type\":\"uint256\"}],\"name\":\"addCollateralStETH\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"backedPoolShares\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"decimals\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct IPriceOracle.PriceResponse\",\"name\":\"priceResponse\",\"type\":\"tuple\"}],\"name\":\"getCollateralizationRatio\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"ratio\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentStEthBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"}],\"name\":\"getRoleAdmin\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTrackedStEthWithYield\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"grantRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"hasRole\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_stabilizerNFT\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stETHAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_lidoAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_rateContractAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_oracleAddress\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lido\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lockedStEth\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"sharesDelta\",\"type\":\"int256\"}],\"name\":\"modifyAllocation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"oracle\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"rateContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amountToRemove\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"removeCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amountToRemove\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"decimals\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"dataTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"assetPair\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"internalType\":\"struct IPriceOracle.PriceAttestationQuery\",\"name\":\"priceQuery\",\"type\":\"tuple\"}],\"name\":\"removeExcessCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"callerConfirmation\",\"type\":\"address\"}],\"name\":\"renounceRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"revokeRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stETH\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stabilizerNFTContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"decimals\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct IPriceOracle.PriceResponse\",\"name\":\"priceResponse\",\"type\":\"tuple\"}],\"name\":\"syncStEthAndGetCollateralizationRatio\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"ratio\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"syncStEthBalance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"tokenId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"yieldFactorAtLastUpdate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"details\":\"Deployed and controlled by the StabilizerNFT contract. Implements IPositionEscrow and AccessControl. Meant to be deployed as a clone.\",\"errors\":{\"AccessControlBadConfirmation()\":[{\"details\":\"The caller of a function is not the expected one. NOTE: Don't confuse with {AccessControlUnauthorizedAccount}.\"}],\"AccessControlUnauthorizedAccount(address,bytes32)\":[{\"details\":\"The `account` is missing a role.\"}],\"ERC20InsufficientAllowance(address,uint256,uint256)\":[{\"details\":\"Indicates a failure with the `spender`\\u2019s `allowance`. Used in transfers.\",\"params\":{\"allowance\":\"Amount of tokens a `spender` is allowed to operate with.\",\"needed\":\"Minimum amount required to perform a transfer.\",\"spender\":\"Address that may be allowed to operate on tokens without being their owner.\"}}],\"ERC20InsufficientBalance(address,uint256,uint256)\":[{\"details\":\"Indicates an error related to the current `balance` of a `sender`. Used in transfers.\",\"params\":{\"balance\":\"Current balance for the interacting account.\",\"needed\":\"Minimum amount required to perform a transfer.\",\"sender\":\"Address whose tokens are being transferred.\"}}],\"ERC20InvalidApprover(address)\":[{\"details\":\"Indicates a failure with the `approver` of a token to be approved. Used in approvals.\",\"params\":{\"approver\":\"Address initiating an approval operation.\"}}],\"ERC20InvalidReceiver(address)\":[{\"details\":\"Indicates a failure with the token `receiver`. Used in transfers.\",\"params\":{\"receiver\":\"Address to which tokens are being transferred.\"}}],\"ERC20InvalidSender(address)\":[{\"details\":\"Indicates a failure with the token `sender`. Used in transfers.\",\"params\":{\"sender\":\"Address whose tokens are being transferred.\"}}],\"ERC20InvalidSpender(address)\":[{\"details\":\"Indicates a failure with the `spender` to be approved. Used in approvals.\",\"params\":{\"spender\":\"Address that may be allowed to operate on tokens without being their owner.\"}}],\"InvalidInitialization()\":[{\"details\":\"The contract is already initialized.\"}],\"NotInitializing()\":[{\"details\":\"The contract is not initializing.\"}]},\"events\":{\"Initialized(uint64)\":{\"details\":\"Triggered when the contract has been initialized or reinitialized.\"},\"RoleAdminChanged(bytes32,bytes32,bytes32)\":{\"details\":\"Emitted when `newAdminRole` is set as ``role``'s admin role, replacing `previousAdminRole` `DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite {RoleAdminChanged} not being emitted signaling this.\"},\"RoleGranted(bytes32,address,address)\":{\"details\":\"Emitted when `account` is granted `role`. `sender` is the account that originated the contract call. This account bears the admin role (for the granted role). Expected in cases where the role was granted using the internal {AccessControl-_grantRole}.\"},\"RoleRevoked(bytes32,address,address)\":{\"details\":\"Emitted when `account` is revoked `role`. `sender` is the account that originated the contract call:   - if using `revokeRole`, it is the admin role bearer   - if using `renounceRole`, it is the role bearer (i.e. `account`)\"}},\"kind\":\"dev\",\"methods\":{\"addCollateralEth()\":{\"details\":\"Converts msg.value ETH to stETH. Callable by anyone.\"},\"addCollateralFromStabilizer(uint256)\":{\"details\":\"Callable only by STABILIZER_ROLE (StabilizerNFT). Converts msg.value ETH to stETH.      Assumes stabilizerStEthAmount has been transferred *to* this contract *before* this call.\",\"params\":{\"stabilizerStEthAmount\":\"The amount of stETH already transferred from the StabilizerEscrow.\"}},\"addCollateralStETH(uint256)\":{\"details\":\"Requires caller to have approved this contract. Callable by anyone.\",\"params\":{\"stETHAmount\":\"The amount of stETH to add.\"}},\"constructor\":{\"custom:oz-upgrades-unsafe-allow\":\"constructor\"},\"getCollateralizationRatio((uint256,uint8,uint256))\":{\"params\":{\"priceResponse\":\"The current valid price response for stETH/USD.\"},\"returns\":{\"ratio\":\"The ratio (scaled by 100, e.g., 110 means 110%). Returns type(uint256).max if liability is zero.\"}},\"getRoleAdmin(bytes32)\":{\"details\":\"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role's admin, use {_setRoleAdmin}.\"},\"getTrackedStEthWithYield()\":{\"returns\":{\"_0\":\"The projected stETH balance.\"}},\"grantRole(bytes32,address)\":{\"details\":\"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleGranted} event.\"},\"hasRole(bytes32,address)\":{\"details\":\"Returns `true` if `account` has been granted `role`.\"},\"initialize(address,uint256,address,address,address,address)\":{\"params\":{\"_lidoAddress\":\"The address of the Lido staking pool.\",\"_oracleAddress\":\"The address of the PriceOracle contract.\",\"_rateContractAddress\":\"The address of the PoolSharesConversionRate contract.\",\"_stETHAddress\":\"The address of the stETH token.\",\"_stabilizerNFT\":\"The address of the controlling StabilizerNFT contract.\",\"_tokenId\":\"The ID of the StabilizerNFT this escrow is associated with.\"}},\"modifyAllocation(int256)\":{\"details\":\"Callable only by STABILIZER_ROLE (StabilizerNFT).\",\"params\":{\"sharesDelta\":\"The change in pool shares (can be positive or negative).\"}},\"removeCollateral(uint256,address)\":{\"details\":\"Callable only by STABILIZER_ROLE (StabilizerNFT).\",\"params\":{\"amountToRemove\":\"The total amount of stETH to remove.\",\"recipient\":\"The address to send the stETH to (typically StabilizerNFT).\"}},\"removeExcessCollateral(address,uint256,(uint256,uint8,uint256,bytes32,bytes))\":{\"details\":\"Callable only by EXCESSCOLLATERALMANAGER_ROLE (Stabilizer Owner).\",\"params\":{\"amountToRemove\":\"The amount of stETH the caller wishes to remove.\",\"priceQuery\":\"The signed price attestation query.\",\"recipient\":\"The address (StabilizerEscrow) to send the stETH to.\"}},\"renounceRole(bytes32,address)\":{\"details\":\"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function's purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `callerConfirmation`. May emit a {RoleRevoked} event.\"},\"revokeRole(bytes32,address)\":{\"details\":\"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleRevoked} event.\"},\"supportsInterface(bytes4)\":{\"details\":\"See {IERC165-supportsInterface}.\"},\"syncStEthAndGetCollateralizationRatio((uint256,uint8,uint256))\":{\"details\":\"This is a non-view function intended for use in transactions like liquidations.\",\"params\":{\"priceResponse\":\"The current valid price response for stETH/USD.\"},\"returns\":{\"ratio\":\"The ratio (scaled by 10000, e.g., 11000 means 110.00%).\"}},\"syncStEthBalance()\":{\"details\":\"This function accounts for stETH yield or direct transfers by updating the internal ledger      and reporting the change to the StabilizerNFT contract to keep the system-wide      collateral snapshot accurate. It can be called by anyone.\"}},\"title\":\"PositionEscrow\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"addCollateralEth()\":{\"notice\":\"Adds collateral by receiving native ETH, which is staked via Lido.\"},\"addCollateralFromStabilizer(uint256)\":{\"notice\":\"Receives user's ETH, stakes it via Lido, and acknowledges stabilizer's stETH contribution.\"},\"addCollateralStETH(uint256)\":{\"notice\":\"Adds collateral by receiving stETH directly from the caller.\"},\"getCollateralizationRatio((uint256,uint8,uint256))\":{\"notice\":\"Calculates the current collateralization ratio.\"},\"getCurrentStEthBalance()\":{\"notice\":\"Returns the current stETH balance held by this escrow.\"},\"getTrackedStEthWithYield()\":{\"notice\":\"Calculates the current tracked stETH balance including yield.\"},\"initialize(address,uint256,address,address,address,address)\":{\"notice\":\"Initializes the PositionEscrow contract state.\"},\"modifyAllocation(int256)\":{\"notice\":\"Modifies the backed pool shares liability.\"},\"removeCollateral(uint256,address)\":{\"notice\":\"Removes stETH collateral.\"},\"removeExcessCollateral(address,uint256,(uint256,uint8,uint256,bytes32,bytes))\":{\"notice\":\"Removes a specified amount of stETH collateral if the ratio remains >= MINIMUM_COLLATERAL_RATIO.\"},\"syncStEthAndGetCollateralizationRatio((uint256,uint8,uint256))\":{\"notice\":\"Synchronizes the stETH balance and then gets the collateralization ratio.\"},\"syncStEthBalance()\":{\"notice\":\"Synchronizes the internal `lockedStEth` balance with the actual stETH balance of the contract.\"}},\"notice\":\"Holds and manages the pooled stETH collateral for a single collateralized position.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/PositionEscrow.sol\":\"PositionEscrow\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":chainlink/=lib/chainlink/\",\":createx/=lib/createx/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/\",\":solady/=lib/createx/lib/solady/src/\",\":uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/\",\":uniswap-v3-core/=lib/uniswap-v3-core/\"]},\"sources\":{\"lib/chainlink/contracts/src/v0.8/shared/interfaces/AggregatorV3Interface.sol\":{\"keccak256\":\"0x257a8d28fa83d3d942547c8e129ef465e4b5f3f31171e7be4739a4c98da6b4f0\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6d39e11b1dc7b9b8ccdabbc9be442ab7cda4a81c748f57e316dcb1bcb4a28bf9\",\"dweb:/ipfs/QmaG6vz6W6iEUBsbHSBob5mdcitYxWjoygxREHpsJHfWrS\"]},\"lib/forge-std/src/console.sol\":{\"keccak256\":\"0x4bbf47eb762cef93729d6ef15e78789957147039b113e5d4df48e3d3fd16d0f5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://af9e3a7c3d82fb5b10b57ca4d1a82f2acbef80c077f6f6ef0cc0187c7bfd9f57\",\"dweb:/ipfs/QmR9VzmnBDJpgiDP6CHT6truehukF9HpYvuP6kRiJbDwPP\"]},\"lib/openzeppelin-contracts-upgradeable/contracts/access/AccessControlUpgradeable.sol\":{\"keccak256\":\"0x949f1b87232ce60ae1d7651dfc4272f258a388448e08b4d624b1acbe05d8b39b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://469b7e1cab4c319957fddef8ad610ce347e2494d15389f3d3f689c4be66c1f7d\",\"dweb:/ipfs/QmdC9UdUZAYzjyZ2ULJgJ5QxhDHRtVJ8MJhHKjiotNfCeY\"]},\"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol\":{\"keccak256\":\"0xe62b887bd4460c77222e1c806362b72462ddb13e224ba3a759ad1a23fe6ea22a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b34213dbcea29166c5b77c8aa48908db812bf55ff501f89bc0e8e6e4dd7c8e2b\",\"dweb:/ipfs/QmZ7HaZLMseqKhUL5cUM2dfWp6Xy8HGME6kA3iDM4E5QV3\"]},\"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/UUPSUpgradeable.sol\":{\"keccak256\":\"0xe1448f559716952220b5c696a5cc34d1f11f958bfbfcd05988543f6fd8bfff96\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ebd19cec65d3998dad25dc9beecd33055b1900f26c3f61377c78926ca0637c9a\",\"dweb:/ipfs/QmUda1jFjWf2ptQrahTgU6953SZY7ZWksRaTo2dKGX4BMK\"]},\"lib/openzeppelin-contracts-upgradeable/contracts/utils/ContextUpgradeable.sol\":{\"keccak256\":\"0xdbef5f0c787055227243a7318ef74c8a5a1108ca3a07f2b3a00ef67769e1e397\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://08e39f23d5b4692f9a40803e53a8156b72b4c1f9902a88cd65ba964db103dab9\",\"dweb:/ipfs/QmPKn6EYDgpga7KtpkA8wV2yJCYGMtc9K4LkJfhKX2RVSV\"]},\"lib/openzeppelin-contracts-upgradeable/contracts/utils/PausableUpgradeable.sol\":{\"keccak256\":\"0x5d8e82c386fc37afeeb6d38dd840f85a341e1199c04b0abfc242d1a4b794de58\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://23cb03c0f01521e0721db6d87412b732b016987a3cac4cd5170023fa02b8abd7\",\"dweb:/ipfs/QmPhxG4aixGdJcVmUVBUrnxcvNTE4bp7dEhbuQSmbrEzri\"]},\"lib/openzeppelin-contracts-upgradeable/contracts/utils/introspection/ERC165Upgradeable.sol\":{\"keccak256\":\"0xc8ed8d2056934b7675b695dec032f2920c2f5c6cf33a17ca85650940675323ab\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3c8ccc75d1cd792d192aa09e54dd49ea35fe85baa9fcd17486f29227d9f29b89\",\"dweb:/ipfs/QmbboSbFUEiM9tdEgBwuTRb7bykFoJXZ7dsSr1PSREJXMr\"]},\"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol\":{\"keccak256\":\"0xc1c2a7f1563b77050dc6d507db9f4ada5d042c1f6a9ddbffdc49c77cdc0a1606\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fd54abb96a6156d9a761f6fdad1d3004bc48d2d4fce47f40a3f91a7ae83fc3a1\",\"dweb:/ipfs/QmUrFSGkTDJ7WaZ6qPVVe3Gn5uN2viPb7x7QQ35UX4DofX\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC1967.sol\":{\"keccak256\":\"0xb25a4f11fa80c702bf5cd85adec90e6f6f507f32f4a8e6f5dbc31e8c10029486\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6917f8a323e7811f041aecd4d9fd6e92455a6fba38a797ac6f6e208c7912b79d\",\"dweb:/ipfs/QmShuYv55wYHGi4EFkDB8QfF7ZCHoKk2efyz3AWY1ExSq7\"]},\"lib/openzeppelin-contracts/contracts/interfaces/draft-IERC1822.sol\":{\"keccak256\":\"0xc42facb5094f2f35f066a7155bda23545e39a3156faef3ddc00185544443ba7d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d3b36282ab029b46bd082619a308a2ea11c309967b9425b7b7a6eb0b0c1c3196\",\"dweb:/ipfs/QmP2YVfDB2FoREax3vJu7QhDnyYRMw52WPrCD4vdT2kuDA\"]},\"lib/openzeppelin-contracts/contracts/interfaces/draft-IERC6093.sol\":{\"keccak256\":\"0x880da465c203cec76b10d72dbd87c80f387df4102274f23eea1f9c9b0918792b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://399594cd8bb0143bc9e55e0f1d071d0d8c850a394fb7a319d50edd55d9ed822b\",\"dweb:/ipfs/QmbPZzgtT6LEm9CMqWfagQFwETbV1ztpECBB1DtQHrKiRz\"]},\"lib/openzeppelin-contracts/contracts/proxy/ERC1967/ERC1967Utils.sol\":{\"keccak256\":\"0x8decfa54cec979c824b044b8128cd91d713f72c71fd7dfa54974624d8c949898\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://271f914261a19d87117a777e0924ada545c16191ef9b00cc40b0134fc14ebc70\",\"dweb:/ipfs/QmdvVNWHGHQrGGPonZJs5NuzTevTjZRM2zayKrDJf7WBA2\"]},\"lib/openzeppelin-contracts/contracts/proxy/beacon/IBeacon.sol\":{\"keccak256\":\"0xc59a78b07b44b2cf2e8ab4175fca91e8eca1eee2df7357b8d2a8833e5ea1f64c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5aa4f07e65444784c29cd7bfcc2341b34381e4e5b5da9f0c5bd00d7f430e66fa\",\"dweb:/ipfs/QmWRMh4Q9DpaU9GvsiXmDdoNYMyyece9if7hnfLz7uqzWM\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6b7f97c5960a50fd1822cb298551ffc908e37b7893a68d6d08bce18a11cb0f11\",\"dweb:/ipfs/QmQQvxBytoY1eBt3pRQDmvH2hZ2yjhs12YqVfzGm7KSURq\"]},\"lib/openzeppelin-contracts/contracts/utils/Address.sol\":{\"keccak256\":\"0xaaa1d17c1129b127a4a401db2fbd72960e2671474be3d08cae71ccdc42f7624c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://cb2f27cd3952aa667e198fba0d9b7bcec52fbb12c16f013c25fe6fb52b29cc0e\",\"dweb:/ipfs/QmeuohBFoeyDPZA9JNCTEDz3VBfBD4EABWuWXVhHAuEpKR\"]},\"lib/openzeppelin-contracts/contracts/utils/Errors.sol\":{\"keccak256\":\"0x6afa713bfd42cf0f7656efa91201007ac465e42049d7de1d50753a373648c123\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ba1d02f4847670a1b83dec9f7d37f0b0418d6043447b69f3a29a5f9efc547fcf\",\"dweb:/ipfs/QmQ7iH2keLNUKgq2xSWcRmuBE5eZ3F5whYAkAGzCNNoEWB\"]},\"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b\",\"dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM\"]},\"lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol\":{\"keccak256\":\"0x69f54c02b7d81d505910ec198c11ed4c6a728418a868b906b4a0cf29946fda84\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8e25e4bdb7ae1f21d23bfee996e22736fc0ab44cfabedac82a757b1edc5623b9\",\"dweb:/ipfs/QmQdWQvB6JCP9ZMbzi8EvQ1PTETqkcTWrbcVurS7DKpa5n\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"lib/uniswap-v2-periphery/contracts/interfaces/IUniswapV2Router01.sol\":{\"keccak256\":\"0x8a3c5c449d4b7cd76513ed6995f4b86e4a86f222c770f8442f5fc128ce29b4d2\",\"urls\":[\"bzz-raw://1df63ca373dafae3bd0ee7fe70f890a1dc7c45ed869c01de68413e0e97ff9deb\",\"dweb:/ipfs/QmefJgEYGUL8KX7kQKYTrDweF8GB7yjy3nw5Bmqzryg7PG\"]},\"lib/uniswap-v2-periphery/contracts/interfaces/IUniswapV2Router02.sol\":{\"keccak256\":\"0x744e30c133bd0f7ca9e7163433cf6d72f45c6bb1508c2c9c02f1a6db796ae59d\",\"urls\":[\"bzz-raw://9bf2f4454ad63d4cff03a0630e787d9e8a9deed80aec89682cd8ad6379d9ef8c\",\"dweb:/ipfs/Qme51hQNR2wpax7ooUadhtqLtXm8ffeVVYyubLkTT4wMCG\"]},\"lib/uniswap-v3-core/contracts/interfaces/IUniswapV3Factory.sol\":{\"keccak256\":\"0xcc3d0c93fc9ac0febbe09f941b465b57f750bcf3b48432da0b97dc289cfdc489\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://b9379ad954680c44a0bc523b314ae4c4da735f9fe1d02aa56ea5bdba6f1136f2\",\"dweb:/ipfs/QmZXdgQNXKAckrXWz9R3mc47F1fvDvr28a2ewJrwNAw71B\"]},\"lib/uniswap-v3-core/contracts/interfaces/pool/IUniswapV3PoolState.sol\":{\"keccak256\":\"0x852dc1f5df7dcf7f11e7bb3eed79f0cea72ad4b25f6a9d2c35aafb48925fd49f\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://ed63907c38ff36b0e22bc9ffc53e791ea74f0d4f0e7c257fdfb5aaf8825b1f0f\",\"dweb:/ipfs/QmSQrckghEjs6HVsA5GVgpNpZWvTXMY5eQLF7cN6deFeEg\"]},\"src/PositionEscrow.sol\":{\"keccak256\":\"0x19c3a4401774d24651dd01a0a69fe81e083b8be4a6951c5ae5a6d4a5e1bd07a4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6e95bafa3a1f2b2b5253ec492d116d797b799280c23cfc227e05b1ab5334fd71\",\"dweb:/ipfs/QmchW248wv4ztyLacbzGWynnLvJeVEJVMbJBkESBZfjMyV\"]},\"src/PriceOracle.sol\":{\"keccak256\":\"0x851a0eaf6941705c0f4b5e72a7a885321cb5cca3096f4fa071a43808f4babeca\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://780de24bb9e21045cad0eecd783d18f32e380de4fa2b7e3d382150c3592f04c6\",\"dweb:/ipfs/Qmf2AfyNGwjw1Km6ApFkfr7MQnTZuZfXEjJUVrBdFoVh5L\"]},\"src/interfaces/ILido.sol\":{\"keccak256\":\"0xf33bd94f14a562f32ceaf9211a3b7084e4e225cc548b91db3e611637dec29a8d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e71f220455796f3f19855e3d89ae8a0674894bf19bc49adc430f7afaec36a22a\",\"dweb:/ipfs/QmcQ56JKRECKQcPyXXQwUxrAyrHnA88swjyPaK7AULHW9v\"]},\"src/interfaces/IPoolSharesConversionRate.sol\":{\"keccak256\":\"0xe7ca5b72aee5158674c7cc2cb6b3f96c3a1a1ea8805a82f64262a972fa9cf141\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f0122d44d1ba0563cfe6d4aff7766a66ac6ea36799a37fdee6a908e755b08b65\",\"dweb:/ipfs/QmZiSUCLMZdeGtKzEVyofDE4vn9rpzZm3aiJ7uS6xwBtcT\"]},\"src/interfaces/IPositionEscrow.sol\":{\"keccak256\":\"0x088557d177e465991ce13d2d160854ce4a1e2ef9b2df3606dc3d3ea0541b0445\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f5279bc254a49acd72aca8241e791a2ef6c1a29b1da3586daf62e22cb43c274e\",\"dweb:/ipfs/QmRMxPRruFPRpNVa63MRpmDxKhmrmzk8YiitDMBb7i9bxQ\"]},\"src/interfaces/IPriceOracle.sol\":{\"keccak256\":\"0xfa710e732b93f38d5e182182b5e3ce0514d906c9a6bfb24c0815aa61b5f01257\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://da2eca1f4806c3d123052ff572777a7950e2a64d22701a7e0b01c4095c1c8e09\",\"dweb:/ipfs/QmQVipa5QXakdSqxcwTSAUvvmSruM5ArBJM3SkGJfb7Tad\"]},\"src/interfaces/IStabilizerNFT.sol\":{\"keccak256\":\"0x3bc16955bdb7ef59baf3e29e5adb66108a21625e5aa9399bb053a07a783637b3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://db51611c22f1dfbc7c708c151efe736eb6530db5872609d9af0dc5042d31e2f4\",\"dweb:/ipfs/QmZ5sBnfgp19xfizkTK32jyqsQgR2YL557LiSUxUhF4RM6\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.29+commit.ab55807c"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"AccessControlBadConfirmation"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"neededRole","type":"bytes32"}],"type":"error","name":"AccessControlUnauthorizedAccount"},{"inputs":[],"type":"error","name":"ArithmeticError"},{"inputs":[],"type":"error","name":"BelowMinimumRatio"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"type":"error","name":"ERC20InsufficientAllowance"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"type":"error","name":"ERC20InsufficientBalance"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"type":"error","name":"ERC20InvalidApprover"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"type":"error","name":"ERC20InvalidReceiver"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"type":"error","name":"ERC20InvalidSender"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"type":"error","name":"ERC20InvalidSpender"},{"inputs":[],"type":"error","name":"InvalidInitialization"},{"inputs":[],"type":"error","name":"NotInitializing"},{"inputs":[],"type":"error","name":"NotNFTOwner"},{"inputs":[],"type":"error","name":"TransferFailed"},{"inputs":[],"type":"error","name":"ZeroAddress"},{"inputs":[],"type":"error","name":"ZeroAmount"},{"inputs":[{"internalType":"int256","name":"sharesDelta","type":"int256","indexed":false},{"internalType":"uint256","name":"newTotalShares","type":"uint256","indexed":false}],"type":"event","name":"AllocationModified","anonymous":false},{"inputs":[{"internalType":"uint256","name":"totalStEthAmount","type":"uint256","indexed":false}],"type":"event","name":"CollateralAdded","anonymous":false},{"inputs":[{"internalType":"address","name":"recipient","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"CollateralRemoved","anonymous":false},{"inputs":[{"internalType":"address","name":"recipient","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"ExcessCollateralRemoved","anonymous":false},{"inputs":[{"internalType":"uint64","name":"version","type":"uint64","indexed":false}],"type":"event","name":"Initialized","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"previousAdminRole","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"newAdminRole","type":"bytes32","indexed":true}],"type":"event","name":"RoleAdminChanged","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"sender","type":"address","indexed":true}],"type":"event","name":"RoleGranted","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"sender","type":"address","indexed":true}],"type":"event","name":"RoleRevoked","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MINIMUM_COLLATERAL_RATIO","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"STABILIZER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"payable","type":"function","name":"addCollateralEth"},{"inputs":[{"internalType":"uint256","name":"stabilizerStEthAmount","type":"uint256"}],"stateMutability":"payable","type":"function","name":"addCollateralFromStabilizer"},{"inputs":[{"internalType":"uint256","name":"stETHAmount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"addCollateralStETH"},{"inputs":[],"stateMutability":"view","type":"function","name":"backedPoolShares","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"struct IPriceOracle.PriceResponse","name":"priceResponse","type":"tuple","components":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint8","name":"decimals","type":"uint8"},{"internalType":"uint256","name":"timestamp","type":"uint256"}]}],"stateMutability":"view","type":"function","name":"getCollateralizationRatio","outputs":[{"internalType":"uint256","name":"ratio","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getCurrentStEthBalance","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getTrackedStEthWithYield","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"grantRole"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"_stabilizerNFT","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"address","name":"_stETHAddress","type":"address"},{"internalType":"address","name":"_lidoAddress","type":"address"},{"internalType":"address","name":"_rateContractAddress","type":"address"},{"internalType":"address","name":"_oracleAddress","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[],"stateMutability":"view","type":"function","name":"lido","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lockedStEth","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"int256","name":"sharesDelta","type":"int256"}],"stateMutability":"nonpayable","type":"function","name":"modifyAllocation"},{"inputs":[],"stateMutability":"view","type":"function","name":"oracle","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"rateContract","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"amountToRemove","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"removeCollateral"},{"inputs":[{"internalType":"address payable","name":"recipient","type":"address"},{"internalType":"uint256","name":"amountToRemove","type":"uint256"},{"internalType":"struct IPriceOracle.PriceAttestationQuery","name":"priceQuery","type":"tuple","components":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint8","name":"decimals","type":"uint8"},{"internalType":"uint256","name":"dataTimestamp","type":"uint256"},{"internalType":"bytes32","name":"assetPair","type":"bytes32"},{"internalType":"bytes","name":"signature","type":"bytes"}]}],"stateMutability":"nonpayable","type":"function","name":"removeExcessCollateral"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"callerConfirmation","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"renounceRole"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"revokeRole"},{"inputs":[],"stateMutability":"view","type":"function","name":"stETH","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"stabilizerNFTContract","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"stateMutability":"view","type":"function","name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"struct IPriceOracle.PriceResponse","name":"priceResponse","type":"tuple","components":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint8","name":"decimals","type":"uint8"},{"internalType":"uint256","name":"timestamp","type":"uint256"}]}],"stateMutability":"nonpayable","type":"function","name":"syncStEthAndGetCollateralizationRatio","outputs":[{"internalType":"uint256","name":"ratio","type":"uint256"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"syncStEthBalance"},{"inputs":[],"stateMutability":"view","type":"function","name":"tokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"yieldFactorAtLastUpdate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"payable","type":"receive"}],"devdoc":{"kind":"dev","methods":{"addCollateralEth()":{"details":"Converts msg.value ETH to stETH. Callable by anyone."},"addCollateralFromStabilizer(uint256)":{"details":"Callable only by STABILIZER_ROLE (StabilizerNFT). Converts msg.value ETH to stETH.      Assumes stabilizerStEthAmount has been transferred *to* this contract *before* this call.","params":{"stabilizerStEthAmount":"The amount of stETH already transferred from the StabilizerEscrow."}},"addCollateralStETH(uint256)":{"details":"Requires caller to have approved this contract. Callable by anyone.","params":{"stETHAmount":"The amount of stETH to add."}},"constructor":{"custom:oz-upgrades-unsafe-allow":"constructor"},"getCollateralizationRatio((uint256,uint8,uint256))":{"params":{"priceResponse":"The current valid price response for stETH/USD."},"returns":{"ratio":"The ratio (scaled by 100, e.g., 110 means 110%). Returns type(uint256).max if liability is zero."}},"getRoleAdmin(bytes32)":{"details":"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role's admin, use {_setRoleAdmin}."},"getTrackedStEthWithYield()":{"returns":{"_0":"The projected stETH balance."}},"grantRole(bytes32,address)":{"details":"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleGranted} event."},"hasRole(bytes32,address)":{"details":"Returns `true` if `account` has been granted `role`."},"initialize(address,uint256,address,address,address,address)":{"params":{"_lidoAddress":"The address of the Lido staking pool.","_oracleAddress":"The address of the PriceOracle contract.","_rateContractAddress":"The address of the PoolSharesConversionRate contract.","_stETHAddress":"The address of the stETH token.","_stabilizerNFT":"The address of the controlling StabilizerNFT contract.","_tokenId":"The ID of the StabilizerNFT this escrow is associated with."}},"modifyAllocation(int256)":{"details":"Callable only by STABILIZER_ROLE (StabilizerNFT).","params":{"sharesDelta":"The change in pool shares (can be positive or negative)."}},"removeCollateral(uint256,address)":{"details":"Callable only by STABILIZER_ROLE (StabilizerNFT).","params":{"amountToRemove":"The total amount of stETH to remove.","recipient":"The address to send the stETH to (typically StabilizerNFT)."}},"removeExcessCollateral(address,uint256,(uint256,uint8,uint256,bytes32,bytes))":{"details":"Callable only by EXCESSCOLLATERALMANAGER_ROLE (Stabilizer Owner).","params":{"amountToRemove":"The amount of stETH the caller wishes to remove.","priceQuery":"The signed price attestation query.","recipient":"The address (StabilizerEscrow) to send the stETH to."}},"renounceRole(bytes32,address)":{"details":"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function's purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `callerConfirmation`. May emit a {RoleRevoked} event."},"revokeRole(bytes32,address)":{"details":"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleRevoked} event."},"supportsInterface(bytes4)":{"details":"See {IERC165-supportsInterface}."},"syncStEthAndGetCollateralizationRatio((uint256,uint8,uint256))":{"details":"This is a non-view function intended for use in transactions like liquidations.","params":{"priceResponse":"The current valid price response for stETH/USD."},"returns":{"ratio":"The ratio (scaled by 10000, e.g., 11000 means 110.00%)."}},"syncStEthBalance()":{"details":"This function accounts for stETH yield or direct transfers by updating the internal ledger      and reporting the change to the StabilizerNFT contract to keep the system-wide      collateral snapshot accurate. It can be called by anyone."}},"version":1},"userdoc":{"kind":"user","methods":{"addCollateralEth()":{"notice":"Adds collateral by receiving native ETH, which is staked via Lido."},"addCollateralFromStabilizer(uint256)":{"notice":"Receives user's ETH, stakes it via Lido, and acknowledges stabilizer's stETH contribution."},"addCollateralStETH(uint256)":{"notice":"Adds collateral by receiving stETH directly from the caller."},"getCollateralizationRatio((uint256,uint8,uint256))":{"notice":"Calculates the current collateralization ratio."},"getCurrentStEthBalance()":{"notice":"Returns the current stETH balance held by this escrow."},"getTrackedStEthWithYield()":{"notice":"Calculates the current tracked stETH balance including yield."},"initialize(address,uint256,address,address,address,address)":{"notice":"Initializes the PositionEscrow contract state."},"modifyAllocation(int256)":{"notice":"Modifies the backed pool shares liability."},"removeCollateral(uint256,address)":{"notice":"Removes stETH collateral."},"removeExcessCollateral(address,uint256,(uint256,uint8,uint256,bytes32,bytes))":{"notice":"Removes a specified amount of stETH collateral if the ratio remains >= MINIMUM_COLLATERAL_RATIO."},"syncStEthAndGetCollateralizationRatio((uint256,uint8,uint256))":{"notice":"Synchronizes the stETH balance and then gets the collateralization ratio."},"syncStEthBalance()":{"notice":"Synchronizes the internal `lockedStEth` balance with the actual stETH balance of the contract."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","chainlink/=lib/chainlink/","createx/=lib/createx/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/","solady/=lib/createx/lib/solady/src/","uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/","uniswap-v3-core/=lib/uniswap-v3-core/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/PositionEscrow.sol":"PositionEscrow"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/chainlink/contracts/src/v0.8/shared/interfaces/AggregatorV3Interface.sol":{"keccak256":"0x257a8d28fa83d3d942547c8e129ef465e4b5f3f31171e7be4739a4c98da6b4f0","urls":["bzz-raw://6d39e11b1dc7b9b8ccdabbc9be442ab7cda4a81c748f57e316dcb1bcb4a28bf9","dweb:/ipfs/QmaG6vz6W6iEUBsbHSBob5mdcitYxWjoygxREHpsJHfWrS"],"license":"MIT"},"lib/forge-std/src/console.sol":{"keccak256":"0x4bbf47eb762cef93729d6ef15e78789957147039b113e5d4df48e3d3fd16d0f5","urls":["bzz-raw://af9e3a7c3d82fb5b10b57ca4d1a82f2acbef80c077f6f6ef0cc0187c7bfd9f57","dweb:/ipfs/QmR9VzmnBDJpgiDP6CHT6truehukF9HpYvuP6kRiJbDwPP"],"license":"MIT"},"lib/openzeppelin-contracts-upgradeable/contracts/access/AccessControlUpgradeable.sol":{"keccak256":"0x949f1b87232ce60ae1d7651dfc4272f258a388448e08b4d624b1acbe05d8b39b","urls":["bzz-raw://469b7e1cab4c319957fddef8ad610ce347e2494d15389f3d3f689c4be66c1f7d","dweb:/ipfs/QmdC9UdUZAYzjyZ2ULJgJ5QxhDHRtVJ8MJhHKjiotNfCeY"],"license":"MIT"},"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol":{"keccak256":"0xe62b887bd4460c77222e1c806362b72462ddb13e224ba3a759ad1a23fe6ea22a","urls":["bzz-raw://b34213dbcea29166c5b77c8aa48908db812bf55ff501f89bc0e8e6e4dd7c8e2b","dweb:/ipfs/QmZ7HaZLMseqKhUL5cUM2dfWp6Xy8HGME6kA3iDM4E5QV3"],"license":"MIT"},"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/UUPSUpgradeable.sol":{"keccak256":"0xe1448f559716952220b5c696a5cc34d1f11f958bfbfcd05988543f6fd8bfff96","urls":["bzz-raw://ebd19cec65d3998dad25dc9beecd33055b1900f26c3f61377c78926ca0637c9a","dweb:/ipfs/QmUda1jFjWf2ptQrahTgU6953SZY7ZWksRaTo2dKGX4BMK"],"license":"MIT"},"lib/openzeppelin-contracts-upgradeable/contracts/utils/ContextUpgradeable.sol":{"keccak256":"0xdbef5f0c787055227243a7318ef74c8a5a1108ca3a07f2b3a00ef67769e1e397","urls":["bzz-raw://08e39f23d5b4692f9a40803e53a8156b72b4c1f9902a88cd65ba964db103dab9","dweb:/ipfs/QmPKn6EYDgpga7KtpkA8wV2yJCYGMtc9K4LkJfhKX2RVSV"],"license":"MIT"},"lib/openzeppelin-contracts-upgradeable/contracts/utils/PausableUpgradeable.sol":{"keccak256":"0x5d8e82c386fc37afeeb6d38dd840f85a341e1199c04b0abfc242d1a4b794de58","urls":["bzz-raw://23cb03c0f01521e0721db6d87412b732b016987a3cac4cd5170023fa02b8abd7","dweb:/ipfs/QmPhxG4aixGdJcVmUVBUrnxcvNTE4bp7dEhbuQSmbrEzri"],"license":"MIT"},"lib/openzeppelin-contracts-upgradeable/contracts/utils/introspection/ERC165Upgradeable.sol":{"keccak256":"0xc8ed8d2056934b7675b695dec032f2920c2f5c6cf33a17ca85650940675323ab","urls":["bzz-raw://3c8ccc75d1cd792d192aa09e54dd49ea35fe85baa9fcd17486f29227d9f29b89","dweb:/ipfs/QmbboSbFUEiM9tdEgBwuTRb7bykFoJXZ7dsSr1PSREJXMr"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol":{"keccak256":"0xc1c2a7f1563b77050dc6d507db9f4ada5d042c1f6a9ddbffdc49c77cdc0a1606","urls":["bzz-raw://fd54abb96a6156d9a761f6fdad1d3004bc48d2d4fce47f40a3f91a7ae83fc3a1","dweb:/ipfs/QmUrFSGkTDJ7WaZ6qPVVe3Gn5uN2viPb7x7QQ35UX4DofX"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC1967.sol":{"keccak256":"0xb25a4f11fa80c702bf5cd85adec90e6f6f507f32f4a8e6f5dbc31e8c10029486","urls":["bzz-raw://6917f8a323e7811f041aecd4d9fd6e92455a6fba38a797ac6f6e208c7912b79d","dweb:/ipfs/QmShuYv55wYHGi4EFkDB8QfF7ZCHoKk2efyz3AWY1ExSq7"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/draft-IERC1822.sol":{"keccak256":"0xc42facb5094f2f35f066a7155bda23545e39a3156faef3ddc00185544443ba7d","urls":["bzz-raw://d3b36282ab029b46bd082619a308a2ea11c309967b9425b7b7a6eb0b0c1c3196","dweb:/ipfs/QmP2YVfDB2FoREax3vJu7QhDnyYRMw52WPrCD4vdT2kuDA"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/draft-IERC6093.sol":{"keccak256":"0x880da465c203cec76b10d72dbd87c80f387df4102274f23eea1f9c9b0918792b","urls":["bzz-raw://399594cd8bb0143bc9e55e0f1d071d0d8c850a394fb7a319d50edd55d9ed822b","dweb:/ipfs/QmbPZzgtT6LEm9CMqWfagQFwETbV1ztpECBB1DtQHrKiRz"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/proxy/ERC1967/ERC1967Utils.sol":{"keccak256":"0x8decfa54cec979c824b044b8128cd91d713f72c71fd7dfa54974624d8c949898","urls":["bzz-raw://271f914261a19d87117a777e0924ada545c16191ef9b00cc40b0134fc14ebc70","dweb:/ipfs/QmdvVNWHGHQrGGPonZJs5NuzTevTjZRM2zayKrDJf7WBA2"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/proxy/beacon/IBeacon.sol":{"keccak256":"0xc59a78b07b44b2cf2e8ab4175fca91e8eca1eee2df7357b8d2a8833e5ea1f64c","urls":["bzz-raw://5aa4f07e65444784c29cd7bfcc2341b34381e4e5b5da9f0c5bd00d7f430e66fa","dweb:/ipfs/QmWRMh4Q9DpaU9GvsiXmDdoNYMyyece9if7hnfLz7uqzWM"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261","urls":["bzz-raw://6b7f97c5960a50fd1822cb298551ffc908e37b7893a68d6d08bce18a11cb0f11","dweb:/ipfs/QmQQvxBytoY1eBt3pRQDmvH2hZ2yjhs12YqVfzGm7KSURq"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Address.sol":{"keccak256":"0xaaa1d17c1129b127a4a401db2fbd72960e2671474be3d08cae71ccdc42f7624c","urls":["bzz-raw://cb2f27cd3952aa667e198fba0d9b7bcec52fbb12c16f013c25fe6fb52b29cc0e","dweb:/ipfs/QmeuohBFoeyDPZA9JNCTEDz3VBfBD4EABWuWXVhHAuEpKR"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Errors.sol":{"keccak256":"0x6afa713bfd42cf0f7656efa91201007ac465e42049d7de1d50753a373648c123","urls":["bzz-raw://ba1d02f4847670a1b83dec9f7d37f0b0418d6043447b69f3a29a5f9efc547fcf","dweb:/ipfs/QmQ7iH2keLNUKgq2xSWcRmuBE5eZ3F5whYAkAGzCNNoEWB"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol":{"keccak256":"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97","urls":["bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b","dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol":{"keccak256":"0x69f54c02b7d81d505910ec198c11ed4c6a728418a868b906b4a0cf29946fda84","urls":["bzz-raw://8e25e4bdb7ae1f21d23bfee996e22736fc0ab44cfabedac82a757b1edc5623b9","dweb:/ipfs/QmQdWQvB6JCP9ZMbzi8EvQ1PTETqkcTWrbcVurS7DKpa5n"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"lib/uniswap-v2-periphery/contracts/interfaces/IUniswapV2Router01.sol":{"keccak256":"0x8a3c5c449d4b7cd76513ed6995f4b86e4a86f222c770f8442f5fc128ce29b4d2","urls":["bzz-raw://1df63ca373dafae3bd0ee7fe70f890a1dc7c45ed869c01de68413e0e97ff9deb","dweb:/ipfs/QmefJgEYGUL8KX7kQKYTrDweF8GB7yjy3nw5Bmqzryg7PG"],"license":null},"lib/uniswap-v2-periphery/contracts/interfaces/IUniswapV2Router02.sol":{"keccak256":"0x744e30c133bd0f7ca9e7163433cf6d72f45c6bb1508c2c9c02f1a6db796ae59d","urls":["bzz-raw://9bf2f4454ad63d4cff03a0630e787d9e8a9deed80aec89682cd8ad6379d9ef8c","dweb:/ipfs/Qme51hQNR2wpax7ooUadhtqLtXm8ffeVVYyubLkTT4wMCG"],"license":null},"lib/uniswap-v3-core/contracts/interfaces/IUniswapV3Factory.sol":{"keccak256":"0xcc3d0c93fc9ac0febbe09f941b465b57f750bcf3b48432da0b97dc289cfdc489","urls":["bzz-raw://b9379ad954680c44a0bc523b314ae4c4da735f9fe1d02aa56ea5bdba6f1136f2","dweb:/ipfs/QmZXdgQNXKAckrXWz9R3mc47F1fvDvr28a2ewJrwNAw71B"],"license":"GPL-2.0-or-later"},"lib/uniswap-v3-core/contracts/interfaces/pool/IUniswapV3PoolState.sol":{"keccak256":"0x852dc1f5df7dcf7f11e7bb3eed79f0cea72ad4b25f6a9d2c35aafb48925fd49f","urls":["bzz-raw://ed63907c38ff36b0e22bc9ffc53e791ea74f0d4f0e7c257fdfb5aaf8825b1f0f","dweb:/ipfs/QmSQrckghEjs6HVsA5GVgpNpZWvTXMY5eQLF7cN6deFeEg"],"license":"GPL-2.0-or-later"},"src/PositionEscrow.sol":{"keccak256":"0x19c3a4401774d24651dd01a0a69fe81e083b8be4a6951c5ae5a6d4a5e1bd07a4","urls":["bzz-raw://6e95bafa3a1f2b2b5253ec492d116d797b799280c23cfc227e05b1ab5334fd71","dweb:/ipfs/QmchW248wv4ztyLacbzGWynnLvJeVEJVMbJBkESBZfjMyV"],"license":"MIT"},"src/PriceOracle.sol":{"keccak256":"0x851a0eaf6941705c0f4b5e72a7a885321cb5cca3096f4fa071a43808f4babeca","urls":["bzz-raw://780de24bb9e21045cad0eecd783d18f32e380de4fa2b7e3d382150c3592f04c6","dweb:/ipfs/Qmf2AfyNGwjw1Km6ApFkfr7MQnTZuZfXEjJUVrBdFoVh5L"],"license":"GPL-3.0"},"src/interfaces/ILido.sol":{"keccak256":"0xf33bd94f14a562f32ceaf9211a3b7084e4e225cc548b91db3e611637dec29a8d","urls":["bzz-raw://e71f220455796f3f19855e3d89ae8a0674894bf19bc49adc430f7afaec36a22a","dweb:/ipfs/QmcQ56JKRECKQcPyXXQwUxrAyrHnA88swjyPaK7AULHW9v"],"license":"MIT"},"src/interfaces/IPoolSharesConversionRate.sol":{"keccak256":"0xe7ca5b72aee5158674c7cc2cb6b3f96c3a1a1ea8805a82f64262a972fa9cf141","urls":["bzz-raw://f0122d44d1ba0563cfe6d4aff7766a66ac6ea36799a37fdee6a908e755b08b65","dweb:/ipfs/QmZiSUCLMZdeGtKzEVyofDE4vn9rpzZm3aiJ7uS6xwBtcT"],"license":"MIT"},"src/interfaces/IPositionEscrow.sol":{"keccak256":"0x088557d177e465991ce13d2d160854ce4a1e2ef9b2df3606dc3d3ea0541b0445","urls":["bzz-raw://f5279bc254a49acd72aca8241e791a2ef6c1a29b1da3586daf62e22cb43c274e","dweb:/ipfs/QmRMxPRruFPRpNVa63MRpmDxKhmrmzk8YiitDMBb7i9bxQ"],"license":"MIT"},"src/interfaces/IPriceOracle.sol":{"keccak256":"0xfa710e732b93f38d5e182182b5e3ce0514d906c9a6bfb24c0815aa61b5f01257","urls":["bzz-raw://da2eca1f4806c3d123052ff572777a7950e2a64d22701a7e0b01c4095c1c8e09","dweb:/ipfs/QmQVipa5QXakdSqxcwTSAUvvmSruM5ArBJM3SkGJfb7Tad"],"license":"MIT"},"src/interfaces/IStabilizerNFT.sol":{"keccak256":"0x3bc16955bdb7ef59baf3e29e5adb66108a21625e5aa9399bb053a07a783637b3","urls":["bzz-raw://db51611c22f1dfbc7c708c151efe736eb6530db5872609d9af0dc5042d31e2f4","dweb:/ipfs/QmZ5sBnfgp19xfizkTK32jyqsQgR2YL557LiSUxUhF4RM6"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[{"astId":52741,"contract":"src/PositionEscrow.sol:PositionEscrow","label":"stabilizerNFTContract","offset":0,"slot":"0","type":"t_address"},{"astId":52744,"contract":"src/PositionEscrow.sol:PositionEscrow","label":"stETH","offset":0,"slot":"1","type":"t_address"},{"astId":52747,"contract":"src/PositionEscrow.sol:PositionEscrow","label":"lido","offset":0,"slot":"2","type":"t_address"},{"astId":52750,"contract":"src/PositionEscrow.sol:PositionEscrow","label":"rateContract","offset":0,"slot":"3","type":"t_address"},{"astId":52753,"contract":"src/PositionEscrow.sol:PositionEscrow","label":"oracle","offset":0,"slot":"4","type":"t_address"},{"astId":52756,"contract":"src/PositionEscrow.sol:PositionEscrow","label":"tokenId","offset":0,"slot":"5","type":"t_uint256"},{"astId":52759,"contract":"src/PositionEscrow.sol:PositionEscrow","label":"backedPoolShares","offset":0,"slot":"6","type":"t_uint256"},{"astId":52761,"contract":"src/PositionEscrow.sol:PositionEscrow","label":"lockedStEth","offset":0,"slot":"7","type":"t_uint256"},{"astId":52763,"contract":"src/PositionEscrow.sol:PositionEscrow","label":"yieldFactorAtLastUpdate","offset":0,"slot":"8","type":"t_uint256"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"ast":{"absolutePath":"src/PositionEscrow.sol","id":53742,"exportedSymbols":{"AccessControlUpgradeable":[39455],"AggregatorV3Interface":[45],"ContextUpgradeable":[41515],"ECDSA":[46782],"ERC165Upgradeable":[41715],"ERC1967Utils":[43166],"FutureTimestampProvided":[53766],"IAccessControl":[42094],"IERC165":[47119],"IERC1822Proxiable":[42298],"IERC20":[43805],"IERC20Errors":[42340],"IERC721":[44138],"ILido":[60077],"IPoolSharesConversionRate":[60225],"IPositionEscrow":[60355],"IPriceOracle":[60385],"IStabilizerNFT":[60522],"IUniswapV2Router01":[50957],"IUniswapV2Router02":[51045],"IUniswapV3Factory":[51128],"IUniswapV3PoolState":[51236],"Initializable":[39723],"InvalidAssetPair":[53800],"InvalidDecimals":[53784],"InvalidSignature":[53776],"MaxDeviationTooHigh":[53810],"OraclePaused":[53778],"PausableUpgradeable":[41675],"PositionEscrow":[53741],"PriceDataTooOld":[53760],"PriceDeviationTooHigh":[53774],"PriceOracle":[54552],"PriceSourceUnavailable":[53788],"StaleAttestation":[53794],"StalenessPeriodTooHigh":[53816],"UUPSUpgradeable":[39905],"ZeroAddressProvided":[53804],"console":[25850]},"nodeType":"SourceUnit","src":"32:19358:75","nodes":[{"id":52711,"nodeType":"PragmaDirective","src":"32:23:75","nodes":[],"literals":["solidity","0.8",".29"]},{"id":52712,"nodeType":"ImportDirective","src":"57:72:75","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":53742,"sourceUnit":43806,"symbolAliases":[],"unitAlias":""},{"id":52713,"nodeType":"ImportDirective","src":"130:74:75","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","nameLocation":"-1:-1:-1","scope":53742,"sourceUnit":44139,"symbolAliases":[],"unitAlias":""},{"id":52715,"nodeType":"ImportDirective","src":"205:112:75","nodes":[],"absolutePath":"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol","file":"../lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol","nameLocation":"-1:-1:-1","scope":53742,"sourceUnit":39724,"symbolAliases":[{"foreign":{"id":52714,"name":"Initializable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39723,"src":"213:13:75","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":52717,"nodeType":"ImportDirective","src":"346:129:75","nodes":[],"absolutePath":"lib/openzeppelin-contracts-upgradeable/contracts/access/AccessControlUpgradeable.sol","file":"../lib/openzeppelin-contracts-upgradeable/contracts/access/AccessControlUpgradeable.sol","nameLocation":"-1:-1:-1","scope":53742,"sourceUnit":39456,"symbolAliases":[{"foreign":{"id":52716,"name":"AccessControlUpgradeable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39455,"src":"354:24:75","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":52718,"nodeType":"ImportDirective","src":"515:32:75","nodes":[],"absolutePath":"src/interfaces/ILido.sol","file":"./interfaces/ILido.sol","nameLocation":"-1:-1:-1","scope":53742,"sourceUnit":60078,"symbolAliases":[],"unitAlias":""},{"id":52719,"nodeType":"ImportDirective","src":"548:42:75","nodes":[],"absolutePath":"src/interfaces/IPositionEscrow.sol","file":"./interfaces/IPositionEscrow.sol","nameLocation":"-1:-1:-1","scope":53742,"sourceUnit":60356,"symbolAliases":[],"unitAlias":""},{"id":52720,"nodeType":"ImportDirective","src":"591:52:75","nodes":[],"absolutePath":"src/interfaces/IPoolSharesConversionRate.sol","file":"./interfaces/IPoolSharesConversionRate.sol","nameLocation":"-1:-1:-1","scope":53742,"sourceUnit":60226,"symbolAliases":[],"unitAlias":""},{"id":52721,"nodeType":"ImportDirective","src":"644:39:75","nodes":[],"absolutePath":"src/interfaces/IPriceOracle.sol","file":"./interfaces/IPriceOracle.sol","nameLocation":"-1:-1:-1","scope":53742,"sourceUnit":60386,"symbolAliases":[],"unitAlias":""},{"id":52722,"nodeType":"ImportDirective","src":"684:41:75","nodes":[],"absolutePath":"src/interfaces/IStabilizerNFT.sol","file":"./interfaces/IStabilizerNFT.sol","nameLocation":"-1:-1:-1","scope":53742,"sourceUnit":60523,"symbolAliases":[],"unitAlias":""},{"id":52723,"nodeType":"ImportDirective","src":"726:27:75","nodes":[],"absolutePath":"src/PriceOracle.sol","file":"./PriceOracle.sol","nameLocation":"-1:-1:-1","scope":53742,"sourceUnit":54553,"symbolAliases":[],"unitAlias":""},{"id":53741,"nodeType":"ContractDefinition","src":"1025:18364:75","nodes":[{"id":52735,"nodeType":"VariableDeclaration","src":"1289:70:75","nodes":[],"constant":true,"functionSelector":"4699643b","mutability":"constant","name":"STABILIZER_ROLE","nameLocation":"1313:15:75","scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":52731,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1289:7:75","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"53544142494c495a45525f524f4c45","id":52733,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1341:17:75","typeDescriptions":{"typeIdentifier":"t_stringliteral_079847024f21c1f5f8d88daf6764f03ddd70ce4acc6aa7104a85233fe5a76995","typeString":"literal_string \"STABILIZER_ROLE\""},"value":"STABILIZER_ROLE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_079847024f21c1f5f8d88daf6764f03ddd70ce4acc6aa7104a85233fe5a76995","typeString":"literal_string \"STABILIZER_ROLE\""}],"id":52732,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"1331:9:75","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":52734,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1331:28:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":52738,"nodeType":"VariableDeclaration","src":"1391:56:75","nodes":[],"constant":true,"functionSelector":"82882f8a","mutability":"constant","name":"MINIMUM_COLLATERAL_RATIO","nameLocation":"1415:24:75","scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52736,"name":"uint256","nodeType":"ElementaryTypeName","src":"1391:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3132353030","id":52737,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1442:5:75","typeDescriptions":{"typeIdentifier":"t_rational_12500_by_1","typeString":"int_const 12500"},"value":"12500"},"visibility":"public"},{"id":52741,"nodeType":"VariableDeclaration","src":"1496:45:75","nodes":[],"baseFunctions":[60276],"constant":false,"functionSelector":"bec070d6","mutability":"mutable","name":"stabilizerNFTContract","nameLocation":"1520:21:75","overrides":{"id":52740,"nodeType":"OverrideSpecifier","overrides":[],"src":"1511:8:75"},"scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52739,"name":"address","nodeType":"ElementaryTypeName","src":"1496:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":52744,"nodeType":"VariableDeclaration","src":"1601:29:75","nodes":[],"baseFunctions":[60281],"constant":false,"functionSelector":"c1fe3e48","mutability":"mutable","name":"stETH","nameLocation":"1625:5:75","overrides":{"id":52743,"nodeType":"OverrideSpecifier","overrides":[],"src":"1616:8:75"},"scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52742,"name":"address","nodeType":"ElementaryTypeName","src":"1601:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":52747,"nodeType":"VariableDeclaration","src":"1676:28:75","nodes":[],"baseFunctions":[60286],"constant":false,"functionSelector":"23509a2d","mutability":"mutable","name":"lido","nameLocation":"1700:4:75","overrides":{"id":52746,"nodeType":"OverrideSpecifier","overrides":[],"src":"1691:8:75"},"scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52745,"name":"address","nodeType":"ElementaryTypeName","src":"1676:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":52750,"nodeType":"VariableDeclaration","src":"1826:36:75","nodes":[],"baseFunctions":[60291],"constant":false,"functionSelector":"eee24219","mutability":"mutable","name":"rateContract","nameLocation":"1850:12:75","overrides":{"id":52749,"nodeType":"OverrideSpecifier","overrides":[],"src":"1841:8:75"},"scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52748,"name":"address","nodeType":"ElementaryTypeName","src":"1826:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":52753,"nodeType":"VariableDeclaration","src":"1914:30:75","nodes":[],"baseFunctions":[60296],"constant":false,"functionSelector":"7dc0d1d0","mutability":"mutable","name":"oracle","nameLocation":"1938:6:75","overrides":{"id":52752,"nodeType":"OverrideSpecifier","overrides":[],"src":"1929:8:75"},"scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52751,"name":"address","nodeType":"ElementaryTypeName","src":"1914:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":52756,"nodeType":"VariableDeclaration","src":"1989:31:75","nodes":[],"baseFunctions":[60306],"constant":false,"functionSelector":"17d70f7c","mutability":"mutable","name":"tokenId","nameLocation":"2013:7:75","overrides":{"id":52755,"nodeType":"OverrideSpecifier","overrides":[],"src":"2004:8:75"},"scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52754,"name":"uint256","nodeType":"ElementaryTypeName","src":"1989:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":52759,"nodeType":"VariableDeclaration","src":"2095:40:75","nodes":[],"baseFunctions":[60301],"constant":false,"functionSelector":"d39aa95a","mutability":"mutable","name":"backedPoolShares","nameLocation":"2119:16:75","overrides":{"id":52758,"nodeType":"OverrideSpecifier","overrides":[],"src":"2110:8:75"},"scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52757,"name":"uint256","nodeType":"ElementaryTypeName","src":"2095:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":52761,"nodeType":"VariableDeclaration","src":"2177:26:75","nodes":[],"constant":false,"functionSelector":"f362e626","mutability":"mutable","name":"lockedStEth","nameLocation":"2192:11:75","scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52760,"name":"uint256","nodeType":"ElementaryTypeName","src":"2177:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":52763,"nodeType":"VariableDeclaration","src":"2209:38:75","nodes":[],"constant":false,"functionSelector":"8175ad23","mutability":"mutable","name":"yieldFactorAtLastUpdate","nameLocation":"2224:23:75","scope":53741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52762,"name":"uint256","nodeType":"ElementaryTypeName","src":"2209:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":52771,"nodeType":"FunctionDefinition","src":"2308:97:75","nodes":[],"body":{"id":52770,"nodeType":"Block","src":"2322:83:75","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":52767,"name":"_disableInitializers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39677,"src":"2332:20:75","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":52768,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2332:22:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52769,"nodeType":"ExpressionStatement","src":"2332:22:75"}]},"documentation":{"id":52764,"nodeType":"StructuredDocumentation","src":"2255:48:75","text":"@custom:oz-upgrades-unsafe-allow constructor"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":52765,"nodeType":"ParameterList","parameters":[],"src":"2319:2:75"},"returnParameters":{"id":52766,"nodeType":"ParameterList","parameters":[],"src":"2322:0:75"},"scope":53741,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":52878,"nodeType":"FunctionDefinition","src":"2967:1189:75","nodes":[],"body":{"id":52877,"nodeType":"Block","src":"3235:921:75","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":52789,"name":"__AccessControl_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39156,"src":"3279:20:75","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":52790,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3279:22:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52791,"nodeType":"ExpressionStatement","src":"3279:22:75"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":52829,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":52822,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":52815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":52808,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":52801,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":52797,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52792,"name":"_stabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52774,"src":"3348:14:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":52795,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3374:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":52794,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3366:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":52793,"name":"address","nodeType":"ElementaryTypeName","src":"3366:7:75","typeDescriptions":{}}},"id":52796,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3366:10:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3348:28:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52800,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52798,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52776,"src":"3380:8:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52799,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3392:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3380:13:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3348:45:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":52807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52802,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52778,"src":"3397:13:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":52805,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3422:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":52804,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3414:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":52803,"name":"address","nodeType":"ElementaryTypeName","src":"3414:7:75","typeDescriptions":{}}},"id":52806,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3414:10:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3397:27:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3348:76:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":52814,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52809,"name":"_lidoAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52780,"src":"3428:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":52812,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3452:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":52811,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3444:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":52810,"name":"address","nodeType":"ElementaryTypeName","src":"3444:7:75","typeDescriptions":{}}},"id":52813,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3444:10:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3428:26:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3348:106:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":52821,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52816,"name":"_rateContractAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52782,"src":"3458:20:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":52819,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3490:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":52818,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3482:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":52817,"name":"address","nodeType":"ElementaryTypeName","src":"3482:7:75","typeDescriptions":{}}},"id":52820,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3482:10:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3458:34:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3348:144:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":52828,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52823,"name":"_oracleAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52784,"src":"3496:14:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":52826,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3522:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":52825,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3514:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":52824,"name":"address","nodeType":"ElementaryTypeName","src":"3514:7:75","typeDescriptions":{}}},"id":52827,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3514:10:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3496:28:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3348:176:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52834,"nodeType":"IfStatement","src":"3344:283:75","trueBody":{"id":52833,"nodeType":"Block","src":"3526:101:75","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52830,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60239,"src":"3547:11:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52831,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3547:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52832,"nodeType":"RevertStatement","src":"3540:20:75"}]}},{"expression":{"id":52837,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52835,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52741,"src":"3637:21:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52836,"name":"_stabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52774,"src":"3661:14:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3637:38:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":52838,"nodeType":"ExpressionStatement","src":"3637:38:75"},{"expression":{"id":52841,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52839,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52756,"src":"3685:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52840,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52776,"src":"3695:8:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3685:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52842,"nodeType":"ExpressionStatement","src":"3685:18:75"},{"expression":{"id":52845,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52843,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52744,"src":"3713:5:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52844,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52778,"src":"3721:13:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3713:21:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":52846,"nodeType":"ExpressionStatement","src":"3713:21:75"},{"expression":{"id":52849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52847,"name":"lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52747,"src":"3744:4:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52848,"name":"_lidoAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52780,"src":"3751:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3744:19:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":52850,"nodeType":"ExpressionStatement","src":"3744:19:75"},{"expression":{"id":52853,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52851,"name":"rateContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52750,"src":"3795:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52852,"name":"_rateContractAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52782,"src":"3810:20:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3795:35:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":52854,"nodeType":"ExpressionStatement","src":"3795:35:75"},{"expression":{"id":52857,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52855,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52753,"src":"3840:6:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52856,"name":"_oracleAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52784,"src":"3849:14:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3840:23:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":52858,"nodeType":"ExpressionStatement","src":"3840:23:75"},{"expression":{"id":52865,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52859,"name":"yieldFactorAtLastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52763,"src":"3873:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":52861,"name":"_rateContractAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52782,"src":"3925:20:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":52860,"name":"IPoolSharesConversionRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60225,"src":"3899:25:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPoolSharesConversionRate_$60225_$","typeString":"type(contract IPoolSharesConversionRate)"}},"id":52862,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3899:47:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPoolSharesConversionRate_$60225","typeString":"contract IPoolSharesConversionRate"}},"id":52863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3947:14:75","memberName":"getYieldFactor","nodeType":"MemberAccess","referencedDeclaration":60194,"src":"3899:62:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":52864,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3899:64:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3873:90:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52866,"nodeType":"ExpressionStatement","src":"3873:90:75"},{"expression":{"arguments":[{"id":52868,"name":"DEFAULT_ADMIN_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39121,"src":"4061:18:75","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":52869,"name":"_stabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52774,"src":"4081:14:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":52867,"name":"_grantRole","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39408,"src":"4050:10:75","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$_t_address_$returns$_t_bool_$","typeString":"function (bytes32,address) returns (bool)"}},"id":52870,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4050:46:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52871,"nodeType":"ExpressionStatement","src":"4050:46:75"},{"expression":{"arguments":[{"id":52873,"name":"STABILIZER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52735,"src":"4117:15:75","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":52874,"name":"_stabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52774,"src":"4134:14:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":52872,"name":"_grantRole","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39408,"src":"4106:10:75","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$_t_address_$returns$_t_bool_$","typeString":"function (bytes32,address) returns (bool)"}},"id":52875,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4106:43:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52876,"nodeType":"ExpressionStatement","src":"4106:43:75"}]},"documentation":{"id":52772,"nodeType":"StructuredDocumentation","src":"2438:524:75","text":" @notice Initializes the PositionEscrow contract state.\n @param _stabilizerNFT The address of the controlling StabilizerNFT contract.\n @param _tokenId The ID of the StabilizerNFT this escrow is associated with.\n @param _stETHAddress The address of the stETH token.\n @param _lidoAddress The address of the Lido staking pool.\n @param _rateContractAddress The address of the PoolSharesConversionRate contract.\n @param _oracleAddress The address of the PriceOracle contract."},"functionSelector":"a2dc2ab7","implemented":true,"kind":"function","modifiers":[{"id":52787,"kind":"modifierInvocation","modifierName":{"id":52786,"name":"initializer","nameLocations":["3223:11:75"],"nodeType":"IdentifierPath","referencedDeclaration":39563,"src":"3223:11:75"},"nodeType":"ModifierInvocation","src":"3223:11:75"}],"name":"initialize","nameLocation":"2976:10:75","parameters":{"id":52785,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52774,"mutability":"mutable","name":"_stabilizerNFT","nameLocation":"3036:14:75","nodeType":"VariableDeclaration","scope":52878,"src":"3028:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52773,"name":"address","nodeType":"ElementaryTypeName","src":"3028:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52776,"mutability":"mutable","name":"_tokenId","nameLocation":"3068:8:75","nodeType":"VariableDeclaration","scope":52878,"src":"3060:16:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52775,"name":"uint256","nodeType":"ElementaryTypeName","src":"3060:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52778,"mutability":"mutable","name":"_stETHAddress","nameLocation":"3094:13:75","nodeType":"VariableDeclaration","scope":52878,"src":"3086:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52777,"name":"address","nodeType":"ElementaryTypeName","src":"3086:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52780,"mutability":"mutable","name":"_lidoAddress","nameLocation":"3125:12:75","nodeType":"VariableDeclaration","scope":52878,"src":"3117:20:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52779,"name":"address","nodeType":"ElementaryTypeName","src":"3117:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52782,"mutability":"mutable","name":"_rateContractAddress","nameLocation":"3155:20:75","nodeType":"VariableDeclaration","scope":52878,"src":"3147:28:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52781,"name":"address","nodeType":"ElementaryTypeName","src":"3147:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52784,"mutability":"mutable","name":"_oracleAddress","nameLocation":"3193:14:75","nodeType":"VariableDeclaration","scope":52878,"src":"3185:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52783,"name":"address","nodeType":"ElementaryTypeName","src":"3185:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2986:227:75"},"returnParameters":{"id":52788,"nodeType":"ParameterList","parameters":[],"src":"3235:0:75"},"scope":53741,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":52976,"nodeType":"FunctionDefinition","src":"5405:1400:75","nodes":[],"body":{"id":52975,"nodeType":"Block","src":"5561:1244:75","nodes":[],"statements":[{"assignments":[52889],"declarations":[{"constant":false,"id":52889,"mutability":"mutable","name":"userEthAmount","nameLocation":"5579:13:75","nodeType":"VariableDeclaration","scope":52975,"src":"5571:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52888,"name":"uint256","nodeType":"ElementaryTypeName","src":"5571:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52892,"initialValue":{"expression":{"id":52890,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5595:3:75","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":52891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5599:5:75","memberName":"value","nodeType":"MemberAccess","src":"5595:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5571:33:75"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":52899,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52895,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52893,"name":"userEthAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"5618:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52894,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5635:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5618:18:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52898,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52896,"name":"stabilizerStEthAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52881,"src":"5640:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52897,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5665:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5640:26:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5618:48:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52903,"nodeType":"IfStatement","src":"5614:73:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52900,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60241,"src":"5675:10:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52901,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5675:12:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52902,"nodeType":"RevertStatement","src":"5668:19:75"}},{"assignments":[52905],"declarations":[{"constant":false,"id":52905,"mutability":"mutable","name":"userStEthReceived","nameLocation":"5728:17:75","nodeType":"VariableDeclaration","scope":52975,"src":"5720:25:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52904,"name":"uint256","nodeType":"ElementaryTypeName","src":"5720:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52906,"nodeType":"VariableDeclarationStatement","src":"5720:25:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52909,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52907,"name":"userEthAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"5771:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":52908,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5787:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5771:17:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52944,"nodeType":"IfStatement","src":"5767:480:75","trueBody":{"id":52943,"nodeType":"Block","src":"5790:457:75","statements":[{"clauses":[{"block":{"id":52935,"nodeType":"Block","src":"5978:174:75","statements":[{"expression":{"id":52926,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52924,"name":"userStEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52905,"src":"5996:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52925,"name":"receivedStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52922,"src":"6016:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5996:33:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52927,"nodeType":"ExpressionStatement","src":"5996:33:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52930,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52928,"name":"userStEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52905,"src":"6051:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52929,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6072:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6051:22:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52934,"nodeType":"IfStatement","src":"6047:51:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52931,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60243,"src":"6082:14:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52932,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6082:16:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52933,"nodeType":"RevertStatement","src":"6075:23:75"}}]},"errorName":"","id":52936,"nodeType":"TryCatchClause","parameters":{"id":52923,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52922,"mutability":"mutable","name":"receivedStEth","nameLocation":"5963:13:75","nodeType":"VariableDeclaration","scope":52936,"src":"5955:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52921,"name":"uint256","nodeType":"ElementaryTypeName","src":"5955:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5954:23:75"},"src":"5946:206:75"},{"block":{"id":52940,"nodeType":"Block","src":"6159:78:75","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52937,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60243,"src":"6184:14:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52938,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6184:16:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52939,"nodeType":"RevertStatement","src":"6177:23:75"}]},"errorName":"","id":52941,"nodeType":"TryCatchClause","src":"6153:84:75"}],"externalCall":{"arguments":[{"arguments":[{"hexValue":"30","id":52918,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5942:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":52917,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5934:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":52916,"name":"address","nodeType":"ElementaryTypeName","src":"5934:7:75","typeDescriptions":{}}},"id":52919,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5934:10:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":52911,"name":"lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52747,"src":"5899:4:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":52910,"name":"ILido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60077,"src":"5893:5:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ILido_$60077_$","typeString":"type(contract ILido)"}},"id":52912,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5893:11:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ILido_$60077","typeString":"contract ILido"}},"id":52913,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5905:6:75","memberName":"submit","nodeType":"MemberAccess","referencedDeclaration":60076,"src":"5893:18:75","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$","typeString":"function (address) payable external returns (uint256)"}},"id":52915,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"id":52914,"name":"userEthAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"5919:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"5893:40:75","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$value","typeString":"function (address) payable external returns (uint256)"}},"id":52920,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5893:52:75","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52942,"nodeType":"TryStatement","src":"5889:348:75"}]}},{"assignments":[52946],"declarations":[{"constant":false,"id":52946,"mutability":"mutable","name":"totalStEthAdded","nameLocation":"6370:15:75","nodeType":"VariableDeclaration","scope":52975,"src":"6362:23:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52945,"name":"uint256","nodeType":"ElementaryTypeName","src":"6362:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52950,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52949,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52947,"name":"userStEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52905,"src":"6388:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":52948,"name":"stabilizerStEthAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52881,"src":"6408:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6388:41:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6362:67:75"},{"assignments":[52952],"declarations":[{"constant":false,"id":52952,"mutability":"mutable","name":"currentTrackedStEthWithYield","nameLocation":"6456:28:75","nodeType":"VariableDeclaration","scope":52975,"src":"6448:36:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52951,"name":"uint256","nodeType":"ElementaryTypeName","src":"6448:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52956,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":52953,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"6487:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":52954,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6492:24:75","memberName":"getTrackedStEthWithYield","nodeType":"MemberAccess","referencedDeclaration":53558,"src":"6487:29:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":52955,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6487:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6448:70:75"},{"expression":{"id":52961,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52957,"name":"lockedStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52761,"src":"6528:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52960,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52958,"name":"currentTrackedStEthWithYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52952,"src":"6542:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":52959,"name":"totalStEthAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52946,"src":"6573:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6542:46:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6528:60:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52962,"nodeType":"ExpressionStatement","src":"6528:60:75"},{"expression":{"id":52969,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52963,"name":"yieldFactorAtLastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52763,"src":"6598:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":52965,"name":"rateContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52750,"src":"6650:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":52964,"name":"IPoolSharesConversionRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60225,"src":"6624:25:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPoolSharesConversionRate_$60225_$","typeString":"type(contract IPoolSharesConversionRate)"}},"id":52966,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6624:39:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPoolSharesConversionRate_$60225","typeString":"contract IPoolSharesConversionRate"}},"id":52967,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6664:14:75","memberName":"getYieldFactor","nodeType":"MemberAccess","referencedDeclaration":60194,"src":"6624:54:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":52968,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6624:56:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6598:82:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52970,"nodeType":"ExpressionStatement","src":"6598:82:75"},{"eventCall":{"arguments":[{"id":52972,"name":"totalStEthAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52946,"src":"6782:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":52971,"name":"CollateralAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60253,"src":"6766:15:75","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":52973,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6766:32:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52974,"nodeType":"EmitStatement","src":"6761:37:75"}]},"baseFunctions":[60311],"documentation":{"id":52879,"nodeType":"StructuredDocumentation","src":"4983:417:75","text":" @notice Receives user's ETH, stakes it via Lido, and acknowledges stabilizer's stETH contribution.\n @param stabilizerStEthAmount The amount of stETH already transferred from the StabilizerEscrow.\n @dev Callable only by STABILIZER_ROLE (StabilizerNFT). Converts msg.value ETH to stETH.\n      Assumes stabilizerStEthAmount has been transferred *to* this contract *before* this call."},"functionSelector":"bf3fdde7","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":52885,"name":"STABILIZER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52735,"src":"5540:15:75","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":52886,"kind":"modifierInvocation","modifierName":{"id":52884,"name":"onlyRole","nameLocations":["5531:8:75"],"nodeType":"IdentifierPath","referencedDeclaration":39150,"src":"5531:8:75"},"nodeType":"ModifierInvocation","src":"5531:25:75"}],"name":"addCollateralFromStabilizer","nameLocation":"5414:27:75","overrides":{"id":52883,"nodeType":"OverrideSpecifier","overrides":[],"src":"5514:8:75"},"parameters":{"id":52882,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52881,"mutability":"mutable","name":"stabilizerStEthAmount","nameLocation":"5450:21:75","nodeType":"VariableDeclaration","scope":52976,"src":"5442:29:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52880,"name":"uint256","nodeType":"ElementaryTypeName","src":"5442:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5441:31:75"},"returnParameters":{"id":52887,"nodeType":"ParameterList","parameters":[],"src":"5561:0:75"},"scope":53741,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":53039,"nodeType":"FunctionDefinition","src":"6974:752:75","nodes":[],"body":{"id":53038,"nodeType":"Block","src":"7053:673:75","nodes":[],"statements":[{"assignments":[52982],"declarations":[{"constant":false,"id":52982,"mutability":"mutable","name":"ethAmount","nameLocation":"7071:9:75","nodeType":"VariableDeclaration","scope":53038,"src":"7063:17:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52981,"name":"uint256","nodeType":"ElementaryTypeName","src":"7063:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52985,"initialValue":{"expression":{"id":52983,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"7083:3:75","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":52984,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7087:5:75","memberName":"value","nodeType":"MemberAccess","src":"7083:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7063:29:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52988,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52986,"name":"ethAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52982,"src":"7106:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52987,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7119:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7106:14:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52992,"nodeType":"IfStatement","src":"7102:39:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52989,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60241,"src":"7129:10:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52990,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7129:12:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":52991,"nodeType":"RevertStatement","src":"7122:19:75"}},{"assignments":[52994],"declarations":[{"constant":false,"id":52994,"mutability":"mutable","name":"stEthReceived","nameLocation":"7160:13:75","nodeType":"VariableDeclaration","scope":53038,"src":"7152:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52993,"name":"uint256","nodeType":"ElementaryTypeName","src":"7152:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52995,"nodeType":"VariableDeclarationStatement","src":"7152:21:75"},{"clauses":[{"block":{"id":53021,"nodeType":"Block","src":"7278:149:75","statements":[{"expression":{"id":53012,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53010,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52994,"src":"7292:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53011,"name":"received","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53008,"src":"7308:8:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7292:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53013,"nodeType":"ExpressionStatement","src":"7292:24:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53016,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53014,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52994,"src":"7334:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53015,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7351:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7334:18:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53020,"nodeType":"IfStatement","src":"7330:47:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53017,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60243,"src":"7361:14:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53018,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7361:16:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53019,"nodeType":"RevertStatement","src":"7354:23:75"}}]},"errorName":"","id":53022,"nodeType":"TryCatchClause","parameters":{"id":53009,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53008,"mutability":"mutable","name":"received","nameLocation":"7268:8:75","nodeType":"VariableDeclaration","scope":53022,"src":"7260:16:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53007,"name":"uint256","nodeType":"ElementaryTypeName","src":"7260:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7259:18:75"},"src":"7251:176:75"},{"block":{"id":53026,"nodeType":"Block","src":"7434:70:75","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53023,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60243,"src":"7455:14:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53024,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7455:16:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53025,"nodeType":"RevertStatement","src":"7448:23:75"}]},"errorName":"","id":53027,"nodeType":"TryCatchClause","src":"7428:76:75"}],"externalCall":{"arguments":[{"arguments":[{"hexValue":"30","id":53004,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7247:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53003,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7239:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53002,"name":"address","nodeType":"ElementaryTypeName","src":"7239:7:75","typeDescriptions":{}}},"id":53005,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7239:10:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":52997,"name":"lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52747,"src":"7208:4:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":52996,"name":"ILido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60077,"src":"7202:5:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ILido_$60077_$","typeString":"type(contract ILido)"}},"id":52998,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7202:11:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ILido_$60077","typeString":"contract ILido"}},"id":52999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7214:6:75","memberName":"submit","nodeType":"MemberAccess","referencedDeclaration":60076,"src":"7202:18:75","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$","typeString":"function (address) payable external returns (uint256)"}},"id":53001,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"id":53000,"name":"ethAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52982,"src":"7228:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"7202:36:75","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$value","typeString":"function (address) payable external returns (uint256)"}},"id":53006,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7202:48:75","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53028,"nodeType":"TryStatement","src":"7198:306:75"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53029,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"7586:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":53031,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7591:16:75","memberName":"syncStEthBalance","nodeType":"MemberAccess","referencedDeclaration":53680,"src":"7586:21:75","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$__$returns$__$","typeString":"function () external"}},"id":53032,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7586:23:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53033,"nodeType":"ExpressionStatement","src":"7586:23:75"},{"eventCall":{"arguments":[{"id":53035,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52994,"src":"7705:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53034,"name":"CollateralAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60253,"src":"7689:15:75","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":53036,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7689:30:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53037,"nodeType":"EmitStatement","src":"7684:35:75"}]},"baseFunctions":[60314],"documentation":{"id":52977,"nodeType":"StructuredDocumentation","src":"6811:158:75","text":" @notice Adds collateral by receiving native ETH, which is staked via Lido.\n @dev Converts msg.value ETH to stETH. Callable by anyone."},"functionSelector":"769ef03d","implemented":true,"kind":"function","modifiers":[],"name":"addCollateralEth","nameLocation":"6983:16:75","overrides":{"id":52979,"nodeType":"OverrideSpecifier","overrides":[],"src":"7019:8:75"},"parameters":{"id":52978,"nodeType":"ParameterList","parameters":[],"src":"6999:2:75"},"returnParameters":{"id":52980,"nodeType":"ParameterList","parameters":[],"src":"7053:0:75"},"scope":53741,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":53084,"nodeType":"FunctionDefinition","src":"7958:572:75","nodes":[],"body":{"id":53083,"nodeType":"Block","src":"8050:480:75","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53046,"name":"stETHAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53042,"src":"8064:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53047,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8079:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8064:16:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53052,"nodeType":"IfStatement","src":"8060:41:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53049,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60241,"src":"8089:10:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53050,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8089:12:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53051,"nodeType":"RevertStatement","src":"8082:19:75"}},{"assignments":[53054],"declarations":[{"constant":false,"id":53054,"mutability":"mutable","name":"success","nameLocation":"8155:7:75","nodeType":"VariableDeclaration","scope":53083,"src":"8150:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53053,"name":"bool","nodeType":"ElementaryTypeName","src":"8150:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":53067,"initialValue":{"arguments":[{"expression":{"id":53059,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"8192:3:75","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53060,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8196:6:75","memberName":"sender","nodeType":"MemberAccess","src":"8192:10:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":53063,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"8212:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}],"id":53062,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8204:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53061,"name":"address","nodeType":"ElementaryTypeName","src":"8204:7:75","typeDescriptions":{}}},"id":53064,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8204:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53065,"name":"stETHAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53042,"src":"8219:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53056,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52744,"src":"8172:5:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53055,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"8165:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":53057,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8165:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":53058,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8179:12:75","memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":43804,"src":"8165:26:75","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":53066,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8165:66:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"8150:81:75"},{"condition":{"id":53069,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"8245:8:75","subExpression":{"id":53068,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53054,"src":"8246:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53073,"nodeType":"IfStatement","src":"8241:37:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53070,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60243,"src":"8262:14:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53071,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8262:16:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53072,"nodeType":"RevertStatement","src":"8255:23:75"}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53074,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"8392:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":53076,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8397:16:75","memberName":"syncStEthBalance","nodeType":"MemberAccess","referencedDeclaration":53680,"src":"8392:21:75","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$__$returns$__$","typeString":"function () external"}},"id":53077,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8392:23:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53078,"nodeType":"ExpressionStatement","src":"8392:23:75"},{"eventCall":{"arguments":[{"id":53080,"name":"stETHAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53042,"src":"8511:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53079,"name":"CollateralAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60253,"src":"8495:15:75","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":53081,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8495:28:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53082,"nodeType":"EmitStatement","src":"8490:33:75"}]},"baseFunctions":[60319],"documentation":{"id":53040,"nodeType":"StructuredDocumentation","src":"7732:221:75","text":" @notice Adds collateral by receiving stETH directly from the caller.\n @param stETHAmount The amount of stETH to add.\n @dev Requires caller to have approved this contract. Callable by anyone."},"functionSelector":"571a1e28","implemented":true,"kind":"function","modifiers":[],"name":"addCollateralStETH","nameLocation":"7967:18:75","overrides":{"id":53044,"nodeType":"OverrideSpecifier","overrides":[],"src":"8016:8:75"},"parameters":{"id":53043,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53042,"mutability":"mutable","name":"stETHAmount","nameLocation":"7994:11:75","nodeType":"VariableDeclaration","scope":53084,"src":"7986:19:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53041,"name":"uint256","nodeType":"ElementaryTypeName","src":"7986:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7985:21:75"},"returnParameters":{"id":53045,"nodeType":"ParameterList","parameters":[],"src":"8050:0:75"},"scope":53741,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53146,"nodeType":"FunctionDefinition","src":"8756:739:75","nodes":[],"body":{"id":53145,"nodeType":"Block","src":"8846:649:75","nodes":[],"statements":[{"assignments":[53095],"declarations":[{"constant":false,"id":53095,"mutability":"mutable","name":"oldShares","nameLocation":"8864:9:75","nodeType":"VariableDeclaration","scope":53145,"src":"8856:17:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53094,"name":"uint256","nodeType":"ElementaryTypeName","src":"8856:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53097,"initialValue":{"id":53096,"name":"backedPoolShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52759,"src":"8876:16:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8856:36:75"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53098,"name":"sharesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53087,"src":"8906:11:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":53099,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8920:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8906:15:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53113,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53111,"name":"sharesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53087,"src":"9051:11:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":53112,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9065:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9051:15:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":53137,"nodeType":"Block","src":"9353:72:75","statements":[{"functionReturnParameters":53093,"id":53136,"nodeType":"Return","src":"9408:7:75"}]},"id":53138,"nodeType":"IfStatement","src":"9047:378:75","trueBody":{"id":53135,"nodeType":"Block","src":"9068:279:75","statements":[{"assignments":[53115],"declarations":[{"constant":false,"id":53115,"mutability":"mutable","name":"sharesToRemove","nameLocation":"9136:14:75","nodeType":"VariableDeclaration","scope":53135,"src":"9128:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53114,"name":"uint256","nodeType":"ElementaryTypeName","src":"9128:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53121,"initialValue":{"arguments":[{"id":53119,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9161:12:75","subExpression":{"id":53118,"name":"sharesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53087,"src":"9162:11:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":53117,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9153:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":53116,"name":"uint256","nodeType":"ElementaryTypeName","src":"9153:7:75","typeDescriptions":{}}},"id":53120,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9153:21:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9128:46:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53124,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53122,"name":"sharesToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53115,"src":"9192:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":53123,"name":"oldShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53095,"src":"9209:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9192:26:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53128,"nodeType":"IfStatement","src":"9188:56:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53125,"name":"ArithmeticError","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60247,"src":"9227:15:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53126,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9227:17:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53127,"nodeType":"RevertStatement","src":"9220:24:75"}},{"expression":{"id":53133,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53129,"name":"backedPoolShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52759,"src":"9291:16:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53132,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53130,"name":"oldShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53095,"src":"9310:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53131,"name":"sharesToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53115,"src":"9322:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9310:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9291:45:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53134,"nodeType":"ExpressionStatement","src":"9291:45:75"}]}},"id":53139,"nodeType":"IfStatement","src":"8902:523:75","trueBody":{"id":53110,"nodeType":"Block","src":"8923:118:75","statements":[{"expression":{"id":53108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53101,"name":"backedPoolShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52759,"src":"8979:16:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53107,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53102,"name":"oldShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53095,"src":"8998:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":53105,"name":"sharesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53087,"src":"9018:11:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":53104,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9010:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":53103,"name":"uint256","nodeType":"ElementaryTypeName","src":"9010:7:75","typeDescriptions":{}}},"id":53106,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9010:20:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8998:32:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8979:51:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53109,"nodeType":"ExpressionStatement","src":"8979:51:75"}]}},{"eventCall":{"arguments":[{"id":53141,"name":"sharesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53087,"src":"9458:11:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53142,"name":"backedPoolShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52759,"src":"9471:16:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53140,"name":"AllocationModified","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60259,"src":"9439:18:75","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_uint256_$returns$__$","typeString":"function (int256,uint256)"}},"id":53143,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9439:49:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53144,"nodeType":"EmitStatement","src":"9434:54:75"}]},"baseFunctions":[60324],"documentation":{"id":53085,"nodeType":"StructuredDocumentation","src":"8537:214:75","text":" @notice Modifies the backed pool shares liability.\n @param sharesDelta The change in pool shares (can be positive or negative).\n @dev Callable only by STABILIZER_ROLE (StabilizerNFT)."},"functionSelector":"0bfd07fc","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":53091,"name":"STABILIZER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52735,"src":"8829:15:75","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":53092,"kind":"modifierInvocation","modifierName":{"id":53090,"name":"onlyRole","nameLocations":["8820:8:75"],"nodeType":"IdentifierPath","referencedDeclaration":39150,"src":"8820:8:75"},"nodeType":"ModifierInvocation","src":"8820:25:75"}],"name":"modifyAllocation","nameLocation":"8765:16:75","overrides":{"id":53089,"nodeType":"OverrideSpecifier","overrides":[],"src":"8811:8:75"},"parameters":{"id":53088,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53087,"mutability":"mutable","name":"sharesDelta","nameLocation":"8789:11:75","nodeType":"VariableDeclaration","scope":53146,"src":"8782:18:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53086,"name":"int256","nodeType":"ElementaryTypeName","src":"8782:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"8781:20:75"},"returnParameters":{"id":53093,"nodeType":"ParameterList","parameters":[],"src":"8846:0:75"},"scope":53741,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53230,"nodeType":"FunctionDefinition","src":"9770:836:75","nodes":[],"body":{"id":53229,"nodeType":"Block","src":"9883:723:75","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53160,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53158,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53149,"src":"9897:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53159,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9915:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9897:19:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53164,"nodeType":"IfStatement","src":"9893:44:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53161,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60241,"src":"9925:10:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53162,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9925:12:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53163,"nodeType":"RevertStatement","src":"9918:19:75"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53170,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53165,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53151,"src":"9951:9:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":53168,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9972:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53167,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9964:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53166,"name":"address","nodeType":"ElementaryTypeName","src":"9964:7:75","typeDescriptions":{}}},"id":53169,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9964:10:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9951:23:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53174,"nodeType":"IfStatement","src":"9947:49:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53171,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60239,"src":"9983:11:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53172,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9983:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53173,"nodeType":"RevertStatement","src":"9976:20:75"}},{"assignments":[53176],"declarations":[{"constant":false,"id":53176,"mutability":"mutable","name":"currentTrackedStEthWithYield","nameLocation":"10015:28:75","nodeType":"VariableDeclaration","scope":53229,"src":"10007:36:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53175,"name":"uint256","nodeType":"ElementaryTypeName","src":"10007:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53180,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53177,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"10046:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":53178,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10051:24:75","memberName":"getTrackedStEthWithYield","nodeType":"MemberAccess","referencedDeclaration":53558,"src":"10046:29:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53179,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10046:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10007:70:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53183,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53181,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53149,"src":"10091:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":53182,"name":"currentTrackedStEthWithYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53176,"src":"10108:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10091:45:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53193,"nodeType":"IfStatement","src":"10087:143:75","trueBody":{"errorCall":{"arguments":[{"arguments":[{"id":53187,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"10178:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}],"id":53186,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10170:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53185,"name":"address","nodeType":"ElementaryTypeName","src":"10170:7:75","typeDescriptions":{}}},"id":53188,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10170:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53189,"name":"currentTrackedStEthWithYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53176,"src":"10185:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53190,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53149,"src":"10215:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53184,"name":"ERC20InsufficientBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42310,"src":"10145:24:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (address,uint256,uint256) pure returns (error)"}},"id":53191,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10145:85:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53192,"nodeType":"RevertStatement","src":"10138:92:75"}},{"assignments":[53195],"declarations":[{"constant":false,"id":53195,"mutability":"mutable","name":"success","nameLocation":"10246:7:75","nodeType":"VariableDeclaration","scope":53229,"src":"10241:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53194,"name":"bool","nodeType":"ElementaryTypeName","src":"10241:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":53203,"initialValue":{"arguments":[{"id":53200,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53151,"src":"10279:9:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53201,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53149,"src":"10290:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53197,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52744,"src":"10263:5:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53196,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"10256:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":53198,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10256:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":53199,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10270:8:75","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":43772,"src":"10256:22:75","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":53202,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10256:49:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"10241:64:75"},{"condition":{"id":53205,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"10319:8:75","subExpression":{"id":53204,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53195,"src":"10320:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53209,"nodeType":"IfStatement","src":"10315:37:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53206,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60243,"src":"10336:14:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53207,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10336:16:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53208,"nodeType":"RevertStatement","src":"10329:23:75"}},{"expression":{"id":53214,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53210,"name":"lockedStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52761,"src":"10363:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53211,"name":"currentTrackedStEthWithYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53176,"src":"10377:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53212,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53149,"src":"10408:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10377:45:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10363:59:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53215,"nodeType":"ExpressionStatement","src":"10363:59:75"},{"expression":{"id":53222,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53216,"name":"yieldFactorAtLastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52763,"src":"10432:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53218,"name":"rateContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52750,"src":"10484:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53217,"name":"IPoolSharesConversionRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60225,"src":"10458:25:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPoolSharesConversionRate_$60225_$","typeString":"type(contract IPoolSharesConversionRate)"}},"id":53219,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10458:39:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPoolSharesConversionRate_$60225","typeString":"contract IPoolSharesConversionRate"}},"id":53220,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10498:14:75","memberName":"getYieldFactor","nodeType":"MemberAccess","referencedDeclaration":60194,"src":"10458:54:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53221,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10458:56:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10432:82:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53223,"nodeType":"ExpressionStatement","src":"10432:82:75"},{"eventCall":{"arguments":[{"id":53225,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53151,"src":"10548:9:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53226,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53149,"src":"10559:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53224,"name":"CollateralRemoved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60265,"src":"10530:17:75","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":53227,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10530:44:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53228,"nodeType":"EmitStatement","src":"10525:49:75"}]},"baseFunctions":[60331],"documentation":{"id":53147,"nodeType":"StructuredDocumentation","src":"9501:264:75","text":" @notice Removes stETH collateral.\n @param amountToRemove The total amount of stETH to remove.\n @param recipient The address to send the stETH to (typically StabilizerNFT).\n @dev Callable only by STABILIZER_ROLE (StabilizerNFT)."},"functionSelector":"d41ddc96","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":53155,"name":"STABILIZER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52735,"src":"9866:15:75","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":53156,"kind":"modifierInvocation","modifierName":{"id":53154,"name":"onlyRole","nameLocations":["9857:8:75"],"nodeType":"IdentifierPath","referencedDeclaration":39150,"src":"9857:8:75"},"nodeType":"ModifierInvocation","src":"9857:25:75"}],"name":"removeCollateral","nameLocation":"9779:16:75","overrides":{"id":53153,"nodeType":"OverrideSpecifier","overrides":[],"src":"9848:8:75"},"parameters":{"id":53152,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53149,"mutability":"mutable","name":"amountToRemove","nameLocation":"9804:14:75","nodeType":"VariableDeclaration","scope":53230,"src":"9796:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53148,"name":"uint256","nodeType":"ElementaryTypeName","src":"9796:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":53151,"mutability":"mutable","name":"recipient","nameLocation":"9828:9:75","nodeType":"VariableDeclaration","scope":53230,"src":"9820:17:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53150,"name":"address","nodeType":"ElementaryTypeName","src":"9820:7:75","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"9795:43:75"},"returnParameters":{"id":53157,"nodeType":"ParameterList","parameters":[],"src":"9883:0:75"},"scope":53741,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53414,"nodeType":"FunctionDefinition","src":"11034:2679:75","nodes":[],"body":{"id":53413,"nodeType":"Block","src":"11248:2465:75","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53250,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":53246,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52756,"src":"11430:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53243,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52741,"src":"11399:21:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53242,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44138,"src":"11391:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$44138_$","typeString":"type(contract IERC721)"}},"id":53244,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11391:30:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$44138","typeString":"contract IERC721"}},"id":53245,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11422:7:75","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":44071,"src":"11391:38:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":53247,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11391:47:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":53248,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"11442:3:75","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53249,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11446:6:75","memberName":"sender","nodeType":"MemberAccess","src":"11442:10:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"11391:61:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53254,"nodeType":"IfStatement","src":"11387:87:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53251,"name":"NotNFTOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60249,"src":"11461:11:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53252,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11461:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53253,"nodeType":"RevertStatement","src":"11454:20:75"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53260,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53255,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53233,"src":"11519:9:75","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":53258,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11540:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53257,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11532:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53256,"name":"address","nodeType":"ElementaryTypeName","src":"11532:7:75","typeDescriptions":{}}},"id":53259,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11532:10:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"11519:23:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53264,"nodeType":"IfStatement","src":"11515:49:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53261,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60239,"src":"11551:11:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53262,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11551:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53263,"nodeType":"RevertStatement","src":"11544:20:75"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53267,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53265,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53235,"src":"11578:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53266,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11596:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11578:19:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53271,"nodeType":"IfStatement","src":"11574:44:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53268,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60241,"src":"11606:10:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53269,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11606:12:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53270,"nodeType":"RevertStatement","src":"11599:19:75"}},{"assignments":[53276],"declarations":[{"constant":false,"id":53276,"mutability":"mutable","name":"priceResponse","nameLocation":"11698:13:75","nodeType":"VariableDeclaration","scope":53413,"src":"11664:47:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse"},"typeName":{"id":53275,"nodeType":"UserDefinedTypeName","pathNode":{"id":53274,"name":"IPriceOracle.PriceResponse","nameLocations":["11664:12:75","11677:13:75"],"nodeType":"IdentifierPath","referencedDeclaration":60375,"src":"11664:26:75"},"referencedDeclaration":60375,"src":"11664:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_storage_ptr","typeString":"struct IPriceOracle.PriceResponse"}},"visibility":"internal"}],"id":53283,"initialValue":{"arguments":[{"id":53281,"name":"priceQuery","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53238,"src":"11767:10:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceAttestationQuery_$60368_calldata_ptr","typeString":"struct IPriceOracle.PriceAttestationQuery calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PriceAttestationQuery_$60368_calldata_ptr","typeString":"struct IPriceOracle.PriceAttestationQuery calldata"}],"expression":{"arguments":[{"id":53278,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52753,"src":"11727:6:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53277,"name":"IPriceOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60385,"src":"11714:12:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPriceOracle_$60385_$","typeString":"type(contract IPriceOracle)"}},"id":53279,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11714:20:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPriceOracle_$60385","typeString":"contract IPriceOracle"}},"id":53280,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11748:18:75","memberName":"attestationService","nodeType":"MemberAccess","referencedDeclaration":60384,"src":"11714:52:75","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_struct$_PriceAttestationQuery_$60368_memory_ptr_$returns$_t_struct$_PriceResponse_$60375_memory_ptr_$","typeString":"function (struct IPriceOracle.PriceAttestationQuery memory) payable external returns (struct IPriceOracle.PriceResponse memory)"}},"id":53282,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11714:64:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse memory"}},"nodeType":"VariableDeclarationStatement","src":"11664:114:75"},{"assignments":[53285],"declarations":[{"constant":false,"id":53285,"mutability":"mutable","name":"currentStEth","nameLocation":"11829:12:75","nodeType":"VariableDeclaration","scope":53413,"src":"11821:20:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53284,"name":"uint256","nodeType":"ElementaryTypeName","src":"11821:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53289,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53286,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"11844:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":53287,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11849:24:75","memberName":"getTrackedStEthWithYield","nodeType":"MemberAccess","referencedDeclaration":53558,"src":"11844:29:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53288,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11844:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11821:54:75"},{"assignments":[53291],"declarations":[{"constant":false,"id":53291,"mutability":"mutable","name":"currentShares","nameLocation":"11893:13:75","nodeType":"VariableDeclaration","scope":53413,"src":"11885:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53290,"name":"uint256","nodeType":"ElementaryTypeName","src":"11885:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53293,"initialValue":{"id":53292,"name":"backedPoolShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52759,"src":"11909:16:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11885:40:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53296,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53294,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53235,"src":"11979:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":53295,"name":"currentStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53285,"src":"11996:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11979:29:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53306,"nodeType":"IfStatement","src":"11975:111:75","trueBody":{"errorCall":{"arguments":[{"arguments":[{"id":53300,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"12050:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}],"id":53299,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12042:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53298,"name":"address","nodeType":"ElementaryTypeName","src":"12042:7:75","typeDescriptions":{}}},"id":53301,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12042:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53302,"name":"currentStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53285,"src":"12057:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53303,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53235,"src":"12071:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53297,"name":"ERC20InsufficientBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42310,"src":"12017:24:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (address,uint256,uint256) pure returns (error)"}},"id":53304,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12017:69:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53305,"nodeType":"RevertStatement","src":"12010:76:75"}},{"assignments":[53308],"declarations":[{"constant":false,"id":53308,"mutability":"mutable","name":"remainingStEth","nameLocation":"12151:14:75","nodeType":"VariableDeclaration","scope":53413,"src":"12143:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53307,"name":"uint256","nodeType":"ElementaryTypeName","src":"12143:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53312,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53311,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53309,"name":"currentStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53285,"src":"12168:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53310,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53235,"src":"12183:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12168:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12143:54:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53313,"name":"currentShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53291,"src":"12272:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":53314,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12288:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12272:17:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53386,"nodeType":"IfStatement","src":"12268:981:75","trueBody":{"id":53385,"nodeType":"Block","src":"12291:958:75","statements":[{"assignments":[53317],"declarations":[{"constant":false,"id":53317,"mutability":"mutable","name":"yieldFactor","nameLocation":"12313:11:75","nodeType":"VariableDeclaration","scope":53385,"src":"12305:19:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53316,"name":"uint256","nodeType":"ElementaryTypeName","src":"12305:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53323,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53319,"name":"rateContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52750,"src":"12353:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53318,"name":"IPoolSharesConversionRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60225,"src":"12327:25:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPoolSharesConversionRate_$60225_$","typeString":"type(contract IPoolSharesConversionRate)"}},"id":53320,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12327:39:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPoolSharesConversionRate_$60225","typeString":"contract IPoolSharesConversionRate"}},"id":53321,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12367:14:75","memberName":"getYieldFactor","nodeType":"MemberAccess","referencedDeclaration":60194,"src":"12327:54:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53322,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12327:56:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12305:78:75"},{"assignments":[53325],"declarations":[{"constant":false,"id":53325,"mutability":"mutable","name":"liabilityValueUSD","nameLocation":"12405:17:75","nodeType":"VariableDeclaration","scope":53385,"src":"12397:25:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53324,"name":"uint256","nodeType":"ElementaryTypeName","src":"12397:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53336,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53335,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53326,"name":"currentShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53291,"src":"12426:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":53327,"name":"yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53317,"src":"12442:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12426:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53329,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12425:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53331,"name":"rateContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52750,"src":"12483:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53330,"name":"IPoolSharesConversionRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60225,"src":"12457:25:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPoolSharesConversionRate_$60225_$","typeString":"type(contract IPoolSharesConversionRate)"}},"id":53332,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12457:39:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPoolSharesConversionRate_$60225","typeString":"contract IPoolSharesConversionRate"}},"id":53333,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12497:16:75","memberName":"FACTOR_PRECISION","nodeType":"MemberAccess","referencedDeclaration":60200,"src":"12457:56:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53334,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12457:58:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12425:90:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12397:118:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53339,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53337,"name":"liabilityValueUSD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53325,"src":"12533:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53338,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12554:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12533:22:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53343,"nodeType":"IfStatement","src":"12529:52:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53340,"name":"ArithmeticError","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60247,"src":"12564:15:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53341,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12564:17:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53342,"nodeType":"RevertStatement","src":"12557:24:75"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53347,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":53344,"name":"priceResponse","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53276,"src":"12696:13:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse memory"}},"id":53345,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12710:5:75","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":60370,"src":"12696:19:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53346,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12719:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12696:24:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53351,"nodeType":"IfStatement","src":"12692:49:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53348,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60241,"src":"12729:10:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53349,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12729:12:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53350,"nodeType":"RevertStatement","src":"12722:19:75"}},{"assignments":[53353],"declarations":[{"constant":false,"id":53353,"mutability":"mutable","name":"collateralValueUSD_after","nameLocation":"12822:24:75","nodeType":"VariableDeclaration","scope":53385,"src":"12814:32:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53352,"name":"uint256","nodeType":"ElementaryTypeName","src":"12814:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53368,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53367,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53357,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53354,"name":"remainingStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53308,"src":"12850:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":53355,"name":"priceResponse","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53276,"src":"12867:13:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse memory"}},"id":53356,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12881:5:75","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":60370,"src":"12867:19:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12850:36:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53358,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12849:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":53359,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12891:2:75","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"arguments":[{"expression":{"id":53362,"name":"priceResponse","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53276,"src":"12903:13:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse memory"}},"id":53363,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12917:8:75","memberName":"decimals","nodeType":"MemberAccess","referencedDeclaration":60372,"src":"12903:22:75","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint8","typeString":"uint8"}],"id":53361,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12895:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":53360,"name":"uint256","nodeType":"ElementaryTypeName","src":"12895:7:75","typeDescriptions":{}}},"id":53364,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12895:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12891:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53366,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12890:37:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12849:78:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12814:113:75"},{"assignments":[53370],"declarations":[{"constant":false,"id":53370,"mutability":"mutable","name":"newRatio","nameLocation":"12996:8:75","nodeType":"VariableDeclaration","scope":53385,"src":"12988:16:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53369,"name":"uint256","nodeType":"ElementaryTypeName","src":"12988:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53377,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53376,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53373,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53371,"name":"collateralValueUSD_after","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53353,"src":"13008:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3130303030","id":53372,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13035:5:75","typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"src":"13008:32:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53374,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"13007:34:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":53375,"name":"liabilityValueUSD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53325,"src":"13044:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13007:54:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12988:73:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53380,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53378,"name":"newRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53370,"src":"13175:8:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":53379,"name":"MINIMUM_COLLATERAL_RATIO","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52738,"src":"13186:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13175:35:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53384,"nodeType":"IfStatement","src":"13171:67:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53381,"name":"BelowMinimumRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60245,"src":"13219:17:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53382,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13219:19:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53383,"nodeType":"RevertStatement","src":"13212:26:75"}}]}},{"assignments":[53388],"declarations":[{"constant":false,"id":53388,"mutability":"mutable","name":"success","nameLocation":"13403:7:75","nodeType":"VariableDeclaration","scope":53413,"src":"13398:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53387,"name":"bool","nodeType":"ElementaryTypeName","src":"13398:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":53396,"initialValue":{"arguments":[{"id":53393,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53233,"src":"13436:9:75","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"id":53394,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53235,"src":"13447:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53390,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52744,"src":"13420:5:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53389,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"13413:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":53391,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13413:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":53392,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13427:8:75","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":43772,"src":"13413:22:75","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":53395,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13413:49:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"13398:64:75"},{"condition":{"id":53398,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"13476:8:75","subExpression":{"id":53397,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53388,"src":"13477:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53402,"nodeType":"IfStatement","src":"13472:37:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53399,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60243,"src":"13493:14:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53400,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13493:16:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53401,"nodeType":"RevertStatement","src":"13486:23:75"}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53403,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"13592:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":53405,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13597:16:75","memberName":"syncStEthBalance","nodeType":"MemberAccess","referencedDeclaration":53680,"src":"13592:21:75","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$__$returns$__$","typeString":"function () external"}},"id":53406,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13592:23:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53407,"nodeType":"ExpressionStatement","src":"13592:23:75"},{"eventCall":{"arguments":[{"id":53409,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53233,"src":"13680:9:75","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"id":53410,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53235,"src":"13691:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53408,"name":"ExcessCollateralRemoved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60271,"src":"13656:23:75","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":53411,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13656:50:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53412,"nodeType":"EmitStatement","src":"13651:55:75"}]},"baseFunctions":[60341],"documentation":{"id":53231,"nodeType":"StructuredDocumentation","src":"10612:417:75","text":" @notice Removes a specified amount of stETH collateral if the ratio remains >= MINIMUM_COLLATERAL_RATIO.\n @param recipient The address (StabilizerEscrow) to send the stETH to.\n @param amountToRemove The amount of stETH the caller wishes to remove.\n @param priceQuery The signed price attestation query.\n @dev Callable only by EXCESSCOLLATERALMANAGER_ROLE (Stabilizer Owner)."},"functionSelector":"618f8027","implemented":true,"kind":"function","modifiers":[],"name":"removeExcessCollateral","nameLocation":"11043:22:75","overrides":{"id":53240,"nodeType":"OverrideSpecifier","overrides":[],"src":"11239:8:75"},"parameters":{"id":53239,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53233,"mutability":"mutable","name":"recipient","nameLocation":"11091:9:75","nodeType":"VariableDeclaration","scope":53414,"src":"11075:25:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":53232,"name":"address","nodeType":"ElementaryTypeName","src":"11075:15:75","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"visibility":"internal"},{"constant":false,"id":53235,"mutability":"mutable","name":"amountToRemove","nameLocation":"11118:14:75","nodeType":"VariableDeclaration","scope":53414,"src":"11110:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53234,"name":"uint256","nodeType":"ElementaryTypeName","src":"11110:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":53238,"mutability":"mutable","name":"priceQuery","nameLocation":"11213:10:75","nodeType":"VariableDeclaration","scope":53414,"src":"11169:54:75","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_PriceAttestationQuery_$60368_calldata_ptr","typeString":"struct IPriceOracle.PriceAttestationQuery"},"typeName":{"id":53237,"nodeType":"UserDefinedTypeName","pathNode":{"id":53236,"name":"IPriceOracle.PriceAttestationQuery","nameLocations":["11169:12:75","11182:21:75"],"nodeType":"IdentifierPath","referencedDeclaration":60368,"src":"11169:34:75"},"referencedDeclaration":60368,"src":"11169:34:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceAttestationQuery_$60368_storage_ptr","typeString":"struct IPriceOracle.PriceAttestationQuery"}},"visibility":"internal"}],"src":"11065:164:75"},"returnParameters":{"id":53241,"nodeType":"ParameterList","parameters":[],"src":"11248:0:75"},"scope":53741,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53513,"nodeType":"FunctionDefinition","src":"14023:1339:75","nodes":[],"body":{"id":53512,"nodeType":"Block","src":"14154:1208:75","nodes":[],"statements":[{"assignments":[53425],"declarations":[{"constant":false,"id":53425,"mutability":"mutable","name":"currentShares","nameLocation":"14172:13:75","nodeType":"VariableDeclaration","scope":53512,"src":"14164:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53424,"name":"uint256","nodeType":"ElementaryTypeName","src":"14164:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53427,"initialValue":{"id":53426,"name":"backedPoolShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52759,"src":"14188:16:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14164:40:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53430,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53428,"name":"currentShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53425,"src":"14218:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53429,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14235:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"14218:18:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53438,"nodeType":"IfStatement","src":"14214:110:75","trueBody":{"id":53437,"nodeType":"Block","src":"14238:86:75","statements":[{"expression":{"expression":{"arguments":[{"id":53433,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14264:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":53432,"name":"uint256","nodeType":"ElementaryTypeName","src":"14264:7:75","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":53431,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"14259:4:75","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":53434,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14259:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":53435,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"14273:3:75","memberName":"max","nodeType":"MemberAccess","src":"14259:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":53423,"id":53436,"nodeType":"Return","src":"14252:24:75"}]}},{"assignments":[53440],"declarations":[{"constant":false,"id":53440,"mutability":"mutable","name":"currentStEth","nameLocation":"14342:12:75","nodeType":"VariableDeclaration","scope":53512,"src":"14334:20:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53439,"name":"uint256","nodeType":"ElementaryTypeName","src":"14334:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53444,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53441,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"14357:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":53442,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14362:24:75","memberName":"getTrackedStEthWithYield","nodeType":"MemberAccess","referencedDeclaration":53558,"src":"14357:29:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53443,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14357:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14334:54:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53447,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53445,"name":"currentStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53440,"src":"14402:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53446,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14418:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"14402:17:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53451,"nodeType":"IfStatement","src":"14398:88:75","trueBody":{"id":53450,"nodeType":"Block","src":"14421:65:75","statements":[{"expression":{"hexValue":"30","id":53448,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14442:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":53423,"id":53449,"nodeType":"Return","src":"14435:8:75"}]}},{"assignments":[53453],"declarations":[{"constant":false,"id":53453,"mutability":"mutable","name":"collateralValueUSD","nameLocation":"14553:18:75","nodeType":"VariableDeclaration","scope":53512,"src":"14545:26:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53452,"name":"uint256","nodeType":"ElementaryTypeName","src":"14545:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53468,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53457,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53454,"name":"currentStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53440,"src":"14575:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":53455,"name":"priceResponse","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53418,"src":"14590:13:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse memory"}},"id":53456,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14604:5:75","memberName":"price","nodeType":"MemberAccess","referencedDeclaration":60370,"src":"14590:19:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14575:34:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53458,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14574:36:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53465,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":53459,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14614:2:75","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"arguments":[{"expression":{"id":53462,"name":"priceResponse","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53418,"src":"14626:13:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse memory"}},"id":53463,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14640:8:75","memberName":"decimals","nodeType":"MemberAccess","referencedDeclaration":60372,"src":"14626:22:75","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint8","typeString":"uint8"}],"id":53461,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14618:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":53460,"name":"uint256","nodeType":"ElementaryTypeName","src":"14618:7:75","typeDescriptions":{}}},"id":53464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14618:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14614:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53466,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14613:37:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14574:76:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14545:105:75"},{"assignments":[53470],"declarations":[{"constant":false,"id":53470,"mutability":"mutable","name":"yieldFactor","nameLocation":"14750:11:75","nodeType":"VariableDeclaration","scope":53512,"src":"14742:19:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53469,"name":"uint256","nodeType":"ElementaryTypeName","src":"14742:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53476,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53472,"name":"rateContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52750,"src":"14790:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53471,"name":"IPoolSharesConversionRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60225,"src":"14764:25:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPoolSharesConversionRate_$60225_$","typeString":"type(contract IPoolSharesConversionRate)"}},"id":53473,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14764:39:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPoolSharesConversionRate_$60225","typeString":"contract IPoolSharesConversionRate"}},"id":53474,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14804:14:75","memberName":"getYieldFactor","nodeType":"MemberAccess","referencedDeclaration":60194,"src":"14764:54:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53475,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14764:56:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14742:78:75"},{"assignments":[53478],"declarations":[{"constant":false,"id":53478,"mutability":"mutable","name":"liabilityValueUSD","nameLocation":"14838:17:75","nodeType":"VariableDeclaration","scope":53512,"src":"14830:25:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53477,"name":"uint256","nodeType":"ElementaryTypeName","src":"14830:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53489,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53488,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53481,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53479,"name":"currentShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53425,"src":"14859:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":53480,"name":"yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53470,"src":"14875:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14859:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53482,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14858:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53484,"name":"rateContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52750,"src":"14916:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53483,"name":"IPoolSharesConversionRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60225,"src":"14890:25:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPoolSharesConversionRate_$60225_$","typeString":"type(contract IPoolSharesConversionRate)"}},"id":53485,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14890:39:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPoolSharesConversionRate_$60225","typeString":"contract IPoolSharesConversionRate"}},"id":53486,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14930:16:75","memberName":"FACTOR_PRECISION","nodeType":"MemberAccess","referencedDeclaration":60200,"src":"14890:56:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53487,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14890:58:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14858:90:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14830:118:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53492,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53490,"name":"liabilityValueUSD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53478,"src":"14963:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53491,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14984:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"14963:22:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53500,"nodeType":"IfStatement","src":"14959:151:75","trueBody":{"id":53499,"nodeType":"Block","src":"14987:123:75","statements":[{"expression":{"expression":{"arguments":[{"id":53495,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"15087:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":53494,"name":"uint256","nodeType":"ElementaryTypeName","src":"15087:7:75","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":53493,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"15082:4:75","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":53496,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15082:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":53497,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15096:3:75","memberName":"max","nodeType":"MemberAccess","src":"15082:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":53423,"id":53498,"nodeType":"Return","src":"15075:24:75"}]}},{"expression":{"id":53508,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53501,"name":"ratio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53422,"src":"15276:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53504,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53502,"name":"collateralValueUSD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53453,"src":"15285:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3130303030","id":53503,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15306:5:75","typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"src":"15285:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53505,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"15284:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":53506,"name":"liabilityValueUSD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53478,"src":"15315:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15284:48:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15276:56:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53509,"nodeType":"ExpressionStatement","src":"15276:56:75"},{"expression":{"id":53510,"name":"ratio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53422,"src":"15350:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":53423,"id":53511,"nodeType":"Return","src":"15343:12:75"}]},"baseFunctions":[60349],"documentation":{"id":53415,"nodeType":"StructuredDocumentation","src":"13750:268:75","text":" @notice Calculates the current collateralization ratio.\n @param priceResponse The current valid price response for stETH/USD.\n @return ratio The ratio (scaled by 100, e.g., 110 means 110%). Returns type(uint256).max if liability is zero."},"functionSelector":"dc607d6f","implemented":true,"kind":"function","modifiers":[],"name":"getCollateralizationRatio","nameLocation":"14032:25:75","overrides":{"id":53420,"nodeType":"OverrideSpecifier","overrides":[],"src":"14121:8:75"},"parameters":{"id":53419,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53418,"mutability":"mutable","name":"priceResponse","nameLocation":"14092:13:75","nodeType":"VariableDeclaration","scope":53513,"src":"14058:47:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse"},"typeName":{"id":53417,"nodeType":"UserDefinedTypeName","pathNode":{"id":53416,"name":"IPriceOracle.PriceResponse","nameLocations":["14058:12:75","14071:13:75"],"nodeType":"IdentifierPath","referencedDeclaration":60375,"src":"14058:26:75"},"referencedDeclaration":60375,"src":"14058:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_storage_ptr","typeString":"struct IPriceOracle.PriceResponse"}},"visibility":"internal"}],"src":"14057:49:75"},"returnParameters":{"id":53423,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53422,"mutability":"mutable","name":"ratio","nameLocation":"14147:5:75","nodeType":"VariableDeclaration","scope":53513,"src":"14139:13:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53421,"name":"uint256","nodeType":"ElementaryTypeName","src":"14139:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"14138:15:75"},"scope":53741,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":53558,"nodeType":"FunctionDefinition","src":"15505:581:75","nodes":[],"body":{"id":53557,"nodeType":"Block","src":"15571:515:75","nodes":[],"statements":[{"assignments":[53520],"declarations":[{"constant":false,"id":53520,"mutability":"mutable","name":"currentYieldFactor","nameLocation":"15689:18:75","nodeType":"VariableDeclaration","scope":53557,"src":"15681:26:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53519,"name":"uint256","nodeType":"ElementaryTypeName","src":"15681:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53526,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53522,"name":"rateContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52750,"src":"15736:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53521,"name":"IPoolSharesConversionRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60225,"src":"15710:25:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPoolSharesConversionRate_$60225_$","typeString":"type(contract IPoolSharesConversionRate)"}},"id":53523,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15710:39:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPoolSharesConversionRate_$60225","typeString":"contract IPoolSharesConversionRate"}},"id":53524,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15750:14:75","memberName":"getYieldFactor","nodeType":"MemberAccess","referencedDeclaration":60194,"src":"15710:54:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53525,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15710:56:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"15681:85:75"},{"assignments":[53528],"declarations":[{"constant":false,"id":53528,"mutability":"mutable","name":"lastYieldFactor","nameLocation":"15784:15:75","nodeType":"VariableDeclaration","scope":53557,"src":"15776:23:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53527,"name":"uint256","nodeType":"ElementaryTypeName","src":"15776:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53530,"initialValue":{"id":53529,"name":"yieldFactorAtLastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52763,"src":"15802:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"15776:49:75"},{"assignments":[53532],"declarations":[{"constant":false,"id":53532,"mutability":"mutable","name":"principal","nameLocation":"15843:9:75","nodeType":"VariableDeclaration","scope":53557,"src":"15835:17:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53531,"name":"uint256","nodeType":"ElementaryTypeName","src":"15835:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53534,"initialValue":{"id":53533,"name":"lockedStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52761,"src":"15855:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"15835:31:75"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":53545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":53541,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53535,"name":"lastYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53528,"src":"15881:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53536,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15900:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"15881:20:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53540,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53538,"name":"currentYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53520,"src":"15905:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53539,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15927:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"15905:23:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"15881:47:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53544,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53542,"name":"lastYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53528,"src":"15932:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":53543,"name":"currentYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53520,"src":"15951:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15932:37:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"15881:88:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53549,"nodeType":"IfStatement","src":"15877:135:75","trueBody":{"id":53548,"nodeType":"Block","src":"15971:41:75","statements":[{"expression":{"id":53546,"name":"principal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53532,"src":"15992:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":53518,"id":53547,"nodeType":"Return","src":"15985:16:75"}]}},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53552,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53550,"name":"principal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53532,"src":"16030:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":53551,"name":"currentYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53520,"src":"16042:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16030:30:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53553,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"16029:32:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":53554,"name":"lastYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53528,"src":"16064:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16029:50:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":53518,"id":53556,"nodeType":"Return","src":"16022:57:75"}]},"documentation":{"id":53514,"nodeType":"StructuredDocumentation","src":"15368:132:75","text":" @notice Calculates the current tracked stETH balance including yield.\n @return The projected stETH balance."},"functionSelector":"cd217484","implemented":true,"kind":"function","modifiers":[],"name":"getTrackedStEthWithYield","nameLocation":"15514:24:75","parameters":{"id":53515,"nodeType":"ParameterList","parameters":[],"src":"15538:2:75"},"returnParameters":{"id":53518,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53517,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":53558,"src":"15562:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53516,"name":"uint256","nodeType":"ElementaryTypeName","src":"15562:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"15561:9:75"},"scope":53741,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":53578,"nodeType":"FunctionDefinition","src":"16442:231:75","nodes":[],"body":{"id":53577,"nodeType":"Block","src":"16571:102:75","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53567,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"16581:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":53569,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16586:16:75","memberName":"syncStEthBalance","nodeType":"MemberAccess","referencedDeclaration":53680,"src":"16581:21:75","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$__$returns$__$","typeString":"function () external"}},"id":53570,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16581:23:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53571,"nodeType":"ExpressionStatement","src":"16581:23:75"},{"expression":{"arguments":[{"id":53574,"name":"priceResponse","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53562,"src":"16652:13:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse memory"}],"expression":{"id":53572,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"16621:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":53573,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16626:25:75","memberName":"getCollateralizationRatio","nodeType":"MemberAccess","referencedDeclaration":53513,"src":"16621:30:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_struct$_PriceResponse_$60375_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct IPriceOracle.PriceResponse memory) view external returns (uint256)"}},"id":53575,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16621:45:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":53566,"id":53576,"nodeType":"Return","src":"16614:52:75"}]},"documentation":{"id":53559,"nodeType":"StructuredDocumentation","src":"16092:345:75","text":" @notice Synchronizes the stETH balance and then gets the collateralization ratio.\n @param priceResponse The current valid price response for stETH/USD.\n @return ratio The ratio (scaled by 10000, e.g., 11000 means 110.00%).\n @dev This is a non-view function intended for use in transactions like liquidations."},"functionSelector":"c6d56aa9","implemented":true,"kind":"function","modifiers":[],"name":"syncStEthAndGetCollateralizationRatio","nameLocation":"16451:37:75","parameters":{"id":53563,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53562,"mutability":"mutable","name":"priceResponse","nameLocation":"16523:13:75","nodeType":"VariableDeclaration","scope":53578,"src":"16489:47:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_memory_ptr","typeString":"struct IPriceOracle.PriceResponse"},"typeName":{"id":53561,"nodeType":"UserDefinedTypeName","pathNode":{"id":53560,"name":"IPriceOracle.PriceResponse","nameLocations":["16489:12:75","16502:13:75"],"nodeType":"IdentifierPath","referencedDeclaration":60375,"src":"16489:26:75"},"referencedDeclaration":60375,"src":"16489:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PriceResponse_$60375_storage_ptr","typeString":"struct IPriceOracle.PriceResponse"}},"visibility":"internal"}],"src":"16488:49:75"},"returnParameters":{"id":53566,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53565,"mutability":"mutable","name":"ratio","nameLocation":"16564:5:75","nodeType":"VariableDeclaration","scope":53578,"src":"16556:13:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53564,"name":"uint256","nodeType":"ElementaryTypeName","src":"16556:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"16555:15:75"},"scope":53741,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53596,"nodeType":"FunctionDefinition","src":"16765:145:75","nodes":[],"body":{"id":53595,"nodeType":"Block","src":"16848:62:75","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"id":53591,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"16897:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}],"id":53590,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"16889:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53589,"name":"address","nodeType":"ElementaryTypeName","src":"16889:7:75","typeDescriptions":{}}},"id":53592,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16889:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":53586,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52744,"src":"16872:5:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53585,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"16865:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":53587,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16865:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":53588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16879:9:75","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":43762,"src":"16865:23:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":53593,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16865:38:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":53584,"id":53594,"nodeType":"Return","src":"16858:45:75"}]},"baseFunctions":[60354],"documentation":{"id":53579,"nodeType":"StructuredDocumentation","src":"16679:81:75","text":" @notice Returns the current stETH balance held by this escrow."},"functionSelector":"ee5f4407","implemented":true,"kind":"function","modifiers":[],"name":"getCurrentStEthBalance","nameLocation":"16774:22:75","overrides":{"id":53581,"nodeType":"OverrideSpecifier","overrides":[],"src":"16813:8:75"},"parameters":{"id":53580,"nodeType":"ParameterList","parameters":[],"src":"16796:2:75"},"returnParameters":{"id":53584,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53583,"mutability":"mutable","name":"balance","nameLocation":"16839:7:75","nodeType":"VariableDeclaration","scope":53596,"src":"16831:15:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53582,"name":"uint256","nodeType":"ElementaryTypeName","src":"16831:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"16830:17:75"},"scope":53741,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":53680,"nodeType":"FunctionDefinition","src":"17306:1231:75","nodes":[],"body":{"id":53679,"nodeType":"Block","src":"17343:1194:75","nodes":[],"statements":[{"assignments":[53601],"declarations":[{"constant":false,"id":53601,"mutability":"mutable","name":"physicalBalance","nameLocation":"17361:15:75","nodeType":"VariableDeclaration","scope":53679,"src":"17353:23:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53600,"name":"uint256","nodeType":"ElementaryTypeName","src":"17353:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53611,"initialValue":{"arguments":[{"arguments":[{"id":53608,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"17411:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}],"id":53607,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17403:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53606,"name":"address","nodeType":"ElementaryTypeName","src":"17403:7:75","typeDescriptions":{}}},"id":53609,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17403:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":53603,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52744,"src":"17386:5:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53602,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"17379:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":53604,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17379:13:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":53605,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17393:9:75","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":43762,"src":"17379:23:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":53610,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17379:38:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"17353:64:75"},{"assignments":[53613],"declarations":[{"constant":false,"id":53613,"mutability":"mutable","name":"expectedBalanceWithYield","nameLocation":"17435:24:75","nodeType":"VariableDeclaration","scope":53679,"src":"17427:32:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53612,"name":"uint256","nodeType":"ElementaryTypeName","src":"17427:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53617,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53614,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"17462:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":53615,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17467:24:75","memberName":"getTrackedStEthWithYield","nodeType":"MemberAccess","referencedDeclaration":53558,"src":"17462:29:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53616,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17462:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"17427:66:75"},{"assignments":[53619],"declarations":[{"constant":false,"id":53619,"mutability":"mutable","name":"currentYieldFactor","nameLocation":"17511:18:75","nodeType":"VariableDeclaration","scope":53679,"src":"17503:26:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53618,"name":"uint256","nodeType":"ElementaryTypeName","src":"17503:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53625,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53621,"name":"rateContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52750,"src":"17558:12:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53620,"name":"IPoolSharesConversionRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60225,"src":"17532:25:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPoolSharesConversionRate_$60225_$","typeString":"type(contract IPoolSharesConversionRate)"}},"id":53622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17532:39:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPoolSharesConversionRate_$60225","typeString":"contract IPoolSharesConversionRate"}},"id":53623,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17572:14:75","memberName":"getYieldFactor","nodeType":"MemberAccess","referencedDeclaration":60194,"src":"17532:54:75","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53624,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17532:56:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"17503:85:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53626,"name":"physicalBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53601,"src":"17603:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":53627,"name":"expectedBalanceWithYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53613,"src":"17621:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17603:42:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53645,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53643,"name":"physicalBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53601,"src":"17824:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":53644,"name":"expectedBalanceWithYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53613,"src":"17842:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17824:42:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53660,"nodeType":"IfStatement","src":"17820:213:75","trueBody":{"id":53659,"nodeType":"Block","src":"17868:165:75","statements":[{"assignments":[53647],"declarations":[{"constant":false,"id":53647,"mutability":"mutable","name":"delta","nameLocation":"17890:5:75","nodeType":"VariableDeclaration","scope":53659,"src":"17882:13:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53646,"name":"uint256","nodeType":"ElementaryTypeName","src":"17882:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53651,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53650,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53648,"name":"expectedBalanceWithYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53613,"src":"17898:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53649,"name":"physicalBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53601,"src":"17925:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17898:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"17882:58:75"},{"expression":{"arguments":[{"id":53656,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53647,"src":"18016:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53653,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52741,"src":"17969:21:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53652,"name":"IStabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60522,"src":"17954:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStabilizerNFT_$60522_$","typeString":"type(contract IStabilizerNFT)"}},"id":53654,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17954:37:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStabilizerNFT_$60522","typeString":"contract IStabilizerNFT"}},"id":53655,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17992:23:75","memberName":"reportCollateralRemoval","nodeType":"MemberAccess","referencedDeclaration":60513,"src":"17954:61:75","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256) external"}},"id":53657,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17954:68:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53658,"nodeType":"ExpressionStatement","src":"17954:68:75"}]}},"id":53661,"nodeType":"IfStatement","src":"17599:434:75","trueBody":{"id":53642,"nodeType":"Block","src":"17647:167:75","statements":[{"assignments":[53630],"declarations":[{"constant":false,"id":53630,"mutability":"mutable","name":"delta","nameLocation":"17669:5:75","nodeType":"VariableDeclaration","scope":53642,"src":"17661:13:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53629,"name":"uint256","nodeType":"ElementaryTypeName","src":"17661:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53634,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53633,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53631,"name":"physicalBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53601,"src":"17677:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53632,"name":"expectedBalanceWithYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53613,"src":"17695:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17677:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"17661:58:75"},{"expression":{"arguments":[{"id":53639,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53630,"src":"17796:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53636,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52741,"src":"17748:21:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53635,"name":"IStabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60522,"src":"17733:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStabilizerNFT_$60522_$","typeString":"type(contract IStabilizerNFT)"}},"id":53637,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17733:37:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStabilizerNFT_$60522","typeString":"contract IStabilizerNFT"}},"id":53638,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17771:24:75","memberName":"reportCollateralAddition","nodeType":"MemberAccess","referencedDeclaration":60507,"src":"17733:62:75","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256) external"}},"id":53640,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17733:69:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53641,"nodeType":"ExpressionStatement","src":"17733:69:75"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":53668,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53664,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53662,"name":"lockedStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52761,"src":"18338:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":53663,"name":"physicalBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53601,"src":"18353:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18338:30:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53667,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53665,"name":"yieldFactorAtLastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52763,"src":"18372:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":53666,"name":"currentYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53619,"src":"18399:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18372:45:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"18338:79:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53678,"nodeType":"IfStatement","src":"18334:197:75","trueBody":{"id":53677,"nodeType":"Block","src":"18419:112:75","statements":[{"expression":{"id":53671,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53669,"name":"lockedStEth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52761,"src":"18433:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53670,"name":"physicalBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53601,"src":"18447:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18433:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53672,"nodeType":"ExpressionStatement","src":"18433:29:75"},{"expression":{"id":53675,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53673,"name":"yieldFactorAtLastUpdate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52763,"src":"18476:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53674,"name":"currentYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53619,"src":"18502:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18476:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53676,"nodeType":"ExpressionStatement","src":"18476:44:75"}]}}]},"documentation":{"id":53597,"nodeType":"StructuredDocumentation","src":"16916:385:75","text":" @notice Synchronizes the internal `lockedStEth` balance with the actual stETH balance of the contract.\n @dev This function accounts for stETH yield or direct transfers by updating the internal ledger\n      and reporting the change to the StabilizerNFT contract to keep the system-wide\n      collateral snapshot accurate. It can be called by anyone."},"functionSelector":"fc523471","implemented":true,"kind":"function","modifiers":[],"name":"syncStEthBalance","nameLocation":"17315:16:75","parameters":{"id":53598,"nodeType":"ParameterList","parameters":[],"src":"17331:2:75"},"returnParameters":{"id":53599,"nodeType":"ParameterList","parameters":[],"src":"17343:0:75"},"scope":53741,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53740,"nodeType":"FunctionDefinition","src":"18671:716:75","nodes":[],"body":{"id":53739,"nodeType":"Block","src":"18698:689:75","nodes":[],"statements":[{"assignments":[53685],"declarations":[{"constant":false,"id":53685,"mutability":"mutable","name":"ethAmount","nameLocation":"18716:9:75","nodeType":"VariableDeclaration","scope":53739,"src":"18708:17:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53684,"name":"uint256","nodeType":"ElementaryTypeName","src":"18708:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53688,"initialValue":{"expression":{"id":53686,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"18728:3:75","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53687,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18732:5:75","memberName":"value","nodeType":"MemberAccess","src":"18728:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"18708:29:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53691,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53689,"name":"ethAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53685,"src":"18751:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53690,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"18764:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"18751:14:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53693,"nodeType":"IfStatement","src":"18747:27:75","trueBody":{"functionReturnParameters":53683,"id":53692,"nodeType":"Return","src":"18767:7:75"}},{"assignments":[53695],"declarations":[{"constant":false,"id":53695,"mutability":"mutable","name":"stEthReceived","nameLocation":"18821:13:75","nodeType":"VariableDeclaration","scope":53739,"src":"18813:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53694,"name":"uint256","nodeType":"ElementaryTypeName","src":"18813:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53696,"nodeType":"VariableDeclarationStatement","src":"18813:21:75"},{"clauses":[{"block":{"id":53722,"nodeType":"Block","src":"18939:149:75","statements":[{"expression":{"id":53713,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53711,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53695,"src":"18953:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53712,"name":"received","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53709,"src":"18969:8:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18953:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53714,"nodeType":"ExpressionStatement","src":"18953:24:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53717,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53715,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53695,"src":"18995:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53716,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19012:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"18995:18:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53721,"nodeType":"IfStatement","src":"18991:47:75","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53718,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60243,"src":"19022:14:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53719,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19022:16:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53720,"nodeType":"RevertStatement","src":"19015:23:75"}}]},"errorName":"","id":53723,"nodeType":"TryCatchClause","parameters":{"id":53710,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53709,"mutability":"mutable","name":"received","nameLocation":"18929:8:75","nodeType":"VariableDeclaration","scope":53723,"src":"18921:16:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53708,"name":"uint256","nodeType":"ElementaryTypeName","src":"18921:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"18920:18:75"},"src":"18912:176:75"},{"block":{"id":53727,"nodeType":"Block","src":"19095:70:75","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53724,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60243,"src":"19116:14:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53725,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19116:16:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53726,"nodeType":"RevertStatement","src":"19109:23:75"}]},"errorName":"","id":53728,"nodeType":"TryCatchClause","src":"19089:76:75"}],"externalCall":{"arguments":[{"arguments":[{"hexValue":"30","id":53705,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"18908:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53704,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"18900:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53703,"name":"address","nodeType":"ElementaryTypeName","src":"18900:7:75","typeDescriptions":{}}},"id":53706,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18900:10:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":53698,"name":"lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52747,"src":"18869:4:75","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53697,"name":"ILido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60077,"src":"18863:5:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ILido_$60077_$","typeString":"type(contract ILido)"}},"id":53699,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18863:11:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ILido_$60077","typeString":"contract ILido"}},"id":53700,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18875:6:75","memberName":"submit","nodeType":"MemberAccess","referencedDeclaration":60076,"src":"18863:18:75","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$","typeString":"function (address) payable external returns (uint256)"}},"id":53702,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"id":53701,"name":"ethAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53685,"src":"18889:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"18863:36:75","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$value","typeString":"function (address) payable external returns (uint256)"}},"id":53707,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18863:48:75","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53729,"nodeType":"TryStatement","src":"18859:306:75"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53730,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"19247:4:75","typeDescriptions":{"typeIdentifier":"t_contract$_PositionEscrow_$53741","typeString":"contract PositionEscrow"}},"id":53732,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19252:16:75","memberName":"syncStEthBalance","nodeType":"MemberAccess","referencedDeclaration":53680,"src":"19247:21:75","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$__$returns$__$","typeString":"function () external"}},"id":53733,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19247:23:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53734,"nodeType":"ExpressionStatement","src":"19247:23:75"},{"eventCall":{"arguments":[{"id":53736,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53695,"src":"19366:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53735,"name":"CollateralAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60253,"src":"19350:15:75","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":53737,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19350:30:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53738,"nodeType":"EmitStatement","src":"19345:35:75"}]},"documentation":{"id":53681,"nodeType":"StructuredDocumentation","src":"18567:99:75","text":" @notice Allows receiving direct ETH transfers, which are then staked into stETH."},"implemented":true,"kind":"receive","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":53682,"nodeType":"ParameterList","parameters":[],"src":"18678:2:75"},"returnParameters":{"id":53683,"nodeType":"ParameterList","parameters":[],"src":"18698:0:75"},"scope":53741,"stateMutability":"payable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":52725,"name":"Initializable","nameLocations":["1052:13:75"],"nodeType":"IdentifierPath","referencedDeclaration":39723,"src":"1052:13:75"},"id":52726,"nodeType":"InheritanceSpecifier","src":"1052:13:75"},{"baseName":{"id":52727,"name":"IPositionEscrow","nameLocations":["1067:15:75"],"nodeType":"IdentifierPath","referencedDeclaration":60355,"src":"1067:15:75"},"id":52728,"nodeType":"InheritanceSpecifier","src":"1067:15:75"},{"baseName":{"id":52729,"name":"AccessControlUpgradeable","nameLocations":["1084:24:75"],"nodeType":"IdentifierPath","referencedDeclaration":39455,"src":"1084:24:75"},"id":52730,"nodeType":"InheritanceSpecifier","src":"1084:24:75"}],"canonicalName":"PositionEscrow","contractDependencies":[],"contractKind":"contract","documentation":{"id":52724,"nodeType":"StructuredDocumentation","src":"755:269:75","text":" @title PositionEscrow\n @notice Holds and manages the pooled stETH collateral for a single collateralized position.\n @dev Deployed and controlled by the StabilizerNFT contract. Implements IPositionEscrow and AccessControl. Meant to be deployed as a clone."},"fullyImplemented":true,"linearizedBaseContracts":[53741,39455,41715,47119,60355,42094,41515,39723,42340],"name":"PositionEscrow","nameLocation":"1034:14:75","scope":53742,"usedErrors":[39472,39475,42021,42024,42310,42315,42320,42329,42334,42339,60239,60241,60243,60245,60247,60249],"usedEvents":[39480,42033,42042,42051,60253,60259,60265,60271]}],"license":"MIT"},"id":75}