{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"MINIMUM_ESCROW_AMOUNT","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"approveAllocation","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"positionNFTAddress","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"checkMinimumAndUpdateBalance","inputs":[{"name":"stETHAmount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"deposit","inputs":[],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"initialize","inputs":[{"name":"_stabilizerNFT","type":"address","internalType":"address"},{"name":"_tokenId","type":"uint256","internalType":"uint256"},{"name":"_stETH","type":"address","internalType":"address"},{"name":"_lido","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"lido","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"stETH","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"stabilizerNFTContract","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"stabilizerOwner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"tokenId","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"unallocatedStETH","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"unallocatedStETHBalance","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"updateBalance","inputs":[{"name":"delta","type":"int256","internalType":"int256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"withdrawExcessStEthBalance","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"withdrawForAllocation","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"recipient","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"withdrawUnallocated","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AllocationApproved","inputs":[{"name":"spender","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BalanceUpdated","inputs":[{"name":"delta","type":"int256","indexed":false,"internalType":"int256"},{"name":"newBalance","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"DepositReceived","inputs":[{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ExcessWithdrawn","inputs":[{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Initialized","inputs":[{"name":"version","type":"uint64","indexed":false,"internalType":"uint64"}],"anonymous":false},{"type":"event","name":"WithdrawalCompleted","inputs":[{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"BalanceUpdateFailed","inputs":[]},{"type":"error","name":"DepositFailed","inputs":[]},{"type":"error","name":"ERC20InsufficientAllowance","inputs":[{"name":"spender","type":"address","internalType":"address"},{"name":"allowance","type":"uint256","internalType":"uint256"},{"name":"needed","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ERC20InsufficientBalance","inputs":[{"name":"sender","type":"address","internalType":"address"},{"name":"balance","type":"uint256","internalType":"uint256"},{"name":"needed","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ERC20InvalidApprover","inputs":[{"name":"approver","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidReceiver","inputs":[{"name":"receiver","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidSender","inputs":[{"name":"sender","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidSpender","inputs":[{"name":"spender","type":"address","internalType":"address"}]},{"type":"error","name":"InitialDepositFailed","inputs":[]},{"type":"error","name":"InsufficientEscrowAmount","inputs":[{"name":"currentBalance","type":"uint256","internalType":"uint256"},{"name":"depositAmount","type":"uint256","internalType":"uint256"},{"name":"minimumAmount","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InvalidInitialization","inputs":[]},{"type":"error","name":"NotInitializing","inputs":[]},{"type":"error","name":"NotNFTOwner","inputs":[]},{"type":"error","name":"TransferFailed","inputs":[]},{"type":"error","name":"WithdrawalWouldLeaveDust","inputs":[]},{"type":"error","name":"ZeroAddress","inputs":[]},{"type":"error","name":"ZeroAmount","inputs":[]}],"bytecode":{"object":"0x6080604052348015600e575f5ffd5b5060156019565b60c9565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff161560685760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b039081161460c65780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b611226806100d65f395ff3fe6080604052600436106100ef575f3560e01c8063878a672c11610087578063d0e30db011610057578063d0e30db014610269578063ec60b9ab14610271578063ecb772e014610285578063fbae0ade146102a4575f5ffd5b8063878a672c146101f9578063a90154001461020d578063bec070d61461022c578063c1fe3e481461024a575f5ffd5b8063358394d8116100c2578063358394d8146101885780634f68ae75146101a75780637d0e9bba146101c65780637d810c2a146101da575f5ffd5b806316f637ff146100f3578063171b01881461011b57806317d70f7c1461013c57806323509a2d14610151575b5f5ffd5b3480156100fe575f5ffd5b5061010860045481565b6040519081526020015b60405180910390f35b348015610126575f5ffd5b5061013a610135366004611041565b6102bf565b005b348015610147575f5ffd5b5061010860015481565b34801561015c575f5ffd5b50600354610170906001600160a01b031681565b6040516001600160a01b039091168152602001610112565b348015610193575f5ffd5b5061013a6101a236600461106f565b610379565b3480156101b2575f5ffd5b5061013a6101c13660046110bf565b6104fa565b3480156101d1575f5ffd5b5061017061065b565b3480156101e5575f5ffd5b5061013a6101f43660046110bf565b6106d4565b348015610204575f5ffd5b5061013a61085b565b348015610218575f5ffd5b5061013a610227366004611041565b610a55565b348015610237575f5ffd5b505f54610170906001600160a01b031681565b348015610255575f5ffd5b50600254610170906001600160a01b031681565b61013a610cc0565b34801561027c575f5ffd5b50600454610108565b348015610290575f5ffd5b5061013a61029f366004611041565b610f5c565b3480156102af575f5ffd5b5061010867016345785d8a000081565b5f546001600160a01b031633146102f15760405162461bcd60e51b81526004016102e8906110ed565b60405180910390fd5b6004545f8083131561030e576103078383611138565b9050610349565b5f6103188461114b565b90508281111561033b5760405163619c7f5b60e11b815260040160405180910390fd5b6103458184611165565b9150505b600481905560408051848152602081018390525f5160206111d15f395f51905f52910160405180910390a1505050565b5f610382611017565b805490915060ff600160401b820416159067ffffffffffffffff165f811580156103a95750825b90505f8267ffffffffffffffff1660011480156103c55750303b155b9050811580156103d3575080155b156103f15760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff19166001178555831561041b57845460ff60401b1916600160401b1785555b6001600160a01b038916158061043857506001600160a01b038716155b8061044a57506001600160a01b038616155b156104685760405163d92e233d60e01b815260040160405180910390fd5b5f80546001600160a01b03808c166001600160a01b03199283161790925560018a9055600280548a8416908316179055600380549289169290911691909117905583156104ef57845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050505050565b5f546001600160a01b031633146105235760405162461bcd60e51b81526004016102e8906110ed565b815f0361054357604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b03811661056a5760405163d92e233d60e01b815260040160405180910390fd5b6004548083111561059e5760405163391434e360e21b815230600482015260248101829052604481018490526064016102e8565b60025460405163095ea7b360e01b81526001600160a01b038481166004830152602482018690529091169063095ea7b3906044016020604051808303815f875af11580156105ee573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106129190611178565b50816001600160a01b03167fd4ff9b9c0e7f96a5697a4d12df976cbce4f79f135c350cc8014ce7ecfe4ed25e8460405161064e91815260200190565b60405180910390a2505050565b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e916106909160040190815260200190565b602060405180830381865afa1580156106ab573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106cf919061119e565b905090565b5f546001600160a01b031633146106fd5760405162461bcd60e51b81526004016102e8906110ed565b815f0361071d57604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b0381166107445760405163d92e233d60e01b815260040160405180910390fd5b600454808311156107785760405163391434e360e21b815230600482015260248101829052604481018490526064016102e8565b60025460405163a9059cbb60e01b81526001600160a01b038481166004830152602482018690525f92169063a9059cbb906044016020604051808303815f875af11580156107c8573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107ec9190611178565b90508061080c576040516312171d8360e31b815260040160405180910390fd5b8360045f82825461081d9190611165565b909155505f5160206111d15f395f51905f52905061083a8561114b565b6004546040805192835260208301919091520160405180910390a150505050565b5f546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e9161088f9160040190815260200190565b602060405180830381865afa1580156108aa573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108ce919061119e565b6001600160a01b0316336001600160a01b0316146108ff57604051631022318760e21b815260040160405180910390fd5b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610945573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061096991906111b9565b60045490915080821115610a51575f6109828284611165565b60025460405163a9059cbb60e01b8152336004820152602481018390529192505f916001600160a01b039091169063a9059cbb906044016020604051808303815f875af11580156109d5573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109f99190611178565b905080610a19576040516312171d8360e31b815260040160405180910390fd5b60405182815233907f9bdedcc968f2c0682145c20289dfbb3081a39684571116ab45eabfef512e94739060200160405180910390a250505b5050565b5f546001600160a01b03163314610a7e5760405162461bcd60e51b81526004016102e8906110ed565b805f03610a9e57604051631f2a200560e01b815260040160405180910390fd5b60045480821115610ad25760405163391434e360e21b815230600482015260248101829052604481018390526064016102e8565b5f610add8383611165565b90505f81118015610af5575067016345785d8a000081105b15610b1357604051637614d15160e11b815260040160405180910390fd5b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e91610b489160040190815260200190565b602060405180830381865afa158015610b63573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b87919061119e565b90506001600160a01b038116610bb05760405163d92e233d60e01b815260040160405180910390fd5b60025460405163a9059cbb60e01b81526001600160a01b038381166004830152602482018790525f92169063a9059cbb906044016020604051808303815f875af1158015610c00573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610c249190611178565b905080610c44576040516312171d8360e31b815260040160405180910390fd5b60048390556040518581526001600160a01b038316907f1a39b9c5044b9f0ff56c5951e30c1ebe24911353aafcceb9250e83a24fe158c49060200160405180910390a25f5160206111d15f395f51905f52610c9e8661114b565b6004546040805192835260208301919091520160405180910390a15050505050565b5f546001600160a01b03163314610ce95760405162461bcd60e51b81526004016102e8906110ed565b345f03610d0957604051631f2a200560e01b815260040160405180910390fd5b67016345785d8a000034600454610d209190611138565b1015610d57576004805460405163015643f760e01b81529182015234602482015267016345785d8a000060448201526064016102e8565b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610d9d573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610dc191906111b9565b60035460405163a1903eab60e01b81525f600482018190529293506001600160a01b039091169063a1903eab90349060240160206040518083038185885af193505050508015610e2e575060408051601f3d908101601f19168201909252610e2b918101906111b9565b60015b610e4b576040516379cacff160e01b815260040160405180910390fd5b506002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610e92573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610eb691906111b9565b9050610ec28382611165565b915050805f03610ee5576040516379cacff160e01b815260040160405180910390fd5b8060045f828254610ef69190611138565b90915550506040513481527fa1ab46d0e38f33a7b1f03853088a305927deb55c906370ff5d6d2bc732f150959060200160405180910390a16004546040805183815260208101929092525f5160206111d15f395f51905f52910160405180910390a15050565b5f546001600160a01b03163314610f855760405162461bcd60e51b81526004016102e8906110ed565b67016345785d8a000081600454610f9c9190611138565b1015610fd4576004805460405163015643f760e01b8152918201526024810182905267016345785d8a000060448201526064016102e8565b8060045f828254610fe59190611138565b90915550506004546040805183815260208101929092525f5160206111d15f395f51905f52910160405180910390a150565b5f807ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005b92915050565b5f60208284031215611051575f5ffd5b5035919050565b6001600160a01b038116811461106c575f5ffd5b50565b5f5f5f5f60808587031215611082575f5ffd5b843561108d81611058565b93506020850135925060408501356110a481611058565b915060608501356110b481611058565b939692955090935050565b5f5f604083850312156110d0575f5ffd5b8235915060208301356110e281611058565b809150509250929050565b6020808252601b908201527f43616c6c6572206973206e6f742053746162696c697a65724e46540000000000604082015260600190565b634e487b7160e01b5f52601160045260245ffd5b8082018082111561103b5761103b611124565b5f600160ff1b820161115f5761115f611124565b505f0390565b8181038181111561103b5761103b611124565b5f60208284031215611188575f5ffd5b81518015158114611197575f5ffd5b9392505050565b5f602082840312156111ae575f5ffd5b815161119781611058565b5f602082840312156111c9575f5ffd5b505191905056fe149e2ad4c3719ec0acdfb19acc4b31eaa110fd8e4c4f78512870123d9839fb0da2646970667358221220d40d215b3b59ed415b1e11d05338ddc214268776e63f37ec7c69523318aed23264736f6c634300081d0033","sourceMap":"684:12283:82:-:0;;;2669:97;;;;;;;;;-1:-1:-1;2693:22:82;:20;:22::i;:::-;684:12283;;7711:422:17;3147:66;7900:15;;;;;;;7896:76;;;7938:23;;-1:-1:-1;;;7938:23:17;;;;;;;;;;;7896:76;7985:14;;-1:-1:-1;;;;;7985:14:17;;;:34;7981:146;;8035:33;;-1:-1:-1;;;;;;8035:33:17;-1:-1:-1;;;;;8035:33:17;;;;;8087:29;;158:50:101;;;8087:29:17;;146:2:101;131:18;8087:29:17;;;;;;;7981:146;7760:373;7711:422::o;14:200:101:-;684:12283:82;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x6080604052600436106100ef575f3560e01c8063878a672c11610087578063d0e30db011610057578063d0e30db014610269578063ec60b9ab14610271578063ecb772e014610285578063fbae0ade146102a4575f5ffd5b8063878a672c146101f9578063a90154001461020d578063bec070d61461022c578063c1fe3e481461024a575f5ffd5b8063358394d8116100c2578063358394d8146101885780634f68ae75146101a75780637d0e9bba146101c65780637d810c2a146101da575f5ffd5b806316f637ff146100f3578063171b01881461011b57806317d70f7c1461013c57806323509a2d14610151575b5f5ffd5b3480156100fe575f5ffd5b5061010860045481565b6040519081526020015b60405180910390f35b348015610126575f5ffd5b5061013a610135366004611041565b6102bf565b005b348015610147575f5ffd5b5061010860015481565b34801561015c575f5ffd5b50600354610170906001600160a01b031681565b6040516001600160a01b039091168152602001610112565b348015610193575f5ffd5b5061013a6101a236600461106f565b610379565b3480156101b2575f5ffd5b5061013a6101c13660046110bf565b6104fa565b3480156101d1575f5ffd5b5061017061065b565b3480156101e5575f5ffd5b5061013a6101f43660046110bf565b6106d4565b348015610204575f5ffd5b5061013a61085b565b348015610218575f5ffd5b5061013a610227366004611041565b610a55565b348015610237575f5ffd5b505f54610170906001600160a01b031681565b348015610255575f5ffd5b50600254610170906001600160a01b031681565b61013a610cc0565b34801561027c575f5ffd5b50600454610108565b348015610290575f5ffd5b5061013a61029f366004611041565b610f5c565b3480156102af575f5ffd5b5061010867016345785d8a000081565b5f546001600160a01b031633146102f15760405162461bcd60e51b81526004016102e8906110ed565b60405180910390fd5b6004545f8083131561030e576103078383611138565b9050610349565b5f6103188461114b565b90508281111561033b5760405163619c7f5b60e11b815260040160405180910390fd5b6103458184611165565b9150505b600481905560408051848152602081018390525f5160206111d15f395f51905f52910160405180910390a1505050565b5f610382611017565b805490915060ff600160401b820416159067ffffffffffffffff165f811580156103a95750825b90505f8267ffffffffffffffff1660011480156103c55750303b155b9050811580156103d3575080155b156103f15760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff19166001178555831561041b57845460ff60401b1916600160401b1785555b6001600160a01b038916158061043857506001600160a01b038716155b8061044a57506001600160a01b038616155b156104685760405163d92e233d60e01b815260040160405180910390fd5b5f80546001600160a01b03808c166001600160a01b03199283161790925560018a9055600280548a8416908316179055600380549289169290911691909117905583156104ef57845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050505050565b5f546001600160a01b031633146105235760405162461bcd60e51b81526004016102e8906110ed565b815f0361054357604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b03811661056a5760405163d92e233d60e01b815260040160405180910390fd5b6004548083111561059e5760405163391434e360e21b815230600482015260248101829052604481018490526064016102e8565b60025460405163095ea7b360e01b81526001600160a01b038481166004830152602482018690529091169063095ea7b3906044016020604051808303815f875af11580156105ee573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106129190611178565b50816001600160a01b03167fd4ff9b9c0e7f96a5697a4d12df976cbce4f79f135c350cc8014ce7ecfe4ed25e8460405161064e91815260200190565b60405180910390a2505050565b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e916106909160040190815260200190565b602060405180830381865afa1580156106ab573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106cf919061119e565b905090565b5f546001600160a01b031633146106fd5760405162461bcd60e51b81526004016102e8906110ed565b815f0361071d57604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b0381166107445760405163d92e233d60e01b815260040160405180910390fd5b600454808311156107785760405163391434e360e21b815230600482015260248101829052604481018490526064016102e8565b60025460405163a9059cbb60e01b81526001600160a01b038481166004830152602482018690525f92169063a9059cbb906044016020604051808303815f875af11580156107c8573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107ec9190611178565b90508061080c576040516312171d8360e31b815260040160405180910390fd5b8360045f82825461081d9190611165565b909155505f5160206111d15f395f51905f52905061083a8561114b565b6004546040805192835260208301919091520160405180910390a150505050565b5f546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e9161088f9160040190815260200190565b602060405180830381865afa1580156108aa573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108ce919061119e565b6001600160a01b0316336001600160a01b0316146108ff57604051631022318760e21b815260040160405180910390fd5b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610945573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061096991906111b9565b60045490915080821115610a51575f6109828284611165565b60025460405163a9059cbb60e01b8152336004820152602481018390529192505f916001600160a01b039091169063a9059cbb906044016020604051808303815f875af11580156109d5573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109f99190611178565b905080610a19576040516312171d8360e31b815260040160405180910390fd5b60405182815233907f9bdedcc968f2c0682145c20289dfbb3081a39684571116ab45eabfef512e94739060200160405180910390a250505b5050565b5f546001600160a01b03163314610a7e5760405162461bcd60e51b81526004016102e8906110ed565b805f03610a9e57604051631f2a200560e01b815260040160405180910390fd5b60045480821115610ad25760405163391434e360e21b815230600482015260248101829052604481018390526064016102e8565b5f610add8383611165565b90505f81118015610af5575067016345785d8a000081105b15610b1357604051637614d15160e11b815260040160405180910390fd5b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e91610b489160040190815260200190565b602060405180830381865afa158015610b63573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b87919061119e565b90506001600160a01b038116610bb05760405163d92e233d60e01b815260040160405180910390fd5b60025460405163a9059cbb60e01b81526001600160a01b038381166004830152602482018790525f92169063a9059cbb906044016020604051808303815f875af1158015610c00573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610c249190611178565b905080610c44576040516312171d8360e31b815260040160405180910390fd5b60048390556040518581526001600160a01b038316907f1a39b9c5044b9f0ff56c5951e30c1ebe24911353aafcceb9250e83a24fe158c49060200160405180910390a25f5160206111d15f395f51905f52610c9e8661114b565b6004546040805192835260208301919091520160405180910390a15050505050565b5f546001600160a01b03163314610ce95760405162461bcd60e51b81526004016102e8906110ed565b345f03610d0957604051631f2a200560e01b815260040160405180910390fd5b67016345785d8a000034600454610d209190611138565b1015610d57576004805460405163015643f760e01b81529182015234602482015267016345785d8a000060448201526064016102e8565b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610d9d573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610dc191906111b9565b60035460405163a1903eab60e01b81525f600482018190529293506001600160a01b039091169063a1903eab90349060240160206040518083038185885af193505050508015610e2e575060408051601f3d908101601f19168201909252610e2b918101906111b9565b60015b610e4b576040516379cacff160e01b815260040160405180910390fd5b506002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610e92573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610eb691906111b9565b9050610ec28382611165565b915050805f03610ee5576040516379cacff160e01b815260040160405180910390fd5b8060045f828254610ef69190611138565b90915550506040513481527fa1ab46d0e38f33a7b1f03853088a305927deb55c906370ff5d6d2bc732f150959060200160405180910390a16004546040805183815260208101929092525f5160206111d15f395f51905f52910160405180910390a15050565b5f546001600160a01b03163314610f855760405162461bcd60e51b81526004016102e8906110ed565b67016345785d8a000081600454610f9c9190611138565b1015610fd4576004805460405163015643f760e01b8152918201526024810182905267016345785d8a000060448201526064016102e8565b8060045f828254610fe59190611138565b90915550506004546040805183815260208101929092525f5160206111d15f395f51905f52910160405180910390a150565b5f807ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005b92915050565b5f60208284031215611051575f5ffd5b5035919050565b6001600160a01b038116811461106c575f5ffd5b50565b5f5f5f5f60808587031215611082575f5ffd5b843561108d81611058565b93506020850135925060408501356110a481611058565b915060608501356110b481611058565b939692955090935050565b5f5f604083850312156110d0575f5ffd5b8235915060208301356110e281611058565b809150509250929050565b6020808252601b908201527f43616c6c6572206973206e6f742053746162696c697a65724e46540000000000604082015260600190565b634e487b7160e01b5f52601160045260245ffd5b8082018082111561103b5761103b611124565b5f600160ff1b820161115f5761115f611124565b505f0390565b8181038181111561103b5761103b611124565b5f60208284031215611188575f5ffd5b81518015158114611197575f5ffd5b9392505050565b5f602082840312156111ae575f5ffd5b815161119781611058565b5f602082840312156111c9575f5ffd5b505191905056fe149e2ad4c3719ec0acdfb19acc4b31eaa110fd8e4c4f78512870123d9839fb0da2646970667358221220d40d215b3b59ed415b1e11d05338ddc214268776e63f37ec7c69523318aed23264736f6c634300081d0033","sourceMap":"684:12283:82:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2361:38;;;;;;;;;;;;;;;;;;;160:25:101;;;148:2;133:18;2361:38:82;;;;;;;;9243:536;;;;;;;;;;-1:-1:-1;9243:536:82;;;;;:::i;:::-;;:::i;:::-;;1642:22;;;;;;;;;;;;;;;;1892:19;;;;;;;;;;-1:-1:-1;1892:19:82;;;;-1:-1:-1;;;;;1892:19:82;;;;;;-1:-1:-1;;;;;544:32:101;;;526:51;;514:2;499:18;1892:19:82;380:203:101;3251:1308:82;;;;;;;;;;-1:-1:-1;3251:1308:82;;;;;:::i;:::-;;:::i;6289:571::-;;;;;;;;;;-1:-1:-1;6289:571:82;;;;;:::i;:::-;;:::i;10535:130::-;;;;;;;;;;;;;:::i;11076:603::-;;;;;;;;;;-1:-1:-1;11076:603:82;;;;;:::i;:::-;;:::i;12339:626::-;;;;;;;;;;;;;:::i;7240:1263::-;;;;;;;;;;-1:-1:-1;7240:1263:82;;;;;:::i;:::-;;:::i;1557:36::-;;;;;;;;;;-1:-1:-1;1557:36:82;;;;-1:-1:-1;;;;;1557:36:82;;;1809:20;;;;;;;;;;-1:-1:-1;1809:20:82;;;;-1:-1:-1;;;;;1809:20:82;;;4772:1213;;;:::i;8789:116::-;;;;;;;;;;-1:-1:-1;8875:23:82;;8789:116;;10119:410;;;;;;;;;;-1:-1:-1;10119:410:82;;;;;:::i;:::-;;:::i;1494:57::-;;;;;;;;;;;;1542:9;1494:57;;9243:536;2532:21;;-1:-1:-1;;;;;2532:21:82;2518:10;:35;2514:78;;2555:37;;-1:-1:-1;;;2555:37:82;;;;;;;:::i;:::-;;;;;;;;2514:78;9338:23:::1;::::0;9317:18:::1;9403:9:::0;;::::1;9399:280;;;9441:27;9462:5:::0;9441:10;:27:::1;:::i;:::-;9428:40;;9399:280;;;9499:22;9532:6;9533:5:::0;9532:6:::1;:::i;:::-;9499:40;;9574:10;9557:14;:27;9553:61;;;9593:21;;-1:-1:-1::0;;;9593:21:82::1;;;;;;;;;;;9553:61;9641:27;9654:14:::0;9641:10;:27:::1;:::i;:::-;9628:40;;9485:194;9399:280;9688:23;:36:::0;;;9739:33:::1;::::0;;3046:25:101;;;3102:2;3087:18;;3080:34;;;-1:-1:-1;;;;;;;;;;;9739:33:82;3019:18:101;9739:33:82::1;;;;;;;9307:472;;9243:536:::0;:::o;3251:1308::-;4158:30:17;4191:26;:24;:26::i;:::-;4302:15;;4158:59;;-1:-1:-1;4302:15:17;-1:-1:-1;;;4302:15:17;;;4301:16;;4348:14;;4279:19;4726:16;;:34;;;;;4746:14;4726:34;4706:54;;4770:17;4790:11;:16;;4805:1;4790:16;:50;;;;-1:-1:-1;4818:4:17;4810:25;:30;4790:50;4770:70;;4856:12;4855:13;:30;;;;;4873:12;4872:13;4855:30;4851:91;;;4908:23;;-1:-1:-1;;;4908:23:17;;;;;;;;;;;4851:91;4951:18;;-1:-1:-1;;4951:18:17;4968:1;4951:18;;;4979:67;;;;5013:22;;-1:-1:-1;;;;5013:22:17;-1:-1:-1;;;5013:22:17;;;4979:67;-1:-1:-1;;;;;3599:28:82;::::1;::::0;;:52:::1;;-1:-1:-1::0;;;;;;3631:20:82;::::1;::::0;3599:52:::1;:75;;;-1:-1:-1::0;;;;;;3655:19:82;::::1;::::0;3599:75:::1;3595:126;;;3697:13;;-1:-1:-1::0;;;3697:13:82::1;;;;;;;;;;;3595:126;3900:21;:38:::0;;-1:-1:-1;;;;;3900:38:82;;::::1;-1:-1:-1::0;;;;;;3900:38:82;;::::1;;::::0;;;;3948:18;;;4033:5:::1;:14:::0;;;;::::1;::::0;;::::1;;::::0;;4057:4:::1;:12:::0;;;;::::1;::::0;;;::::1;::::0;;;::::1;::::0;;5066:101:17;;;;5100:23;;-1:-1:-1;;;;5100:23:17;;;5142:14;;-1:-1:-1;3278:50:101;;5142:14:17;;3266:2:101;3251:18;5142:14:17;;;;;;;5066:101;4092:1081;;;;;3251:1308:82;;;;:::o;6289:571::-;2532:21;;-1:-1:-1;;;;;2532:21:82;2518:10;:35;2514:78;;2555:37;;-1:-1:-1;;;2555:37:82;;;;;;;:::i;2514:78::-;6401:6:::1;6411:1;6401:11:::0;6397:36:::1;;6421:12;;-1:-1:-1::0;;;6421:12:82::1;;;;;;;;;;;6397:36;-1:-1:-1::0;;;;;6447:32:82;::::1;6443:58;;6488:13;;-1:-1:-1::0;;;6488:13:82::1;;;;;;;;;;;6443:58;6537:23;::::0;6574;;::::1;6570:99;;;6606:63;::::0;-1:-1:-1;;;6606:63:82;;6639:4:::1;6606:63;::::0;::::1;3541:51:101::0;3608:18;;;3601:34;;;3651:18;;;3644:34;;;3514:18;;6606:63:82::1;3339:345:101::0;6570:99:82::1;6736:5;::::0;6729:49:::1;::::0;-1:-1:-1;;;6729:49:82;;-1:-1:-1;;;;;3881:32:101;;;6729:49:82::1;::::0;::::1;3863:51:101::0;3930:18;;;3923:34;;;6736:5:82;;::::1;::::0;6729:21:::1;::::0;3836:18:101;;6729:49:82::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;6812:18;-1:-1:-1::0;;;;;6793:46:82::1;;6832:6;6793:46;;;;160:25:101::0;;148:2;133:18;;14:177;6793:46:82::1;;;;;;;;6387:473;6289:571:::0;;:::o;10535:130::-;10585:7;10619:21;;;10650:7;10611:47;;-1:-1:-1;;;10611:47:82;;-1:-1:-1;;;;;10619:21:82;;;;10611:38;;:47;;;;160:25:101;;;148:2;133:18;;14:177;10611:47:82;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10604:54;;10535:130;:::o;11076:603::-;2532:21;;-1:-1:-1;;;;;2532:21:82;2518:10;:35;2514:78;;2555:37;;-1:-1:-1;;;2555:37:82;;;;;;;:::i;2514:78::-;11183:6:::1;11193:1;11183:11:::0;11179:36:::1;;11203:12;;-1:-1:-1::0;;;11203:12:82::1;;;;;;;;;;;11179:36;-1:-1:-1::0;;;;;11229:23:82;::::1;11225:49;;11261:13;;-1:-1:-1::0;;;11261:13:82::1;;;;;;;;;;;11225:49;11310:23;::::0;11347;;::::1;11343:99;;;11379:63;::::0;-1:-1:-1;;;11379:63:82;;11412:4:::1;11379:63;::::0;::::1;3541:51:101::0;3608:18;;;3601:34;;;3651:18;;;3644:34;;;3514:18;;11379:63:82::1;3339:345:101::0;11343:99:82::1;11475:5;::::0;11468:41:::1;::::0;-1:-1:-1;;;11468:41:82;;-1:-1:-1;;;;;3881:32:101;;;11468:41:82::1;::::0;::::1;3863:51:101::0;3930:18;;;3923:34;;;11453:12:82::1;::::0;11475:5:::1;::::0;11468:22:::1;::::0;3836:18:101;;11468:41:82::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;11453:56;;11524:7;11519:37;;11540:16;;-1:-1:-1::0;;;11540:16:82::1;;;;;;;;;;;11519:37;11594:6;11567:23;;:33;;;;;;;:::i;:::-;::::0;;;-1:-1:-1;;;;;;;;;;;;11616:56:82;-1:-1:-1;11631:15:82::1;11639:6:::0;11631:15:::1;:::i;:::-;11648:23;::::0;11616:56:::1;::::0;;3046:25:101;;;3102:2;3087:18;;3080:34;;;;3019:18;11616:56:82::1;;;;;;;11169:510;;11076:603:::0;;:::o;12339:626::-;12422:21;;;12453:7;12414:47;;-1:-1:-1;;;12414:47:82;;-1:-1:-1;;;;;12422:21:82;;;;12414:38;;:47;;;;160:25:101;;;148:2;133:18;;14:177;12414:47:82;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;12400:61:82;:10;-1:-1:-1;;;;;12400:61:82;;12396:112;;12484:13;;-1:-1:-1;;;12484:13:82;;;;;;;;;;;12396:112;12551:5;;12544:38;;-1:-1:-1;;;12544:38:82;;12576:4;12544:38;;;526:51:101;12518:23:82;;-1:-1:-1;;;;;12551:5:82;;12544:23;;499:18:101;;12544:38:82;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;12617:23;;12518:64;;-1:-1:-1;12655:32:82;;;12651:308;;;12703:20;12726:32;12744:14;12726:15;:32;:::i;:::-;12795:5;;12788:48;;-1:-1:-1;;;12788:48:82;;12811:10;12788:48;;;3863:51:101;3930:18;;;3923:34;;;12703:55:82;;-1:-1:-1;12773:12:82;;-1:-1:-1;;;;;12795:5:82;;;;12788:22;;3836:18:101;;12788:48:82;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;12773:63;;12855:7;12850:37;;12871:16;;-1:-1:-1;;;12871:16:82;;;;;;;;;;;12850:37;12907:41;;160:25:101;;;12923:10:82;;12907:41;;148:2:101;133:18;12907:41:82;;;;;;;12689:270;;12651:308;12386:579;;12339:626::o;7240:1263::-;2532:21;;-1:-1:-1;;;;;2532:21:82;2518:10;:35;2514:78;;2555:37;;-1:-1:-1;;;2555:37:82;;;;;;;:::i;2514:78::-;7326:6:::1;7336:1;7326:11:::0;7322:36:::1;;7346:12;;-1:-1:-1::0;;;7346:12:82::1;;;;;;;;;;;7322:36;7393:23;::::0;7430;;::::1;7426:99;;;7462:63;::::0;-1:-1:-1;;;7462:63:82;;7495:4:::1;7462:63;::::0;::::1;3541:51:101::0;3608:18;;;3601:34;;;3651:18;;;3644:34;;;3514:18;;7462:63:82::1;3339:345:101::0;7426:99:82::1;7594:24;7621:23;7638:6:::0;7621:14;:23:::1;:::i;:::-;7594:50;;7677:1;7658:16;:20;:64;;;;;1542:9;7682:16;:40;7658:64;7654:128;;;7745:26;;-1:-1:-1::0;;;7745:26:82::1;;;;;;;;;;;7654:128;7884:20;7915:21:::0;;;7946:7;7907:47:::1;::::0;-1:-1:-1;;;7907:47:82;;-1:-1:-1;;;;;7915:21:82;;::::1;::::0;7907:38:::1;::::0;:47:::1;::::0;::::1;;160:25:101::0;;;148:2;133:18;;14:177;7907:47:82::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;7884:70:::0;-1:-1:-1;;;;;;7990:26:82;::::1;7986:52;;8025:13;;-1:-1:-1::0;;;8025:13:82::1;;;;;;;;;;;7986:52;8155:5;::::0;8148:44:::1;::::0;-1:-1:-1;;;8148:44:82;;-1:-1:-1;;;;;3881:32:101;;;8148:44:82::1;::::0;::::1;3863:51:101::0;3930:18;;;3923:34;;;8133:12:82::1;::::0;8155:5:::1;::::0;8148:22:::1;::::0;3836:18:101;;8148:44:82::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;8133:59;;8207:7;8202:37;;8223:16;;-1:-1:-1::0;;;8223:16:82::1;;;;;;;;;;;8202:37;8250:23;:42:::0;;;8384:41:::1;::::0;160:25:101;;;-1:-1:-1;;;;;8384:41:82;::::1;::::0;::::1;::::0;148:2:101;133:18;8384:41:82::1;;;;;;;-1:-1:-1::0;;;;;;;;;;;8455:15:82::1;8463:6:::0;8455:15:::1;:::i;:::-;8472:23;::::0;8440:56:::1;::::0;;3046:25:101;;;3102:2;3087:18;;3080:34;;;;3019:18;8440:56:82::1;;;;;;;7312:1191;;;;7240:1263:::0;:::o;4772:1213::-;2532:21;;-1:-1:-1;;;;;2532:21:82;2518:10;:35;2514:78;;2555:37;;-1:-1:-1;;;2555:37:82;;;;;;;:::i;2514:78::-;4840:9:::1;4853:1;4840:14:::0;4836:39:::1;;4863:12;;-1:-1:-1::0;;;4863:12:82::1;;;;;;;;;;;4836:39;1542:9;5013;4987:23;;:35;;;;:::i;:::-;:59;4983:180;;;5094:23;::::0;;5069:83:::1;::::0;-1:-1:-1;;;5069:83:82;;;;::::1;4897:25:101::0;5119:9:82::1;4938:18:101::0;;;4931:34;1542:9:82::1;4981:18:101::0;;;4974:34;4870:18;;5069:83:82::1;4695:319:101::0;4983:180:82::1;5242:5;::::0;5235:38:::1;::::0;-1:-1:-1;;;5235:38:82;;5267:4:::1;5235:38;::::0;::::1;526:51:101::0;5211:21:82::1;::::0;-1:-1:-1;;;;;5242:5:82::1;::::0;5235:23:::1;::::0;499:18:101;;5235:38:82::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5392:4;::::0;5386:48:::1;::::0;-1:-1:-1;;;5386:48:82;;5351:21:::1;5386:48;::::0;::::1;526:51:101::0;;;5211:62:82;;-1:-1:-1;;;;;;5392:4:82;;::::1;::::0;5386:18:::1;::::0;5412:9:::1;::::0;499:18:101;;5386:48:82::1;;;;;;;;;;;;;;;;;;;;-1:-1:-1::0;5386:48:82::1;::::0;;::::1;;::::0;;::::1;-1:-1:-1::0;;5386:48:82::1;::::0;::::1;::::0;;;::::1;::::0;;::::1;::::0;::::1;:::i;:::-;;;5382:320;;5676:15;;-1:-1:-1::0;;;5676:15:82::1;;;;;;;;;;;5382:320;-1:-1:-1::0;5548:5:82::1;::::0;5541:38:::1;::::0;-1:-1:-1;;;5541:38:82;;5573:4:::1;5541:38;::::0;::::1;526:51:101::0;5518:20:82::1;::::0;-1:-1:-1;;;;;5548:5:82::1;::::0;5541:23:::1;::::0;499:18:101;;5541:38:82::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5518:61:::0;-1:-1:-1;5609:28:82::1;5624:13:::0;5518:61;5609:28:::1;:::i;:::-;5593:44;;5435:213;5715:13;5732:1;5715:18:::0;5711:46:::1;;5742:15;;-1:-1:-1::0;;;5742:15:82::1;;;;;;;;;;;5711:46;5828:13;5801:23;;:40;;;;;;;:::i;:::-;::::0;;;-1:-1:-1;;5857:26:82::1;::::0;5873:9:::1;160:25:101::0;;5857:26:82::1;::::0;148:2:101;133:18;5857:26:82::1;;;;;;;5954:23;::::0;5916:62:::1;::::0;;3046:25:101;;;3102:2;3087:18;;3080:34;;;;-1:-1:-1;;;;;;;;;;;5916:62:82;3019:18:101;5916:62:82::1;;;;;;;4826:1159;;4772:1213::o:0;10119:410::-;2532:21;;-1:-1:-1;;;;;2532:21:82;2518:10;:35;2514:78;;2555:37;;-1:-1:-1;;;2555:37:82;;;;;;;:::i;2514:78::-;1542:9:::1;10245:11;10219:23;;:37;;;;:::i;:::-;:61;10215:184;;;10328:23;::::0;;10303:85:::1;::::0;-1:-1:-1;;;10303:85:82;;;;::::1;4897:25:101::0;4938:18;;;4931:34;;;1542:9:82::1;4981:18:101::0;;;4974:34;4870:18;;10303:85:82::1;4695:319:101::0;10215:184:82::1;10436:11;10409:23;;:38;;;;;;;:::i;:::-;::::0;;;-1:-1:-1;;10498:23:82::1;::::0;10462:60:::1;::::0;;3046:25:101;;;3102:2;3087:18;;3080:34;;;;-1:-1:-1;;;;;;;;;;;10462:60:82;3019:18:101;10462:60:82::1;;;;;;;10119:410:::0;:::o;9073:205:17:-;9131:30;;3147:66;9188:27;9173:42;9073:205;-1:-1:-1;;9073:205:17:o;196:179:101:-;254:6;307:2;295:9;286:7;282:23;278:32;275:52;;;323:1;320;313:12;275:52;-1:-1:-1;346:23:101;;196:179;-1:-1:-1;196:179:101:o;588:131::-;-1:-1:-1;;;;;663:31:101;;653:42;;643:70;;709:1;706;699:12;643:70;588:131;:::o;724:650::-;810:6;818;826;834;887:3;875:9;866:7;862:23;858:33;855:53;;;904:1;901;894:12;855:53;943:9;930:23;962:31;987:5;962:31;:::i;:::-;1012:5;-1:-1:-1;1090:2:101;1075:18;;1062:32;;-1:-1:-1;1172:2:101;1157:18;;1144:32;1185:33;1144:32;1185:33;:::i;:::-;1237:7;-1:-1:-1;1296:2:101;1281:18;;1268:32;1309:33;1268:32;1309:33;:::i;:::-;724:650;;;;-1:-1:-1;724:650:101;;-1:-1:-1;;724:650:101:o;1379:367::-;1447:6;1455;1508:2;1496:9;1487:7;1483:23;1479:32;1476:52;;;1524:1;1521;1514:12;1476:52;1569:23;;;-1:-1:-1;1668:2:101;1653:18;;1640:32;1681:33;1640:32;1681:33;:::i;:::-;1733:7;1723:17;;;1379:367;;;;;:::o;1982:351::-;2184:2;2166:21;;;2223:2;2203:18;;;2196:30;2262:29;2257:2;2242:18;;2235:57;2324:2;2309:18;;1982:351::o;2338:127::-;2399:10;2394:3;2390:20;2387:1;2380:31;2430:4;2427:1;2420:15;2454:4;2451:1;2444:15;2470:125;2535:9;;;2556:10;;;2553:36;;;2569:18;;:::i;2600:136::-;2635:3;-1:-1:-1;;;2656:22:101;;2653:48;;2681:18;;:::i;:::-;-1:-1:-1;2721:1:101;2717:13;;2600:136::o;2741:128::-;2808:9;;;2829:11;;;2826:37;;;2843:18;;:::i;3968:277::-;4035:6;4088:2;4076:9;4067:7;4063:23;4059:32;4056:52;;;4104:1;4101;4094:12;4056:52;4136:9;4130:16;4189:5;4182:13;4175:21;4168:5;4165:32;4155:60;;4211:1;4208;4201:12;4155:60;4234:5;3968:277;-1:-1:-1;;;3968:277:101:o;4250:251::-;4320:6;4373:2;4361:9;4352:7;4348:23;4344:32;4341:52;;;4389:1;4386;4379:12;4341:52;4421:9;4415:16;4440:31;4465:5;4440:31;:::i;4506:184::-;4576:6;4629:2;4617:9;4608:7;4604:23;4600:32;4597:52;;;4645:1;4642;4635:12;4597:52;-1:-1:-1;4668:16:101;;4506:184;-1:-1:-1;4506:184:101:o","linkReferences":{}},"methodIdentifiers":{"MINIMUM_ESCROW_AMOUNT()":"fbae0ade","approveAllocation(uint256,address)":"4f68ae75","checkMinimumAndUpdateBalance(uint256)":"ecb772e0","deposit()":"d0e30db0","initialize(address,uint256,address,address)":"358394d8","lido()":"23509a2d","stETH()":"c1fe3e48","stabilizerNFTContract()":"bec070d6","stabilizerOwner()":"7d0e9bba","tokenId()":"17d70f7c","unallocatedStETH()":"ec60b9ab","unallocatedStETHBalance()":"16f637ff","updateBalance(int256)":"171b0188","withdrawExcessStEthBalance()":"878a672c","withdrawForAllocation(uint256,address)":"7d810c2a","withdrawUnallocated(uint256)":"a9015400"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.29+commit.ab55807c\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"BalanceUpdateFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"DepositFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"allowance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"needed\",\"type\":\"uint256\"}],\"name\":\"ERC20InsufficientAllowance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"needed\",\"type\":\"uint256\"}],\"name\":\"ERC20InsufficientBalance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"approver\",\"type\":\"address\"}],\"name\":\"ERC20InvalidApprover\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"ERC20InvalidReceiver\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"ERC20InvalidSender\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"ERC20InvalidSpender\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InitialDepositFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"currentBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minimumAmount\",\"type\":\"uint256\"}],\"name\":\"InsufficientEscrowAmount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidInitialization\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotInitializing\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotNFTOwner\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TransferFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"WithdrawalWouldLeaveDust\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAmount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"AllocationApproved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"delta\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newBalance\",\"type\":\"uint256\"}],\"name\":\"BalanceUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"DepositReceived\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"ExcessWithdrawn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"version\",\"type\":\"uint64\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"WithdrawalCompleted\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"MINIMUM_ESCROW_AMOUNT\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"positionNFTAddress\",\"type\":\"address\"}],\"name\":\"approveAllocation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"stETHAmount\",\"type\":\"uint256\"}],\"name\":\"checkMinimumAndUpdateBalance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_stabilizerNFT\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stETH\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_lido\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lido\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stETH\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stabilizerNFTContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stabilizerOwner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"tokenId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unallocatedStETH\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unallocatedStETHBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"delta\",\"type\":\"int256\"}],\"name\":\"updateBalance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdrawExcessStEthBalance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"withdrawForAllocation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdrawUnallocated\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Deployed and controlled by the StabilizerNFT contract. Implements IStabilizerEscrow. Meant to be deployed as a clone.\",\"errors\":{\"ERC20InsufficientAllowance(address,uint256,uint256)\":[{\"details\":\"Indicates a failure with the `spender`\\u2019s `allowance`. Used in transfers.\",\"params\":{\"allowance\":\"Amount of tokens a `spender` is allowed to operate with.\",\"needed\":\"Minimum amount required to perform a transfer.\",\"spender\":\"Address that may be allowed to operate on tokens without being their owner.\"}}],\"ERC20InsufficientBalance(address,uint256,uint256)\":[{\"details\":\"Indicates an error related to the current `balance` of a `sender`. Used in transfers.\",\"params\":{\"balance\":\"Current balance for the interacting account.\",\"needed\":\"Minimum amount required to perform a transfer.\",\"sender\":\"Address whose tokens are being transferred.\"}}],\"ERC20InvalidApprover(address)\":[{\"details\":\"Indicates a failure with the `approver` of a token to be approved. Used in approvals.\",\"params\":{\"approver\":\"Address initiating an approval operation.\"}}],\"ERC20InvalidReceiver(address)\":[{\"details\":\"Indicates a failure with the token `receiver`. Used in transfers.\",\"params\":{\"receiver\":\"Address to which tokens are being transferred.\"}}],\"ERC20InvalidSender(address)\":[{\"details\":\"Indicates a failure with the token `sender`. Used in transfers.\",\"params\":{\"sender\":\"Address whose tokens are being transferred.\"}}],\"ERC20InvalidSpender(address)\":[{\"details\":\"Indicates a failure with the `spender` to be approved. Used in approvals.\",\"params\":{\"spender\":\"Address that may be allowed to operate on tokens without being their owner.\"}}],\"InvalidInitialization()\":[{\"details\":\"The contract is already initialized.\"}],\"NotInitializing()\":[{\"details\":\"The contract is not initializing.\"}]},\"events\":{\"Initialized(uint64)\":{\"details\":\"Triggered when the contract has been initialized or reinitialized.\"}},\"kind\":\"dev\",\"methods\":{\"approveAllocation(uint256,address)\":{\"details\":\"Callable only by StabilizerNFT. Checks for sufficient balance.\",\"params\":{\"amount\":\"The amount of stETH to approve.\",\"positionNFTAddress\":\"The address of the PositionNFT contract.\"}},\"checkMinimumAndUpdateBalance(uint256)\":{\"details\":\"Callable only by StabilizerNFT for direct stETH deposits. Reverts if the resulting      balance would be below the minimum threshold.\",\"params\":{\"stETHAmount\":\"The amount of stETH being deposited.\"}},\"constructor\":{\"custom:oz-upgrades-unsafe-allow\":\"constructor\"},\"deposit()\":{\"details\":\"Stakes the received ETH into stETH. Callable only by StabilizerNFT.\"},\"initialize(address,uint256,address,address)\":{\"details\":\"Sets immutable addresses and the token ID. Meant to be called once after clone deployment.\",\"params\":{\"_lido\":\"The address of the Lido staking pool.\",\"_stETH\":\"The address of the stETH token.\",\"_stabilizerNFT\":\"The address of the controlling StabilizerNFT contract.\",\"_tokenId\":\"The ID of the Stabilizer NFT this escrow is associated with.\"}},\"unallocatedStETH()\":{\"details\":\"Renamed from the previous logic which subtracted allocated amount. Now just returns total balance.\",\"returns\":{\"_0\":\"The amount of stETH held by the escrow.\"}},\"updateBalance(int256)\":{\"details\":\"Callable only by StabilizerNFT to report balance changes from stETH transfers      that happen outside this contract's direct control (e.g., direct deposit, allocation).\",\"params\":{\"delta\":\"The change in balance (can be positive or negative).\"}},\"withdrawExcessStEthBalance()\":{\"details\":\"This function is the designated mechanism to handle discrepancies between the physical      stETH balance of this contract and the tracked `unallocatedStETHBalance`. Such a      discrepancy primarily arises from stETH rebasing (yield), which is not tracked in the      internal ledger for simplicity. This function allows the NFT owner to claim this yield      or recover any other funds sent directly to the escrow.\"},\"withdrawForAllocation(uint256,address)\":{\"details\":\"Callable only by StabilizerNFT. This is a single-call alternative to approve/transferFrom      to reduce bytecode size in the calling StabilizerNFT contract.\",\"params\":{\"amount\":\"The amount of stETH to withdraw.\",\"recipient\":\"The address to send the stETH to.\"}},\"withdrawUnallocated(uint256)\":{\"details\":\"Callable only by StabilizerNFT. Uses stored `tokenId` to fetch current owner. Checks against total balance.\",\"params\":{\"amount\":\"The amount of stETH to withdraw.\"}}},\"stateVariables\":{\"unallocatedStETHBalance\":{\"details\":\"This balance tracks the principal amount of unallocated stETH. It intentionally does not      account for stETH rebasing (yield) to keep the logic simple, as this escrow's balance      is not used for critical system-wide ratio calculations. The accrued yield can be      claimed by the NFT owner via `withdrawExcessStEthBalance`.\"}},\"title\":\"StabilizerEscrow\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"approveAllocation(uint256,address)\":{\"notice\":\"Approves the PositionNFT contract to spend stETH for allocation.\"},\"checkMinimumAndUpdateBalance(uint256)\":{\"notice\":\"Checks if a new deposit meets the minimum balance requirement and updates the balance.\"},\"deposit()\":{\"notice\":\"Receives additional ETH deposits forwarded by StabilizerNFT.\"},\"initialize(address,uint256,address,address)\":{\"notice\":\"Initializes the escrow contract state.\"},\"unallocatedStETH()\":{\"notice\":\"Returns the current stETH balance of this contract.\"},\"updateBalance(int256)\":{\"notice\":\"Updates the internal balance tracking.\"},\"withdrawExcessStEthBalance()\":{\"notice\":\"Allows the owner of the associated Stabilizer NFT to withdraw any stETH balance         that is in excess of the internally tracked `unallocatedStETHBalance`.\"},\"withdrawForAllocation(uint256,address)\":{\"notice\":\"Withdraws stETH from this escrow and sends it to a recipient (e.g., PositionEscrow).\"},\"withdrawUnallocated(uint256)\":{\"notice\":\"Withdraws unallocated stETH to the current owner of the associated Stabilizer NFT.\"}},\"notice\":\"A dedicated vault for a single Stabilizer NFT, holding and managing stETH collateral.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/StabilizerEscrow.sol\":\"StabilizerEscrow\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":chainlink/=lib/chainlink/\",\":createx/=lib/createx/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/\",\":solady/=lib/createx/lib/solady/src/\",\":uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/\",\":uniswap-v3-core/=lib/uniswap-v3-core/\"]},\"sources\":{\"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol\":{\"keccak256\":\"0xe62b887bd4460c77222e1c806362b72462ddb13e224ba3a759ad1a23fe6ea22a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b34213dbcea29166c5b77c8aa48908db812bf55ff501f89bc0e8e6e4dd7c8e2b\",\"dweb:/ipfs/QmZ7HaZLMseqKhUL5cUM2dfWp6Xy8HGME6kA3iDM4E5QV3\"]},\"lib/openzeppelin-contracts/contracts/interfaces/draft-IERC6093.sol\":{\"keccak256\":\"0x880da465c203cec76b10d72dbd87c80f387df4102274f23eea1f9c9b0918792b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://399594cd8bb0143bc9e55e0f1d071d0d8c850a394fb7a319d50edd55d9ed822b\",\"dweb:/ipfs/QmbPZzgtT6LEm9CMqWfagQFwETbV1ztpECBB1DtQHrKiRz\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6b7f97c5960a50fd1822cb298551ffc908e37b7893a68d6d08bce18a11cb0f11\",\"dweb:/ipfs/QmQQvxBytoY1eBt3pRQDmvH2hZ2yjhs12YqVfzGm7KSURq\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"src/StabilizerEscrow.sol\":{\"keccak256\":\"0xcbe4bef5e01d0155091daacc3b198d4698450b9df495111cb1e30952ce9817e1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8f9418547a65119a20c8181132db9483a690eab93a5d47b4f9648528de39a9c6\",\"dweb:/ipfs/QmNfy3j9hLVo67E4Mi65er78QUujcSZARjqRoggkqb53Dw\"]},\"src/interfaces/ILido.sol\":{\"keccak256\":\"0xf33bd94f14a562f32ceaf9211a3b7084e4e225cc548b91db3e611637dec29a8d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e71f220455796f3f19855e3d89ae8a0674894bf19bc49adc430f7afaec36a22a\",\"dweb:/ipfs/QmcQ56JKRECKQcPyXXQwUxrAyrHnA88swjyPaK7AULHW9v\"]},\"src/interfaces/IStabilizerEscrow.sol\":{\"keccak256\":\"0xffb0a293f4742b4bec8328faaa26d2df94c91652e690886b387499a0bdc1667c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fd1c4182a8dda7622ae9600e58e2299ac3dfebbf072b4c951334af79e3526190\",\"dweb:/ipfs/QmYEaRmfTwLgH6h4TMX6oFxqrtniJUUxo577NG36yxoNEs\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.29+commit.ab55807c"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"BalanceUpdateFailed"},{"inputs":[],"type":"error","name":"DepositFailed"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"type":"error","name":"ERC20InsufficientAllowance"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"type":"error","name":"ERC20InsufficientBalance"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"type":"error","name":"ERC20InvalidApprover"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"type":"error","name":"ERC20InvalidReceiver"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"type":"error","name":"ERC20InvalidSender"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"type":"error","name":"ERC20InvalidSpender"},{"inputs":[],"type":"error","name":"InitialDepositFailed"},{"inputs":[{"internalType":"uint256","name":"currentBalance","type":"uint256"},{"internalType":"uint256","name":"depositAmount","type":"uint256"},{"internalType":"uint256","name":"minimumAmount","type":"uint256"}],"type":"error","name":"InsufficientEscrowAmount"},{"inputs":[],"type":"error","name":"InvalidInitialization"},{"inputs":[],"type":"error","name":"NotInitializing"},{"inputs":[],"type":"error","name":"NotNFTOwner"},{"inputs":[],"type":"error","name":"TransferFailed"},{"inputs":[],"type":"error","name":"WithdrawalWouldLeaveDust"},{"inputs":[],"type":"error","name":"ZeroAddress"},{"inputs":[],"type":"error","name":"ZeroAmount"},{"inputs":[{"internalType":"address","name":"spender","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"AllocationApproved","anonymous":false},{"inputs":[{"internalType":"int256","name":"delta","type":"int256","indexed":false},{"internalType":"uint256","name":"newBalance","type":"uint256","indexed":false}],"type":"event","name":"BalanceUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"DepositReceived","anonymous":false},{"inputs":[{"internalType":"address","name":"recipient","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"ExcessWithdrawn","anonymous":false},{"inputs":[{"internalType":"uint64","name":"version","type":"uint64","indexed":false}],"type":"event","name":"Initialized","anonymous":false},{"inputs":[{"internalType":"address","name":"recipient","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"WithdrawalCompleted","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"MINIMUM_ESCROW_AMOUNT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"positionNFTAddress","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"approveAllocation"},{"inputs":[{"internalType":"uint256","name":"stETHAmount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"checkMinimumAndUpdateBalance"},{"inputs":[],"stateMutability":"payable","type":"function","name":"deposit"},{"inputs":[{"internalType":"address","name":"_stabilizerNFT","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"address","name":"_stETH","type":"address"},{"internalType":"address","name":"_lido","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[],"stateMutability":"view","type":"function","name":"lido","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"stETH","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"stabilizerNFTContract","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"stabilizerOwner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"tokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"unallocatedStETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"unallocatedStETHBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"int256","name":"delta","type":"int256"}],"stateMutability":"nonpayable","type":"function","name":"updateBalance"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"withdrawExcessStEthBalance"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"withdrawForAllocation"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"withdrawUnallocated"}],"devdoc":{"kind":"dev","methods":{"approveAllocation(uint256,address)":{"details":"Callable only by StabilizerNFT. Checks for sufficient balance.","params":{"amount":"The amount of stETH to approve.","positionNFTAddress":"The address of the PositionNFT contract."}},"checkMinimumAndUpdateBalance(uint256)":{"details":"Callable only by StabilizerNFT for direct stETH deposits. Reverts if the resulting      balance would be below the minimum threshold.","params":{"stETHAmount":"The amount of stETH being deposited."}},"constructor":{"custom:oz-upgrades-unsafe-allow":"constructor"},"deposit()":{"details":"Stakes the received ETH into stETH. Callable only by StabilizerNFT."},"initialize(address,uint256,address,address)":{"details":"Sets immutable addresses and the token ID. Meant to be called once after clone deployment.","params":{"_lido":"The address of the Lido staking pool.","_stETH":"The address of the stETH token.","_stabilizerNFT":"The address of the controlling StabilizerNFT contract.","_tokenId":"The ID of the Stabilizer NFT this escrow is associated with."}},"unallocatedStETH()":{"details":"Renamed from the previous logic which subtracted allocated amount. Now just returns total balance.","returns":{"_0":"The amount of stETH held by the escrow."}},"updateBalance(int256)":{"details":"Callable only by StabilizerNFT to report balance changes from stETH transfers      that happen outside this contract's direct control (e.g., direct deposit, allocation).","params":{"delta":"The change in balance (can be positive or negative)."}},"withdrawExcessStEthBalance()":{"details":"This function is the designated mechanism to handle discrepancies between the physical      stETH balance of this contract and the tracked `unallocatedStETHBalance`. Such a      discrepancy primarily arises from stETH rebasing (yield), which is not tracked in the      internal ledger for simplicity. This function allows the NFT owner to claim this yield      or recover any other funds sent directly to the escrow."},"withdrawForAllocation(uint256,address)":{"details":"Callable only by StabilizerNFT. This is a single-call alternative to approve/transferFrom      to reduce bytecode size in the calling StabilizerNFT contract.","params":{"amount":"The amount of stETH to withdraw.","recipient":"The address to send the stETH to."}},"withdrawUnallocated(uint256)":{"details":"Callable only by StabilizerNFT. Uses stored `tokenId` to fetch current owner. Checks against total balance.","params":{"amount":"The amount of stETH to withdraw."}}},"version":1},"userdoc":{"kind":"user","methods":{"approveAllocation(uint256,address)":{"notice":"Approves the PositionNFT contract to spend stETH for allocation."},"checkMinimumAndUpdateBalance(uint256)":{"notice":"Checks if a new deposit meets the minimum balance requirement and updates the balance."},"deposit()":{"notice":"Receives additional ETH deposits forwarded by StabilizerNFT."},"initialize(address,uint256,address,address)":{"notice":"Initializes the escrow contract state."},"unallocatedStETH()":{"notice":"Returns the current stETH balance of this contract."},"updateBalance(int256)":{"notice":"Updates the internal balance tracking."},"withdrawExcessStEthBalance()":{"notice":"Allows the owner of the associated Stabilizer NFT to withdraw any stETH balance         that is in excess of the internally tracked `unallocatedStETHBalance`."},"withdrawForAllocation(uint256,address)":{"notice":"Withdraws stETH from this escrow and sends it to a recipient (e.g., PositionEscrow)."},"withdrawUnallocated(uint256)":{"notice":"Withdraws unallocated stETH to the current owner of the associated Stabilizer NFT."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","chainlink/=lib/chainlink/","createx/=lib/createx/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/","solady/=lib/createx/lib/solady/src/","uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/","uniswap-v3-core/=lib/uniswap-v3-core/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/StabilizerEscrow.sol":"StabilizerEscrow"},"evmVersion":"prague","libraries":{}},"sources":{"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol":{"keccak256":"0xe62b887bd4460c77222e1c806362b72462ddb13e224ba3a759ad1a23fe6ea22a","urls":["bzz-raw://b34213dbcea29166c5b77c8aa48908db812bf55ff501f89bc0e8e6e4dd7c8e2b","dweb:/ipfs/QmZ7HaZLMseqKhUL5cUM2dfWp6Xy8HGME6kA3iDM4E5QV3"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/draft-IERC6093.sol":{"keccak256":"0x880da465c203cec76b10d72dbd87c80f387df4102274f23eea1f9c9b0918792b","urls":["bzz-raw://399594cd8bb0143bc9e55e0f1d071d0d8c850a394fb7a319d50edd55d9ed822b","dweb:/ipfs/QmbPZzgtT6LEm9CMqWfagQFwETbV1ztpECBB1DtQHrKiRz"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261","urls":["bzz-raw://6b7f97c5960a50fd1822cb298551ffc908e37b7893a68d6d08bce18a11cb0f11","dweb:/ipfs/QmQQvxBytoY1eBt3pRQDmvH2hZ2yjhs12YqVfzGm7KSURq"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"src/StabilizerEscrow.sol":{"keccak256":"0xcbe4bef5e01d0155091daacc3b198d4698450b9df495111cb1e30952ce9817e1","urls":["bzz-raw://8f9418547a65119a20c8181132db9483a690eab93a5d47b4f9648528de39a9c6","dweb:/ipfs/QmNfy3j9hLVo67E4Mi65er78QUujcSZARjqRoggkqb53Dw"],"license":"MIT"},"src/interfaces/ILido.sol":{"keccak256":"0xf33bd94f14a562f32ceaf9211a3b7084e4e225cc548b91db3e611637dec29a8d","urls":["bzz-raw://e71f220455796f3f19855e3d89ae8a0674894bf19bc49adc430f7afaec36a22a","dweb:/ipfs/QmcQ56JKRECKQcPyXXQwUxrAyrHnA88swjyPaK7AULHW9v"],"license":"MIT"},"src/interfaces/IStabilizerEscrow.sol":{"keccak256":"0xffb0a293f4742b4bec8328faaa26d2df94c91652e690886b387499a0bdc1667c","urls":["bzz-raw://fd1c4182a8dda7622ae9600e58e2299ac3dfebbf072b4c951334af79e3526190","dweb:/ipfs/QmYEaRmfTwLgH6h4TMX6oFxqrtniJUUxo577NG36yxoNEs"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[{"astId":53181,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"stabilizerNFTContract","offset":0,"slot":"0","type":"t_address"},{"astId":53183,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"tokenId","offset":0,"slot":"1","type":"t_uint256"},{"astId":53185,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"stETH","offset":0,"slot":"2","type":"t_address"},{"astId":53187,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"lido","offset":0,"slot":"3","type":"t_address"},{"astId":53190,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"unallocatedStETHBalance","offset":0,"slot":"4","type":"t_uint256"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"ast":{"absolutePath":"src/StabilizerEscrow.sol","id":53799,"exportedSymbols":{"IERC165":[43780],"IERC20":[40358],"IERC20Errors":[38709],"IERC721":[40691],"ILido":[58340],"IStabilizerEscrow":[58731],"Initializable":[36092],"StabilizerEscrow":[53798]},"nodeType":"SourceUnit","src":"32:12936:82","nodes":[{"id":53129,"nodeType":"PragmaDirective","src":"32:23:82","nodes":[],"literals":["solidity","0.8",".29"]},{"id":53130,"nodeType":"ImportDirective","src":"57:72:82","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":53799,"sourceUnit":40359,"symbolAliases":[],"unitAlias":""},{"id":53131,"nodeType":"ImportDirective","src":"130:74:82","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","nameLocation":"-1:-1:-1","scope":53799,"sourceUnit":40692,"symbolAliases":[],"unitAlias":""},{"id":53133,"nodeType":"ImportDirective","src":"205:112:82","nodes":[],"absolutePath":"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol","file":"../lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol","nameLocation":"-1:-1:-1","scope":53799,"sourceUnit":36093,"symbolAliases":[{"foreign":{"id":53132,"name":"Initializable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36092,"src":"213:13:82","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":53134,"nodeType":"ImportDirective","src":"346:32:82","nodes":[],"absolutePath":"src/interfaces/ILido.sol","file":"./interfaces/ILido.sol","nameLocation":"-1:-1:-1","scope":53799,"sourceUnit":58341,"symbolAliases":[],"unitAlias":""},{"id":53135,"nodeType":"ImportDirective","src":"379:44:82","nodes":[],"absolutePath":"src/interfaces/IStabilizerEscrow.sol","file":"./interfaces/IStabilizerEscrow.sol","nameLocation":"-1:-1:-1","scope":53799,"sourceUnit":58732,"symbolAliases":[],"unitAlias":""},{"id":53798,"nodeType":"ContractDefinition","src":"684:12283:82","nodes":[{"id":53142,"nodeType":"ErrorDefinition","src":"803:20:82","nodes":[],"errorSelector":"d92e233d","name":"ZeroAddress","nameLocation":"809:11:82","parameters":{"id":53141,"nodeType":"ParameterList","parameters":[],"src":"820:2:82"}},{"id":53144,"nodeType":"ErrorDefinition","src":"828:19:82","nodes":[],"errorSelector":"1f2a2005","name":"ZeroAmount","nameLocation":"834:10:82","parameters":{"id":53143,"nodeType":"ParameterList","parameters":[],"src":"844:2:82"}},{"id":53152,"nodeType":"ErrorDefinition","src":"852:101:82","nodes":[],"errorSelector":"015643f7","name":"InsufficientEscrowAmount","nameLocation":"858:24:82","parameters":{"id":53151,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53146,"mutability":"mutable","name":"currentBalance","nameLocation":"891:14:82","nodeType":"VariableDeclaration","scope":53152,"src":"883:22:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53145,"name":"uint256","nodeType":"ElementaryTypeName","src":"883:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":53148,"mutability":"mutable","name":"depositAmount","nameLocation":"915:13:82","nodeType":"VariableDeclaration","scope":53152,"src":"907:21:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53147,"name":"uint256","nodeType":"ElementaryTypeName","src":"907:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":53150,"mutability":"mutable","name":"minimumAmount","nameLocation":"938:13:82","nodeType":"VariableDeclaration","scope":53152,"src":"930:21:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53149,"name":"uint256","nodeType":"ElementaryTypeName","src":"930:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"882:70:82"}},{"id":53154,"nodeType":"ErrorDefinition","src":"958:33:82","nodes":[],"errorSelector":"ec29a2a2","name":"WithdrawalWouldLeaveDust","nameLocation":"964:24:82","parameters":{"id":53153,"nodeType":"ParameterList","parameters":[],"src":"988:2:82"}},{"id":53156,"nodeType":"ErrorDefinition","src":"996:28:82","nodes":[],"errorSelector":"c338feb6","name":"BalanceUpdateFailed","nameLocation":"1002:19:82","parameters":{"id":53155,"nodeType":"ParameterList","parameters":[],"src":"1021:2:82"}},{"id":53158,"nodeType":"ErrorDefinition","src":"1029:20:82","nodes":[],"errorSelector":"4088c61c","name":"NotNFTOwner","nameLocation":"1035:11:82","parameters":{"id":53157,"nodeType":"ParameterList","parameters":[],"src":"1046:2:82"}},{"id":53160,"nodeType":"ErrorDefinition","src":"1140:29:82","nodes":[],"errorSelector":"4a76da80","name":"InitialDepositFailed","nameLocation":"1146:20:82","parameters":{"id":53159,"nodeType":"ParameterList","parameters":[],"src":"1166:2:82"}},{"id":53162,"nodeType":"ErrorDefinition","src":"1254:22:82","nodes":[],"errorSelector":"79cacff1","name":"DepositFailed","nameLocation":"1260:13:82","parameters":{"id":53161,"nodeType":"ParameterList","parameters":[],"src":"1273:2:82"}},{"id":53164,"nodeType":"ErrorDefinition","src":"1281:23:82","nodes":[],"errorSelector":"90b8ec18","name":"TransferFailed","nameLocation":"1287:14:82","parameters":{"id":53163,"nodeType":"ParameterList","parameters":[],"src":"1301:2:82"}},{"id":53170,"nodeType":"EventDefinition","src":"1332:55:82","nodes":[],"anonymous":false,"eventSelector":"149e2ad4c3719ec0acdfb19acc4b31eaa110fd8e4c4f78512870123d9839fb0d","name":"BalanceUpdated","nameLocation":"1338:14:82","parameters":{"id":53169,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53166,"indexed":false,"mutability":"mutable","name":"delta","nameLocation":"1360:5:82","nodeType":"VariableDeclaration","scope":53170,"src":"1353:12:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53165,"name":"int256","nodeType":"ElementaryTypeName","src":"1353:6:82","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":53168,"indexed":false,"mutability":"mutable","name":"newBalance","nameLocation":"1375:10:82","nodeType":"VariableDeclaration","scope":53170,"src":"1367:18:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53167,"name":"uint256","nodeType":"ElementaryTypeName","src":"1367:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1352:34:82"}},{"id":53176,"nodeType":"EventDefinition","src":"1392:65:82","nodes":[],"anonymous":false,"eventSelector":"9bdedcc968f2c0682145c20289dfbb3081a39684571116ab45eabfef512e9473","name":"ExcessWithdrawn","nameLocation":"1398:15:82","parameters":{"id":53175,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53172,"indexed":true,"mutability":"mutable","name":"recipient","nameLocation":"1430:9:82","nodeType":"VariableDeclaration","scope":53176,"src":"1414:25:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53171,"name":"address","nodeType":"ElementaryTypeName","src":"1414:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":53174,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"1449:6:82","nodeType":"VariableDeclaration","scope":53176,"src":"1441:14:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53173,"name":"uint256","nodeType":"ElementaryTypeName","src":"1441:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1413:43:82"}},{"id":53179,"nodeType":"VariableDeclaration","src":"1494:57:82","nodes":[],"constant":true,"functionSelector":"fbae0ade","mutability":"constant","name":"MINIMUM_ESCROW_AMOUNT","nameLocation":"1518:21:82","scope":53798,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53177,"name":"uint256","nodeType":"ElementaryTypeName","src":"1494:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"302e31","id":53178,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1542:9:82","subdenomination":"ether","typeDescriptions":{"typeIdentifier":"t_rational_100000000000000000_by_1","typeString":"int_const 100000000000000000"},"value":"0.1"},"visibility":"public"},{"id":53181,"nodeType":"VariableDeclaration","src":"1557:36:82","nodes":[],"baseFunctions":[58689],"constant":false,"functionSelector":"bec070d6","mutability":"mutable","name":"stabilizerNFTContract","nameLocation":"1572:21:82","scope":53798,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53180,"name":"address","nodeType":"ElementaryTypeName","src":"1557:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":53183,"nodeType":"VariableDeclaration","src":"1642:22:82","nodes":[],"constant":false,"functionSelector":"17d70f7c","mutability":"mutable","name":"tokenId","nameLocation":"1657:7:82","scope":53798,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53182,"name":"uint256","nodeType":"ElementaryTypeName","src":"1642:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":53185,"nodeType":"VariableDeclaration","src":"1809:20:82","nodes":[],"baseFunctions":[58699],"constant":false,"functionSelector":"c1fe3e48","mutability":"mutable","name":"stETH","nameLocation":"1824:5:82","scope":53798,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53184,"name":"address","nodeType":"ElementaryTypeName","src":"1809:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":53187,"nodeType":"VariableDeclaration","src":"1892:19:82","nodes":[],"baseFunctions":[58704],"constant":false,"functionSelector":"23509a2d","mutability":"mutable","name":"lido","nameLocation":"1907:4:82","scope":53798,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53186,"name":"address","nodeType":"ElementaryTypeName","src":"1892:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":53190,"nodeType":"VariableDeclaration","src":"2361:38:82","nodes":[],"constant":false,"documentation":{"id":53188,"nodeType":"StructuredDocumentation","src":"1981:375:82","text":" @dev This balance tracks the principal amount of unallocated stETH. It intentionally does not\n      account for stETH rebasing (yield) to keep the logic simple, as this escrow's balance\n      is not used for critical system-wide ratio calculations. The accrued yield can be\n      claimed by the NFT owner via `withdrawExcessStEthBalance`."},"functionSelector":"16f637ff","mutability":"mutable","name":"unallocatedStETHBalance","nameLocation":"2376:23:82","scope":53798,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53189,"name":"uint256","nodeType":"ElementaryTypeName","src":"2361:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":53203,"nodeType":"ModifierDefinition","src":"2475:135:82","nodes":[],"body":{"id":53202,"nodeType":"Block","src":"2504:106:82","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53195,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":53192,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2518:3:82","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53193,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2522:6:82","memberName":"sender","nodeType":"MemberAccess","src":"2518:10:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":53194,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53181,"src":"2532:21:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2518:35:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53200,"nodeType":"IfStatement","src":"2514:78:82","trueBody":{"expression":{"arguments":[{"hexValue":"43616c6c6572206973206e6f742053746162696c697a65724e4654","id":53197,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2562:29:82","typeDescriptions":{"typeIdentifier":"t_stringliteral_11c6ad4836ca3af14d2bc7f2a2ea2184915f6b2542b2a7f77f00ad05343d9d37","typeString":"literal_string \"Caller is not StabilizerNFT\""},"value":"Caller is not StabilizerNFT"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_11c6ad4836ca3af14d2bc7f2a2ea2184915f6b2542b2a7f77f00ad05343d9d37","typeString":"literal_string \"Caller is not StabilizerNFT\""}],"id":53196,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"2555:6:82","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":53198,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2555:37:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53199,"nodeType":"ExpressionStatement","src":"2555:37:82"}},{"id":53201,"nodeType":"PlaceholderStatement","src":"2602:1:82"}]},"name":"onlyStabilizerNFT","nameLocation":"2484:17:82","parameters":{"id":53191,"nodeType":"ParameterList","parameters":[],"src":"2501:2:82"},"virtual":false,"visibility":"internal"},{"id":53211,"nodeType":"FunctionDefinition","src":"2669:97:82","nodes":[],"body":{"id":53210,"nodeType":"Block","src":"2683:83:82","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":53207,"name":"_disableInitializers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36046,"src":"2693:20:82","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":53208,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2693:22:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53209,"nodeType":"ExpressionStatement","src":"2693:22:82"}]},"documentation":{"id":53204,"nodeType":"StructuredDocumentation","src":"2616:48:82","text":"@custom:oz-upgrades-unsafe-allow constructor"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":53205,"nodeType":"ParameterList","parameters":[],"src":"2680:2:82"},"returnParameters":{"id":53206,"nodeType":"ParameterList","parameters":[],"src":"2683:0:82"},"scope":53798,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":53267,"nodeType":"FunctionDefinition","src":"3251:1308:82","nodes":[],"body":{"id":53266,"nodeType":"Block","src":"3524:1035:82","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":53244,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":53237,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53230,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53225,"name":"_stabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53214,"src":"3599:14:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":53228,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3625:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53227,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3617:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53226,"name":"address","nodeType":"ElementaryTypeName","src":"3617:7:82","typeDescriptions":{}}},"id":53229,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3617:10:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3599:28:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53236,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53231,"name":"_stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53218,"src":"3631:6:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":53234,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3649:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53233,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3641:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53232,"name":"address","nodeType":"ElementaryTypeName","src":"3641:7:82","typeDescriptions":{}}},"id":53235,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3641:10:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3631:20:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3599:52:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53243,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53238,"name":"_lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53220,"src":"3655:5:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":53241,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3672:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53240,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3664:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53239,"name":"address","nodeType":"ElementaryTypeName","src":"3664:7:82","typeDescriptions":{}}},"id":53242,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3664:10:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3655:19:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3599:75:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53249,"nodeType":"IfStatement","src":"3595:126:82","trueBody":{"id":53248,"nodeType":"Block","src":"3676:45:82","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53245,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53142,"src":"3697:11:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3697:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53247,"nodeType":"RevertStatement","src":"3690:20:82"}]}},{"expression":{"id":53252,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53250,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53181,"src":"3900:21:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53251,"name":"_stabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53214,"src":"3924:14:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3900:38:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":53253,"nodeType":"ExpressionStatement","src":"3900:38:82"},{"expression":{"id":53256,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53254,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53183,"src":"3948:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53255,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53216,"src":"3958:8:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3948:18:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53257,"nodeType":"ExpressionStatement","src":"3948:18:82"},{"expression":{"id":53260,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53258,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53185,"src":"4033:5:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53259,"name":"_stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53218,"src":"4041:6:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4033:14:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":53261,"nodeType":"ExpressionStatement","src":"4033:14:82"},{"expression":{"id":53264,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53262,"name":"lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53187,"src":"4057:4:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53263,"name":"_lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53220,"src":"4064:5:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4057:12:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":53265,"nodeType":"ExpressionStatement","src":"4057:12:82"}]},"documentation":{"id":53212,"nodeType":"StructuredDocumentation","src":"2799:447:82","text":" @notice Initializes the escrow contract state.\n @param _stabilizerNFT The address of the controlling StabilizerNFT contract.\n @param _tokenId The ID of the Stabilizer NFT this escrow is associated with.\n @param _stETH The address of the stETH token.\n @param _lido The address of the Lido staking pool.\n @dev Sets immutable addresses and the token ID. Meant to be called once after clone deployment."},"functionSelector":"358394d8","implemented":true,"kind":"function","modifiers":[{"id":53223,"kind":"modifierInvocation","modifierName":{"id":53222,"name":"initializer","nameLocations":["3512:11:82"],"nodeType":"IdentifierPath","referencedDeclaration":35932,"src":"3512:11:82"},"nodeType":"ModifierInvocation","src":"3512:11:82"}],"name":"initialize","nameLocation":"3260:10:82","parameters":{"id":53221,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53214,"mutability":"mutable","name":"_stabilizerNFT","nameLocation":"3320:14:82","nodeType":"VariableDeclaration","scope":53267,"src":"3312:22:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53213,"name":"address","nodeType":"ElementaryTypeName","src":"3312:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":53216,"mutability":"mutable","name":"_tokenId","nameLocation":"3352:8:82","nodeType":"VariableDeclaration","scope":53267,"src":"3344:16:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53215,"name":"uint256","nodeType":"ElementaryTypeName","src":"3344:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":53218,"mutability":"mutable","name":"_stETH","nameLocation":"3467:6:82","nodeType":"VariableDeclaration","scope":53267,"src":"3459:14:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53217,"name":"address","nodeType":"ElementaryTypeName","src":"3459:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":53220,"mutability":"mutable","name":"_lido","nameLocation":"3491:5:82","nodeType":"VariableDeclaration","scope":53267,"src":"3483:13:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53219,"name":"address","nodeType":"ElementaryTypeName","src":"3483:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3270:232:82"},"returnParameters":{"id":53224,"nodeType":"ParameterList","parameters":[],"src":"3524:0:82"},"scope":53798,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53374,"nodeType":"FunctionDefinition","src":"4772:1213:82","nodes":[],"body":{"id":53373,"nodeType":"Block","src":"4826:1159:82","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53276,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":53273,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4840:3:82","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4844:5:82","memberName":"value","nodeType":"MemberAccess","src":"4840:9:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53275,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4853:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4840:14:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53280,"nodeType":"IfStatement","src":"4836:39:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53277,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53144,"src":"4863:10:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53278,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4863:12:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53279,"nodeType":"RevertStatement","src":"4856:19:82"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53286,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53284,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53281,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"4987:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":53282,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5013:3:82","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53283,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5017:5:82","memberName":"value","nodeType":"MemberAccess","src":"5013:9:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4987:35:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":53285,"name":"MINIMUM_ESCROW_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53179,"src":"5025:21:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4987:59:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53295,"nodeType":"IfStatement","src":"4983:180:82","trueBody":{"id":53294,"nodeType":"Block","src":"5048:115:82","statements":[{"errorCall":{"arguments":[{"id":53288,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"5094:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":53289,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5119:3:82","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53290,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5123:5:82","memberName":"value","nodeType":"MemberAccess","src":"5119:9:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53291,"name":"MINIMUM_ESCROW_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53179,"src":"5130:21:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53287,"name":"InsufficientEscrowAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53152,"src":"5069:24:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (uint256,uint256,uint256) pure returns (error)"}},"id":53292,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5069:83:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53293,"nodeType":"RevertStatement","src":"5062:90:82"}]}},{"assignments":[53297],"declarations":[{"constant":false,"id":53297,"mutability":"mutable","name":"balanceBefore","nameLocation":"5219:13:82","nodeType":"VariableDeclaration","scope":53373,"src":"5211:21:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53296,"name":"uint256","nodeType":"ElementaryTypeName","src":"5211:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53307,"initialValue":{"arguments":[{"arguments":[{"id":53304,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"5267:4:82","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}],"id":53303,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5259:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53302,"name":"address","nodeType":"ElementaryTypeName","src":"5259:7:82","typeDescriptions":{}}},"id":53305,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5259:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":53299,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53185,"src":"5242:5:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53298,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40358,"src":"5235:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$40358_$","typeString":"type(contract IERC20)"}},"id":53300,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5235:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$40358","typeString":"contract IERC20"}},"id":53301,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5249:9:82","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":40315,"src":"5235:23:82","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":53306,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5235:38:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5211:62:82"},{"assignments":[53309],"declarations":[{"constant":false,"id":53309,"mutability":"mutable","name":"stEthReceived","nameLocation":"5359:13:82","nodeType":"VariableDeclaration","scope":53373,"src":"5351:21:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53308,"name":"uint256","nodeType":"ElementaryTypeName","src":"5351:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53310,"nodeType":"VariableDeclarationStatement","src":"5351:21:82"},{"clauses":[{"block":{"id":53341,"nodeType":"Block","src":"5435:213:82","statements":[{"assignments":[53324],"declarations":[{"constant":false,"id":53324,"mutability":"mutable","name":"balanceAfter","nameLocation":"5526:12:82","nodeType":"VariableDeclaration","scope":53341,"src":"5518:20:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53323,"name":"uint256","nodeType":"ElementaryTypeName","src":"5518:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53334,"initialValue":{"arguments":[{"arguments":[{"id":53331,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"5573:4:82","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}],"id":53330,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5565:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53329,"name":"address","nodeType":"ElementaryTypeName","src":"5565:7:82","typeDescriptions":{}}},"id":53332,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5565:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":53326,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53185,"src":"5548:5:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53325,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40358,"src":"5541:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$40358_$","typeString":"type(contract IERC20)"}},"id":53327,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5541:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$40358","typeString":"contract IERC20"}},"id":53328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5555:9:82","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":40315,"src":"5541:23:82","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":53333,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5541:38:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5518:61:82"},{"expression":{"id":53339,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53335,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53309,"src":"5593:13:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53336,"name":"balanceAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53324,"src":"5609:12:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53337,"name":"balanceBefore","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53297,"src":"5624:13:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5609:28:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5593:44:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53340,"nodeType":"ExpressionStatement","src":"5593:44:82"}]},"errorName":"","id":53342,"nodeType":"TryCatchClause","src":"5435:213:82"},{"block":{"id":53346,"nodeType":"Block","src":"5655:47:82","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53343,"name":"DepositFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53162,"src":"5676:13:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53344,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5676:15:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53345,"nodeType":"RevertStatement","src":"5669:22:82"}]},"errorName":"","id":53347,"nodeType":"TryCatchClause","src":"5649:53:82"}],"externalCall":{"arguments":[{"arguments":[{"hexValue":"30","id":53320,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5431:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53319,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5423:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53318,"name":"address","nodeType":"ElementaryTypeName","src":"5423:7:82","typeDescriptions":{}}},"id":53321,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5423:10:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":53312,"name":"lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53187,"src":"5392:4:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53311,"name":"ILido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":58340,"src":"5386:5:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ILido_$58340_$","typeString":"type(contract ILido)"}},"id":53313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5386:11:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ILido_$58340","typeString":"contract ILido"}},"id":53314,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5398:6:82","memberName":"submit","nodeType":"MemberAccess","referencedDeclaration":58339,"src":"5386:18:82","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$","typeString":"function (address) payable external returns (uint256)"}},"id":53317,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"expression":{"id":53315,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5412:3:82","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53316,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5416:5:82","memberName":"value","nodeType":"MemberAccess","src":"5412:9:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"5386:36:82","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$value","typeString":"function (address) payable external returns (uint256)"}},"id":53322,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5386:48:82","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53348,"nodeType":"TryStatement","src":"5382:320:82"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53351,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53349,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53309,"src":"5715:13:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53350,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5732:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5715:18:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53355,"nodeType":"IfStatement","src":"5711:46:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53352,"name":"DepositFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53162,"src":"5742:13:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53353,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5742:15:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53354,"nodeType":"RevertStatement","src":"5735:22:82"}},{"expression":{"id":53358,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53356,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"5801:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":53357,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53309,"src":"5828:13:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5801:40:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53359,"nodeType":"ExpressionStatement","src":"5801:40:82"},{"eventCall":{"arguments":[{"expression":{"id":53361,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5873:3:82","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53362,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5877:5:82","memberName":"value","nodeType":"MemberAccess","src":"5873:9:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53360,"name":"DepositReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":58672,"src":"5857:15:82","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":53363,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5857:26:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53364,"nodeType":"EmitStatement","src":"5852:31:82"},{"eventCall":{"arguments":[{"arguments":[{"id":53368,"name":"stEthReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53309,"src":"5938:13:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53367,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5931:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":53366,"name":"int256","nodeType":"ElementaryTypeName","src":"5931:6:82","typeDescriptions":{}}},"id":53369,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5931:21:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53370,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"5954:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53365,"name":"BalanceUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53170,"src":"5916:14:82","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_uint256_$returns$__$","typeString":"function (int256,uint256)"}},"id":53371,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5916:62:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53372,"nodeType":"EmitStatement","src":"5911:67:82"}]},"baseFunctions":[58707],"documentation":{"id":53268,"nodeType":"StructuredDocumentation","src":"4600:167:82","text":" @notice Receives additional ETH deposits forwarded by StabilizerNFT.\n @dev Stakes the received ETH into stETH. Callable only by StabilizerNFT."},"functionSelector":"d0e30db0","implemented":true,"kind":"function","modifiers":[{"id":53271,"kind":"modifierInvocation","modifierName":{"id":53270,"name":"onlyStabilizerNFT","nameLocations":["4808:17:82"],"nodeType":"IdentifierPath","referencedDeclaration":53203,"src":"4808:17:82"},"nodeType":"ModifierInvocation","src":"4808:17:82"}],"name":"deposit","nameLocation":"4781:7:82","parameters":{"id":53269,"nodeType":"ParameterList","parameters":[],"src":"4788:2:82"},"returnParameters":{"id":53272,"nodeType":"ParameterList","parameters":[],"src":"4826:0:82"},"scope":53798,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":53432,"nodeType":"FunctionDefinition","src":"6289:571:82","nodes":[],"body":{"id":53431,"nodeType":"Block","src":"6387:473:82","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53386,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53384,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53377,"src":"6401:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53385,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6411:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6401:11:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53390,"nodeType":"IfStatement","src":"6397:36:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53387,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53144,"src":"6421:10:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53388,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6421:12:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53389,"nodeType":"RevertStatement","src":"6414:19:82"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53396,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53391,"name":"positionNFTAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53379,"src":"6447:18:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":53394,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6477:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53393,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6469:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53392,"name":"address","nodeType":"ElementaryTypeName","src":"6469:7:82","typeDescriptions":{}}},"id":53395,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6469:10:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6447:32:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53400,"nodeType":"IfStatement","src":"6443:58:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53397,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53142,"src":"6488:11:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53398,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6488:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53399,"nodeType":"RevertStatement","src":"6481:20:82"}},{"assignments":[53402],"declarations":[{"constant":false,"id":53402,"mutability":"mutable","name":"currentBalance","nameLocation":"6520:14:82","nodeType":"VariableDeclaration","scope":53431,"src":"6512:22:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53401,"name":"uint256","nodeType":"ElementaryTypeName","src":"6512:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53404,"initialValue":{"id":53403,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"6537:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6512:48:82"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53407,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53405,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53377,"src":"6574:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":53406,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53402,"src":"6583:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6574:23:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53417,"nodeType":"IfStatement","src":"6570:99:82","trueBody":{"errorCall":{"arguments":[{"arguments":[{"id":53411,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"6639:4:82","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}],"id":53410,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6631:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53409,"name":"address","nodeType":"ElementaryTypeName","src":"6631:7:82","typeDescriptions":{}}},"id":53412,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6631:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53413,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53402,"src":"6646:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53414,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53377,"src":"6662:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53408,"name":"ERC20InsufficientBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38679,"src":"6606:24:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (address,uint256,uint256) pure returns (error)"}},"id":53415,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6606:63:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53416,"nodeType":"RevertStatement","src":"6599:70:82"}},{"expression":{"arguments":[{"id":53422,"name":"positionNFTAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53379,"src":"6751:18:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53423,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53377,"src":"6771:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53419,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53185,"src":"6736:5:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53418,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40358,"src":"6729:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$40358_$","typeString":"type(contract IERC20)"}},"id":53420,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6729:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$40358","typeString":"contract IERC20"}},"id":53421,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6743:7:82","memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":40345,"src":"6729:21:82","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":53424,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6729:49:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53425,"nodeType":"ExpressionStatement","src":"6729:49:82"},{"eventCall":{"arguments":[{"id":53427,"name":"positionNFTAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53379,"src":"6812:18:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53428,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53377,"src":"6832:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53426,"name":"AllocationApproved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":58678,"src":"6793:18:82","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":53429,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6793:46:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53430,"nodeType":"EmitStatement","src":"6788:51:82"}]},"baseFunctions":[58714],"documentation":{"id":53375,"nodeType":"StructuredDocumentation","src":"5991:293:82","text":" @notice Approves the PositionNFT contract to spend stETH for allocation.\n @param amount The amount of stETH to approve.\n @param positionNFTAddress The address of the PositionNFT contract.\n @dev Callable only by StabilizerNFT. Checks for sufficient balance."},"functionSelector":"4f68ae75","implemented":true,"kind":"function","modifiers":[{"id":53382,"kind":"modifierInvocation","modifierName":{"id":53381,"name":"onlyStabilizerNFT","nameLocations":["6369:17:82"],"nodeType":"IdentifierPath","referencedDeclaration":53203,"src":"6369:17:82"},"nodeType":"ModifierInvocation","src":"6369:17:82"}],"name":"approveAllocation","nameLocation":"6298:17:82","parameters":{"id":53380,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53377,"mutability":"mutable","name":"amount","nameLocation":"6324:6:82","nodeType":"VariableDeclaration","scope":53432,"src":"6316:14:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53376,"name":"uint256","nodeType":"ElementaryTypeName","src":"6316:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":53379,"mutability":"mutable","name":"positionNFTAddress","nameLocation":"6340:18:82","nodeType":"VariableDeclaration","scope":53432,"src":"6332:26:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53378,"name":"address","nodeType":"ElementaryTypeName","src":"6332:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6315:44:82"},"returnParameters":{"id":53383,"nodeType":"ParameterList","parameters":[],"src":"6387:0:82"},"scope":53798,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53536,"nodeType":"FunctionDefinition","src":"7240:1263:82","nodes":[],"body":{"id":53535,"nodeType":"Block","src":"7312:1191:82","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53442,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53440,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53435,"src":"7326:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53441,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7336:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7326:11:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53446,"nodeType":"IfStatement","src":"7322:36:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53443,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53144,"src":"7346:10:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53444,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7346:12:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53445,"nodeType":"RevertStatement","src":"7339:19:82"}},{"assignments":[53448],"declarations":[{"constant":false,"id":53448,"mutability":"mutable","name":"currentBalance","nameLocation":"7376:14:82","nodeType":"VariableDeclaration","scope":53535,"src":"7368:22:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53447,"name":"uint256","nodeType":"ElementaryTypeName","src":"7368:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53450,"initialValue":{"id":53449,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"7393:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7368:48:82"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53453,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53451,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53435,"src":"7430:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":53452,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53448,"src":"7439:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7430:23:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53463,"nodeType":"IfStatement","src":"7426:99:82","trueBody":{"errorCall":{"arguments":[{"arguments":[{"id":53457,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"7495:4:82","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}],"id":53456,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7487:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53455,"name":"address","nodeType":"ElementaryTypeName","src":"7487:7:82","typeDescriptions":{}}},"id":53458,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7487:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53459,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53448,"src":"7502:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53460,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53435,"src":"7518:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53454,"name":"ERC20InsufficientBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38679,"src":"7462:24:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (address,uint256,uint256) pure returns (error)"}},"id":53461,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7462:63:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53462,"nodeType":"RevertStatement","src":"7455:70:82"}},{"assignments":[53465],"declarations":[{"constant":false,"id":53465,"mutability":"mutable","name":"remainingBalance","nameLocation":"7602:16:82","nodeType":"VariableDeclaration","scope":53535,"src":"7594:24:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53464,"name":"uint256","nodeType":"ElementaryTypeName","src":"7594:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53469,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53468,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53466,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53448,"src":"7621:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53467,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53435,"src":"7638:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7621:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7594:50:82"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":53476,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53470,"name":"remainingBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53465,"src":"7658:16:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":53471,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7677:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7658:20:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53475,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53473,"name":"remainingBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53465,"src":"7682:16:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":53474,"name":"MINIMUM_ESCROW_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53179,"src":"7701:21:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7682:40:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7658:64:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53481,"nodeType":"IfStatement","src":"7654:128:82","trueBody":{"id":53480,"nodeType":"Block","src":"7724:58:82","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53477,"name":"WithdrawalWouldLeaveDust","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53154,"src":"7745:24:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53478,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7745:26:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53479,"nodeType":"RevertStatement","src":"7738:33:82"}]}},{"assignments":[53483],"declarations":[{"constant":false,"id":53483,"mutability":"mutable","name":"currentOwner","nameLocation":"7892:12:82","nodeType":"VariableDeclaration","scope":53535,"src":"7884:20:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53482,"name":"address","nodeType":"ElementaryTypeName","src":"7884:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":53490,"initialValue":{"arguments":[{"id":53488,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53183,"src":"7946:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53485,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53181,"src":"7915:21:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53484,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40691,"src":"7907:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$40691_$","typeString":"type(contract IERC721)"}},"id":53486,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7907:30:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$40691","typeString":"contract IERC721"}},"id":53487,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7938:7:82","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":40624,"src":"7907:38:82","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":53489,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7907:47:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"7884:70:82"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53496,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53491,"name":"currentOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53483,"src":"7990:12:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":53494,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8014:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53493,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8006:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53492,"name":"address","nodeType":"ElementaryTypeName","src":"8006:7:82","typeDescriptions":{}}},"id":53495,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8006:10:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7990:26:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53500,"nodeType":"IfStatement","src":"7986:52:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53497,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53142,"src":"8025:11:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53498,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8025:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53499,"nodeType":"RevertStatement","src":"8018:20:82"}},{"assignments":[53502],"declarations":[{"constant":false,"id":53502,"mutability":"mutable","name":"success","nameLocation":"8138:7:82","nodeType":"VariableDeclaration","scope":53535,"src":"8133:12:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53501,"name":"bool","nodeType":"ElementaryTypeName","src":"8133:4:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":53510,"initialValue":{"arguments":[{"id":53507,"name":"currentOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53483,"src":"8171:12:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53508,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53435,"src":"8185:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53504,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53185,"src":"8155:5:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53503,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40358,"src":"8148:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$40358_$","typeString":"type(contract IERC20)"}},"id":53505,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8148:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$40358","typeString":"contract IERC20"}},"id":53506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8162:8:82","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":40325,"src":"8148:22:82","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":53509,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8148:44:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"8133:59:82"},{"condition":{"id":53512,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"8206:8:82","subExpression":{"id":53511,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53502,"src":"8207:7:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53516,"nodeType":"IfStatement","src":"8202:37:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53513,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53164,"src":"8223:14:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53514,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8223:16:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53515,"nodeType":"RevertStatement","src":"8216:23:82"}},{"expression":{"id":53519,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53517,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"8250:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53518,"name":"remainingBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53465,"src":"8276:16:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8250:42:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53520,"nodeType":"ExpressionStatement","src":"8250:42:82"},{"eventCall":{"arguments":[{"id":53522,"name":"currentOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53483,"src":"8404:12:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53523,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53435,"src":"8418:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53521,"name":"WithdrawalCompleted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":58684,"src":"8384:19:82","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":53524,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8384:41:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53525,"nodeType":"EmitStatement","src":"8379:46:82"},{"eventCall":{"arguments":[{"id":53531,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"8455:15:82","subExpression":{"arguments":[{"id":53529,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53435,"src":"8463:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53528,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8456:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":53527,"name":"int256","nodeType":"ElementaryTypeName","src":"8456:6:82","typeDescriptions":{}}},"id":53530,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8456:14:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53532,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"8472:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53526,"name":"BalanceUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53170,"src":"8440:14:82","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_uint256_$returns$__$","typeString":"function (int256,uint256)"}},"id":53533,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8440:56:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53534,"nodeType":"EmitStatement","src":"8435:61:82"}]},"baseFunctions":[58719],"documentation":{"id":53433,"nodeType":"StructuredDocumentation","src":"6952:283:82","text":" @notice Withdraws unallocated stETH to the current owner of the associated Stabilizer NFT.\n @param amount The amount of stETH to withdraw.\n @dev Callable only by StabilizerNFT. Uses stored `tokenId` to fetch current owner. Checks against total balance."},"functionSelector":"a9015400","implemented":true,"kind":"function","modifiers":[{"id":53438,"kind":"modifierInvocation","modifierName":{"id":53437,"name":"onlyStabilizerNFT","nameLocations":["7294:17:82"],"nodeType":"IdentifierPath","referencedDeclaration":53203,"src":"7294:17:82"},"nodeType":"ModifierInvocation","src":"7294:17:82"}],"name":"withdrawUnallocated","nameLocation":"7249:19:82","parameters":{"id":53436,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53435,"mutability":"mutable","name":"amount","nameLocation":"7277:6:82","nodeType":"VariableDeclaration","scope":53536,"src":"7269:14:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53434,"name":"uint256","nodeType":"ElementaryTypeName","src":"7269:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7268:16:82"},"returnParameters":{"id":53439,"nodeType":"ParameterList","parameters":[],"src":"7312:0:82"},"scope":53798,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53546,"nodeType":"FunctionDefinition","src":"8789:116:82","nodes":[],"body":{"id":53545,"nodeType":"Block","src":"8858:47:82","nodes":[],"statements":[{"expression":{"id":53543,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"8875:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":53542,"id":53544,"nodeType":"Return","src":"8868:30:82"}]},"baseFunctions":[58725],"documentation":{"id":53537,"nodeType":"StructuredDocumentation","src":"8540:244:82","text":" @notice Returns the current stETH balance of this contract.\n @dev Renamed from the previous logic which subtracted allocated amount. Now just returns total balance.\n @return The amount of stETH held by the escrow."},"functionSelector":"ec60b9ab","implemented":true,"kind":"function","modifiers":[],"name":"unallocatedStETH","nameLocation":"8798:16:82","overrides":{"id":53539,"nodeType":"OverrideSpecifier","overrides":[],"src":"8831:8:82"},"parameters":{"id":53538,"nodeType":"ParameterList","parameters":[],"src":"8814:2:82"},"returnParameters":{"id":53542,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53541,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":53546,"src":"8849:7:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53540,"name":"uint256","nodeType":"ElementaryTypeName","src":"8849:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8848:9:82"},"scope":53798,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":53607,"nodeType":"FunctionDefinition","src":"9243:536:82","nodes":[],"body":{"id":53606,"nodeType":"Block","src":"9307:472:82","nodes":[],"statements":[{"assignments":[53555],"declarations":[{"constant":false,"id":53555,"mutability":"mutable","name":"oldBalance","nameLocation":"9325:10:82","nodeType":"VariableDeclaration","scope":53606,"src":"9317:18:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53554,"name":"uint256","nodeType":"ElementaryTypeName","src":"9317:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53557,"initialValue":{"id":53556,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"9338:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9317:44:82"},{"assignments":[53559],"declarations":[{"constant":false,"id":53559,"mutability":"mutable","name":"newBalance","nameLocation":"9379:10:82","nodeType":"VariableDeclaration","scope":53606,"src":"9371:18:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53558,"name":"uint256","nodeType":"ElementaryTypeName","src":"9371:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53560,"nodeType":"VariableDeclarationStatement","src":"9371:18:82"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53561,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53549,"src":"9403:5:82","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":53562,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9411:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9403:9:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":53595,"nodeType":"Block","src":"9485:194:82","statements":[{"assignments":[53575],"declarations":[{"constant":false,"id":53575,"mutability":"mutable","name":"amountToRemove","nameLocation":"9507:14:82","nodeType":"VariableDeclaration","scope":53595,"src":"9499:22:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53574,"name":"uint256","nodeType":"ElementaryTypeName","src":"9499:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53581,"initialValue":{"arguments":[{"id":53579,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9532:6:82","subExpression":{"id":53578,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53549,"src":"9533:5:82","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":53577,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9524:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":53576,"name":"uint256","nodeType":"ElementaryTypeName","src":"9524:7:82","typeDescriptions":{}}},"id":53580,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9524:15:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9499:40:82"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53582,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53575,"src":"9557:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":53583,"name":"oldBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53555,"src":"9574:10:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9557:27:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53588,"nodeType":"IfStatement","src":"9553:61:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53585,"name":"BalanceUpdateFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53156,"src":"9593:19:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53586,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9593:21:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53587,"nodeType":"RevertStatement","src":"9586:28:82"}},{"expression":{"id":53593,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53589,"name":"newBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53559,"src":"9628:10:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53592,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53590,"name":"oldBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53555,"src":"9641:10:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53591,"name":"amountToRemove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53575,"src":"9654:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9641:27:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9628:40:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53594,"nodeType":"ExpressionStatement","src":"9628:40:82"}]},"id":53596,"nodeType":"IfStatement","src":"9399:280:82","trueBody":{"id":53573,"nodeType":"Block","src":"9414:65:82","statements":[{"expression":{"id":53571,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53564,"name":"newBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53559,"src":"9428:10:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53570,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53565,"name":"oldBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53555,"src":"9441:10:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":53568,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53549,"src":"9462:5:82","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":53567,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9454:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":53566,"name":"uint256","nodeType":"ElementaryTypeName","src":"9454:7:82","typeDescriptions":{}}},"id":53569,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9454:14:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9441:27:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9428:40:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53572,"nodeType":"ExpressionStatement","src":"9428:40:82"}]}},{"expression":{"id":53599,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53597,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"9688:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53598,"name":"newBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53559,"src":"9714:10:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9688:36:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53600,"nodeType":"ExpressionStatement","src":"9688:36:82"},{"eventCall":{"arguments":[{"id":53602,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53549,"src":"9754:5:82","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53603,"name":"newBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53559,"src":"9761:10:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53601,"name":"BalanceUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53170,"src":"9739:14:82","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_uint256_$returns$__$","typeString":"function (int256,uint256)"}},"id":53604,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9739:33:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53605,"nodeType":"EmitStatement","src":"9734:38:82"}]},"baseFunctions":[58730],"documentation":{"id":53547,"nodeType":"StructuredDocumentation","src":"8911:327:82","text":" @notice Updates the internal balance tracking.\n @param delta The change in balance (can be positive or negative).\n @dev Callable only by StabilizerNFT to report balance changes from stETH transfers\n      that happen outside this contract's direct control (e.g., direct deposit, allocation)."},"functionSelector":"171b0188","implemented":true,"kind":"function","modifiers":[{"id":53552,"kind":"modifierInvocation","modifierName":{"id":53551,"name":"onlyStabilizerNFT","nameLocations":["9289:17:82"],"nodeType":"IdentifierPath","referencedDeclaration":53203,"src":"9289:17:82"},"nodeType":"ModifierInvocation","src":"9289:17:82"}],"name":"updateBalance","nameLocation":"9252:13:82","parameters":{"id":53550,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53549,"mutability":"mutable","name":"delta","nameLocation":"9273:5:82","nodeType":"VariableDeclaration","scope":53607,"src":"9266:12:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53548,"name":"int256","nodeType":"ElementaryTypeName","src":"9266:6:82","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"9265:14:82"},"returnParameters":{"id":53553,"nodeType":"ParameterList","parameters":[],"src":"9307:0:82"},"scope":53798,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53641,"nodeType":"FunctionDefinition","src":"10119:410:82","nodes":[],"body":{"id":53640,"nodeType":"Block","src":"10205:324:82","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53619,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53615,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"10219:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":53616,"name":"stETHAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53610,"src":"10245:11:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10219:37:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":53618,"name":"MINIMUM_ESCROW_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53179,"src":"10259:21:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10219:61:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53627,"nodeType":"IfStatement","src":"10215:184:82","trueBody":{"id":53626,"nodeType":"Block","src":"10282:117:82","statements":[{"errorCall":{"arguments":[{"id":53621,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"10328:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53622,"name":"stETHAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53610,"src":"10353:11:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53623,"name":"MINIMUM_ESCROW_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53179,"src":"10366:21:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53620,"name":"InsufficientEscrowAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53152,"src":"10303:24:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (uint256,uint256,uint256) pure returns (error)"}},"id":53624,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10303:85:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53625,"nodeType":"RevertStatement","src":"10296:92:82"}]}},{"expression":{"id":53630,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53628,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"10409:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":53629,"name":"stETHAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53610,"src":"10436:11:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10409:38:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53631,"nodeType":"ExpressionStatement","src":"10409:38:82"},{"eventCall":{"arguments":[{"arguments":[{"id":53635,"name":"stETHAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53610,"src":"10484:11:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53634,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10477:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":53633,"name":"int256","nodeType":"ElementaryTypeName","src":"10477:6:82","typeDescriptions":{}}},"id":53636,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10477:19:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53637,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"10498:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53632,"name":"BalanceUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53170,"src":"10462:14:82","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_uint256_$returns$__$","typeString":"function (int256,uint256)"}},"id":53638,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10462:60:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53639,"nodeType":"EmitStatement","src":"10457:65:82"}]},"documentation":{"id":53608,"nodeType":"StructuredDocumentation","src":"9785:329:82","text":" @notice Checks if a new deposit meets the minimum balance requirement and updates the balance.\n @param stETHAmount The amount of stETH being deposited.\n @dev Callable only by StabilizerNFT for direct stETH deposits. Reverts if the resulting\n      balance would be below the minimum threshold."},"functionSelector":"ecb772e0","implemented":true,"kind":"function","modifiers":[{"id":53613,"kind":"modifierInvocation","modifierName":{"id":53612,"name":"onlyStabilizerNFT","nameLocations":["10187:17:82"],"nodeType":"IdentifierPath","referencedDeclaration":53203,"src":"10187:17:82"},"nodeType":"ModifierInvocation","src":"10187:17:82"}],"name":"checkMinimumAndUpdateBalance","nameLocation":"10128:28:82","parameters":{"id":53611,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53610,"mutability":"mutable","name":"stETHAmount","nameLocation":"10165:11:82","nodeType":"VariableDeclaration","scope":53641,"src":"10157:19:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53609,"name":"uint256","nodeType":"ElementaryTypeName","src":"10157:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10156:21:82"},"returnParameters":{"id":53614,"nodeType":"ParameterList","parameters":[],"src":"10205:0:82"},"scope":53798,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53654,"nodeType":"FunctionDefinition","src":"10535:130:82","nodes":[],"body":{"id":53653,"nodeType":"Block","src":"10594:71:82","nodes":[],"statements":[{"expression":{"arguments":[{"id":53650,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53183,"src":"10650:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53647,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53181,"src":"10619:21:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53646,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40691,"src":"10611:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$40691_$","typeString":"type(contract IERC721)"}},"id":53648,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10611:30:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$40691","typeString":"contract IERC721"}},"id":53649,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10642:7:82","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":40624,"src":"10611:38:82","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":53651,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10611:47:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":53645,"id":53652,"nodeType":"Return","src":"10604:54:82"}]},"baseFunctions":[58694],"functionSelector":"7d0e9bba","implemented":true,"kind":"function","modifiers":[],"name":"stabilizerOwner","nameLocation":"10544:15:82","parameters":{"id":53642,"nodeType":"ParameterList","parameters":[],"src":"10559:2:82"},"returnParameters":{"id":53645,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53644,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":53654,"src":"10585:7:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53643,"name":"address","nodeType":"ElementaryTypeName","src":"10585:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"10584:9:82"},"scope":53798,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":53728,"nodeType":"FunctionDefinition","src":"11076:603:82","nodes":[],"body":{"id":53727,"nodeType":"Block","src":"11169:510:82","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53666,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53664,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53657,"src":"11183:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53665,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11193:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11183:11:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53670,"nodeType":"IfStatement","src":"11179:36:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53667,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53144,"src":"11203:10:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53668,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11203:12:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53669,"nodeType":"RevertStatement","src":"11196:19:82"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53676,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53671,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53659,"src":"11229:9:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":53674,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11250:1:82","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":53673,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11242:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53672,"name":"address","nodeType":"ElementaryTypeName","src":"11242:7:82","typeDescriptions":{}}},"id":53675,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11242:10:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"11229:23:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53680,"nodeType":"IfStatement","src":"11225:49:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53677,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53142,"src":"11261:11:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53678,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11261:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53679,"nodeType":"RevertStatement","src":"11254:20:82"}},{"assignments":[53682],"declarations":[{"constant":false,"id":53682,"mutability":"mutable","name":"currentBalance","nameLocation":"11293:14:82","nodeType":"VariableDeclaration","scope":53727,"src":"11285:22:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53681,"name":"uint256","nodeType":"ElementaryTypeName","src":"11285:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53684,"initialValue":{"id":53683,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"11310:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11285:48:82"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53687,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53685,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53657,"src":"11347:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":53686,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53682,"src":"11356:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11347:23:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53697,"nodeType":"IfStatement","src":"11343:99:82","trueBody":{"errorCall":{"arguments":[{"arguments":[{"id":53691,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"11412:4:82","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}],"id":53690,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11404:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53689,"name":"address","nodeType":"ElementaryTypeName","src":"11404:7:82","typeDescriptions":{}}},"id":53692,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11404:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53693,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53682,"src":"11419:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53694,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53657,"src":"11435:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53688,"name":"ERC20InsufficientBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38679,"src":"11379:24:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (address,uint256,uint256) pure returns (error)"}},"id":53695,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11379:63:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53696,"nodeType":"RevertStatement","src":"11372:70:82"}},{"assignments":[53699],"declarations":[{"constant":false,"id":53699,"mutability":"mutable","name":"success","nameLocation":"11458:7:82","nodeType":"VariableDeclaration","scope":53727,"src":"11453:12:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53698,"name":"bool","nodeType":"ElementaryTypeName","src":"11453:4:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":53707,"initialValue":{"arguments":[{"id":53704,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53659,"src":"11491:9:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53705,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53657,"src":"11502:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53701,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53185,"src":"11475:5:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53700,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40358,"src":"11468:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$40358_$","typeString":"type(contract IERC20)"}},"id":53702,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11468:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$40358","typeString":"contract IERC20"}},"id":53703,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11482:8:82","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":40325,"src":"11468:22:82","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":53706,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11468:41:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"11453:56:82"},{"condition":{"id":53709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"11523:8:82","subExpression":{"id":53708,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53699,"src":"11524:7:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53713,"nodeType":"IfStatement","src":"11519:37:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53710,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53164,"src":"11540:14:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53711,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11540:16:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53712,"nodeType":"RevertStatement","src":"11533:23:82"}},{"expression":{"id":53716,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53714,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"11567:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"id":53715,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53657,"src":"11594:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11567:33:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53717,"nodeType":"ExpressionStatement","src":"11567:33:82"},{"eventCall":{"arguments":[{"id":53723,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"11631:15:82","subExpression":{"arguments":[{"id":53721,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53657,"src":"11639:6:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53720,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11632:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":53719,"name":"int256","nodeType":"ElementaryTypeName","src":"11632:6:82","typeDescriptions":{}}},"id":53722,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11632:14:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53724,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"11648:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53718,"name":"BalanceUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53170,"src":"11616:14:82","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_uint256_$returns$__$","typeString":"function (int256,uint256)"}},"id":53725,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11616:56:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53726,"nodeType":"EmitStatement","src":"11611:61:82"}]},"documentation":{"id":53655,"nodeType":"StructuredDocumentation","src":"10671:400:82","text":" @notice Withdraws stETH from this escrow and sends it to a recipient (e.g., PositionEscrow).\n @param amount The amount of stETH to withdraw.\n @param recipient The address to send the stETH to.\n @dev Callable only by StabilizerNFT. This is a single-call alternative to approve/transferFrom\n      to reduce bytecode size in the calling StabilizerNFT contract."},"functionSelector":"7d810c2a","implemented":true,"kind":"function","modifiers":[{"id":53662,"kind":"modifierInvocation","modifierName":{"id":53661,"name":"onlyStabilizerNFT","nameLocations":["11151:17:82"],"nodeType":"IdentifierPath","referencedDeclaration":53203,"src":"11151:17:82"},"nodeType":"ModifierInvocation","src":"11151:17:82"}],"name":"withdrawForAllocation","nameLocation":"11085:21:82","parameters":{"id":53660,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53657,"mutability":"mutable","name":"amount","nameLocation":"11115:6:82","nodeType":"VariableDeclaration","scope":53728,"src":"11107:14:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53656,"name":"uint256","nodeType":"ElementaryTypeName","src":"11107:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":53659,"mutability":"mutable","name":"recipient","nameLocation":"11131:9:82","nodeType":"VariableDeclaration","scope":53728,"src":"11123:17:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53658,"name":"address","nodeType":"ElementaryTypeName","src":"11123:7:82","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"11106:35:82"},"returnParameters":{"id":53663,"nodeType":"ParameterList","parameters":[],"src":"11169:0:82"},"scope":53798,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53797,"nodeType":"FunctionDefinition","src":"12339:626:82","nodes":[],"body":{"id":53796,"nodeType":"Block","src":"12386:579:82","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53740,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":53732,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"12400:3:82","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53733,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12404:6:82","memberName":"sender","nodeType":"MemberAccess","src":"12400:10:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"id":53738,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53183,"src":"12453:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53735,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53181,"src":"12422:21:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53734,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40691,"src":"12414:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$40691_$","typeString":"type(contract IERC721)"}},"id":53736,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12414:30:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$40691","typeString":"contract IERC721"}},"id":53737,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12445:7:82","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":40624,"src":"12414:38:82","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":53739,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12414:47:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"12400:61:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53745,"nodeType":"IfStatement","src":"12396:112:82","trueBody":{"id":53744,"nodeType":"Block","src":"12463:45:82","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53741,"name":"NotNFTOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53158,"src":"12484:11:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53742,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12484:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53743,"nodeType":"RevertStatement","src":"12477:20:82"}]}},{"assignments":[53747],"declarations":[{"constant":false,"id":53747,"mutability":"mutable","name":"physicalBalance","nameLocation":"12526:15:82","nodeType":"VariableDeclaration","scope":53796,"src":"12518:23:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53746,"name":"uint256","nodeType":"ElementaryTypeName","src":"12518:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53757,"initialValue":{"arguments":[{"arguments":[{"id":53754,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"12576:4:82","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$53798","typeString":"contract StabilizerEscrow"}],"id":53753,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12568:7:82","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":53752,"name":"address","nodeType":"ElementaryTypeName","src":"12568:7:82","typeDescriptions":{}}},"id":53755,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12568:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":53749,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53185,"src":"12551:5:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53748,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40358,"src":"12544:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$40358_$","typeString":"type(contract IERC20)"}},"id":53750,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12544:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$40358","typeString":"contract IERC20"}},"id":53751,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12558:9:82","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":40315,"src":"12544:23:82","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":53756,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12544:38:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12518:64:82"},{"assignments":[53759],"declarations":[{"constant":false,"id":53759,"mutability":"mutable","name":"trackedBalance","nameLocation":"12600:14:82","nodeType":"VariableDeclaration","scope":53796,"src":"12592:22:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53758,"name":"uint256","nodeType":"ElementaryTypeName","src":"12592:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53761,"initialValue":{"id":53760,"name":"unallocatedStETHBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53190,"src":"12617:23:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12592:48:82"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53762,"name":"physicalBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53747,"src":"12655:15:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":53763,"name":"trackedBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53759,"src":"12673:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12655:32:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53795,"nodeType":"IfStatement","src":"12651:308:82","trueBody":{"id":53794,"nodeType":"Block","src":"12689:270:82","statements":[{"assignments":[53766],"declarations":[{"constant":false,"id":53766,"mutability":"mutable","name":"excessAmount","nameLocation":"12711:12:82","nodeType":"VariableDeclaration","scope":53794,"src":"12703:20:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53765,"name":"uint256","nodeType":"ElementaryTypeName","src":"12703:7:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53770,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53769,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53767,"name":"physicalBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53747,"src":"12726:15:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53768,"name":"trackedBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53759,"src":"12744:14:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12726:32:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12703:55:82"},{"assignments":[53772],"declarations":[{"constant":false,"id":53772,"mutability":"mutable","name":"success","nameLocation":"12778:7:82","nodeType":"VariableDeclaration","scope":53794,"src":"12773:12:82","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53771,"name":"bool","nodeType":"ElementaryTypeName","src":"12773:4:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":53781,"initialValue":{"arguments":[{"expression":{"id":53777,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"12811:3:82","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53778,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12815:6:82","memberName":"sender","nodeType":"MemberAccess","src":"12811:10:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53779,"name":"excessAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53766,"src":"12823:12:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":53774,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53185,"src":"12795:5:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53773,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40358,"src":"12788:6:82","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$40358_$","typeString":"type(contract IERC20)"}},"id":53775,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12788:13:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$40358","typeString":"contract IERC20"}},"id":53776,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12802:8:82","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":40325,"src":"12788:22:82","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":53780,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12788:48:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"12773:63:82"},{"condition":{"id":53783,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"12854:8:82","subExpression":{"id":53782,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53772,"src":"12855:7:82","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53787,"nodeType":"IfStatement","src":"12850:37:82","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53784,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53164,"src":"12871:14:82","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53785,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12871:16:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53786,"nodeType":"RevertStatement","src":"12864:23:82"}},{"eventCall":{"arguments":[{"expression":{"id":53789,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"12923:3:82","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":53790,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12927:6:82","memberName":"sender","nodeType":"MemberAccess","src":"12923:10:82","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53791,"name":"excessAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53766,"src":"12935:12:82","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53788,"name":"ExcessWithdrawn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53176,"src":"12907:15:82","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":53792,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12907:41:82","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53793,"nodeType":"EmitStatement","src":"12902:46:82"}]}}]},"documentation":{"id":53729,"nodeType":"StructuredDocumentation","src":"11685:649:82","text":" @notice Allows the owner of the associated Stabilizer NFT to withdraw any stETH balance\n         that is in excess of the internally tracked `unallocatedStETHBalance`.\n @dev This function is the designated mechanism to handle discrepancies between the physical\n      stETH balance of this contract and the tracked `unallocatedStETHBalance`. Such a\n      discrepancy primarily arises from stETH rebasing (yield), which is not tracked in the\n      internal ledger for simplicity. This function allows the NFT owner to claim this yield\n      or recover any other funds sent directly to the escrow."},"functionSelector":"878a672c","implemented":true,"kind":"function","modifiers":[],"name":"withdrawExcessStEthBalance","nameLocation":"12348:26:82","parameters":{"id":53730,"nodeType":"ParameterList","parameters":[],"src":"12374:2:82"},"returnParameters":{"id":53731,"nodeType":"ParameterList","parameters":[],"src":"12386:0:82"},"scope":53798,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":53137,"name":"Initializable","nameLocations":["713:13:82"],"nodeType":"IdentifierPath","referencedDeclaration":36092,"src":"713:13:82"},"id":53138,"nodeType":"InheritanceSpecifier","src":"713:13:82"},{"baseName":{"id":53139,"name":"IStabilizerEscrow","nameLocations":["728:17:82"],"nodeType":"IdentifierPath","referencedDeclaration":58731,"src":"728:17:82"},"id":53140,"nodeType":"InheritanceSpecifier","src":"728:17:82"}],"canonicalName":"StabilizerEscrow","contractDependencies":[],"contractKind":"contract","documentation":{"id":53136,"nodeType":"StructuredDocumentation","src":"426:257:82","text":" @title StabilizerEscrow\n @notice A dedicated vault for a single Stabilizer NFT, holding and managing stETH collateral.\n @dev Deployed and controlled by the StabilizerNFT contract. Implements IStabilizerEscrow. Meant to be deployed as a clone."},"fullyImplemented":true,"linearizedBaseContracts":[53798,58731,38709,36092],"name":"StabilizerEscrow","nameLocation":"693:16:82","scope":53799,"usedErrors":[35841,35844,38679,38684,38689,38698,38703,38708,53142,53144,53152,53154,53156,53158,53160,53162,53164],"usedEvents":[35849,53170,53176,58672,58678,58684]}],"license":"MIT"},"id":82}