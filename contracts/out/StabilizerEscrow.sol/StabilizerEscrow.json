{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"MINIMUM_ESCROW_AMOUNT","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"approveAllocation","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"positionNFTAddress","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"deposit","inputs":[],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"initialize","inputs":[{"name":"_stabilizerNFT","type":"address","internalType":"address"},{"name":"_tokenId","type":"uint256","internalType":"uint256"},{"name":"_stETH","type":"address","internalType":"address"},{"name":"_lido","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"lido","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"stETH","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"stabilizerNFTContract","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"stabilizerOwner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"tokenId","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"unallocatedStETH","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"withdrawUnallocated","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AllocationApproved","inputs":[{"name":"spender","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"DepositReceived","inputs":[{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Initialized","inputs":[{"name":"version","type":"uint64","indexed":false,"internalType":"uint64"}],"anonymous":false},{"type":"event","name":"WithdrawalCompleted","inputs":[{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"DepositFailed","inputs":[]},{"type":"error","name":"ERC20InsufficientAllowance","inputs":[{"name":"spender","type":"address","internalType":"address"},{"name":"allowance","type":"uint256","internalType":"uint256"},{"name":"needed","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ERC20InsufficientBalance","inputs":[{"name":"sender","type":"address","internalType":"address"},{"name":"balance","type":"uint256","internalType":"uint256"},{"name":"needed","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ERC20InvalidApprover","inputs":[{"name":"approver","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidReceiver","inputs":[{"name":"receiver","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidSender","inputs":[{"name":"sender","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidSpender","inputs":[{"name":"spender","type":"address","internalType":"address"}]},{"type":"error","name":"InitialDepositFailed","inputs":[]},{"type":"error","name":"InsufficientEscrowAmount","inputs":[{"name":"currentBalance","type":"uint256","internalType":"uint256"},{"name":"depositAmount","type":"uint256","internalType":"uint256"},{"name":"minimumAmount","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InvalidInitialization","inputs":[]},{"type":"error","name":"NotInitializing","inputs":[]},{"type":"error","name":"TransferFailed","inputs":[]},{"type":"error","name":"ZeroAddress","inputs":[]},{"type":"error","name":"ZeroAmount","inputs":[]}],"bytecode":{"object":"0x6080604052348015600e575f5ffd5b5060156019565b60c9565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff161560685760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b039081161460c65780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b610bef806100d65f395ff3fe60806040526004361061009a575f3560e01c8063a901540011610062578063a901540014610151578063bec070d614610170578063c1fe3e481461018e578063d0e30db0146101ad578063ec60b9ab146101b5578063fbae0ade146101c9575f5ffd5b806317d70f7c1461009e57806323509a2d146100c6578063358394d8146100fd5780634f68ae751461011e5780637d0e9bba1461013d575b5f5ffd5b3480156100a9575f5ffd5b506100b360015481565b6040519081526020015b60405180910390f35b3480156100d1575f5ffd5b506003546100e5906001600160a01b031681565b6040516001600160a01b0390911681526020016100bd565b348015610108575f5ffd5b5061011c610117366004610a76565b6101e4565b005b348015610129575f5ffd5b5061011c610138366004610ac6565b610365565b348015610148575f5ffd5b506100e5610538565b34801561015c575f5ffd5b5061011c61016b366004610af4565b6105b1565b34801561017b575f5ffd5b505f546100e5906001600160a01b031681565b348015610199575f5ffd5b506002546100e5906001600160a01b031681565b61011c610811565b3480156101c0575f5ffd5b506100b36109cb565b3480156101d4575f5ffd5b506100b367016345785d8a000081565b5f6101ed610a35565b805490915060ff600160401b820416159067ffffffffffffffff165f811580156102145750825b90505f8267ffffffffffffffff1660011480156102305750303b155b90508115801561023e575080155b1561025c5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff19166001178555831561028657845460ff60401b1916600160401b1785555b6001600160a01b03891615806102a357506001600160a01b038716155b806102b557506001600160a01b038616155b156102d35760405163d92e233d60e01b815260040160405180910390fd5b5f80546001600160a01b03808c166001600160a01b03199283161790925560018a9055600280548a84169083161790556003805492891692909116919091179055831561035a57845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050505050565b5f546001600160a01b031633146103975760405162461bcd60e51b815260040161038e90610b0b565b60405180910390fd5b815f036103b757604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b0381166103de5760405163d92e233d60e01b815260040160405180910390fd5b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610424573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104489190610b42565b90508083111561047b5760405163391434e360e21b8152306004820152602481018290526044810184905260640161038e565b60025460405163095ea7b360e01b81526001600160a01b038481166004830152602482018690529091169063095ea7b3906044016020604051808303815f875af11580156104cb573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104ef9190610b59565b50816001600160a01b03167fd4ff9b9c0e7f96a5697a4d12df976cbce4f79f135c350cc8014ce7ecfe4ed25e8460405161052b91815260200190565b60405180910390a2505050565b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e9161056d9160040190815260200190565b602060405180830381865afa158015610588573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105ac9190610b7f565b905090565b5f546001600160a01b031633146105da5760405162461bcd60e51b815260040161038e90610b0b565b805f036105fa57604051631f2a200560e01b815260040160405180910390fd5b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610640573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106649190610b42565b9050808211156106975760405163391434e360e21b8152306004820152602481018290526044810183905260640161038e565b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e916106cc9160040190815260200190565b602060405180830381865afa1580156106e7573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061070b9190610b7f565b90506001600160a01b0381166107345760405163d92e233d60e01b815260040160405180910390fd5b60025460405163a9059cbb60e01b81526001600160a01b038381166004830152602482018690525f92169063a9059cbb906044016020604051808303815f875af1158015610784573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107a89190610b59565b9050806107c8576040516312171d8360e31b815260040160405180910390fd5b816001600160a01b03167f1a39b9c5044b9f0ff56c5951e30c1ebe24911353aafcceb9250e83a24fe158c48560405161080391815260200190565b60405180910390a250505050565b5f546001600160a01b0316331461083a5760405162461bcd60e51b815260040161038e90610b0b565b345f0361085a57604051631f2a200560e01b815260040160405180910390fd5b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa1580156108a0573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108c49190610b42565b905067016345785d8a00006108d93483610b9a565b101561090f5760405163015643f760e01b81526004810182905234602482015267016345785d8a0000604482015260640161038e565b60035460405163a1903eab60e01b81525f60048201526001600160a01b039091169063a1903eab90349060240160206040518083038185885af193505050508015610977575060408051601f3d908101601f1916820190925261097491810190610b42565b60015b610994576040516379cacff160e01b815260040160405180910390fd5b506040513481527fa1ab46d0e38f33a7b1f03853088a305927deb55c906370ff5d6d2bc732f150959060200160405180910390a150565b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610a11573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105ac9190610b42565b5f807ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005b92915050565b6001600160a01b0381168114610a73575f5ffd5b50565b5f5f5f5f60808587031215610a89575f5ffd5b8435610a9481610a5f565b9350602085013592506040850135610aab81610a5f565b91506060850135610abb81610a5f565b939692955090935050565b5f5f60408385031215610ad7575f5ffd5b823591506020830135610ae981610a5f565b809150509250929050565b5f60208284031215610b04575f5ffd5b5035919050565b6020808252601b908201527f43616c6c6572206973206e6f742053746162696c697a65724e46540000000000604082015260600190565b5f60208284031215610b52575f5ffd5b5051919050565b5f60208284031215610b69575f5ffd5b81518015158114610b78575f5ffd5b9392505050565b5f60208284031215610b8f575f5ffd5b8151610b7881610a5f565b80820180821115610a5957634e487b7160e01b5f52601160045260245ffdfea26469706673582212200705f80ee47e03ab3dbbcd601d0f50ecd90afdb96ac1bf8db796a0c3b42857ba64736f6c634300081d0033","sourceMap":"684:6713:78:-:0;;;1998:97;;;;;;;;;-1:-1:-1;2022:22:78;:20;:22::i;:::-;684:6713;;7711:422:20;3147:66;7900:15;;;;;;;7896:76;;;7938:23;;-1:-1:-1;;;7938:23:20;;;;;;;;;;;7896:76;7985:14;;-1:-1:-1;;;;;7985:14:20;;;:34;7981:146;;8035:33;;-1:-1:-1;;;;;;8035:33:20;-1:-1:-1;;;;;8035:33:20;;;;;8087:29;;158:50:103;;;8087:29:20;;146:2:103;131:18;8087:29:20;;;;;;;7981:146;7760:373;7711:422::o;14:200:103:-;684:6713:78;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361061009a575f3560e01c8063a901540011610062578063a901540014610151578063bec070d614610170578063c1fe3e481461018e578063d0e30db0146101ad578063ec60b9ab146101b5578063fbae0ade146101c9575f5ffd5b806317d70f7c1461009e57806323509a2d146100c6578063358394d8146100fd5780634f68ae751461011e5780637d0e9bba1461013d575b5f5ffd5b3480156100a9575f5ffd5b506100b360015481565b6040519081526020015b60405180910390f35b3480156100d1575f5ffd5b506003546100e5906001600160a01b031681565b6040516001600160a01b0390911681526020016100bd565b348015610108575f5ffd5b5061011c610117366004610a76565b6101e4565b005b348015610129575f5ffd5b5061011c610138366004610ac6565b610365565b348015610148575f5ffd5b506100e5610538565b34801561015c575f5ffd5b5061011c61016b366004610af4565b6105b1565b34801561017b575f5ffd5b505f546100e5906001600160a01b031681565b348015610199575f5ffd5b506002546100e5906001600160a01b031681565b61011c610811565b3480156101c0575f5ffd5b506100b36109cb565b3480156101d4575f5ffd5b506100b367016345785d8a000081565b5f6101ed610a35565b805490915060ff600160401b820416159067ffffffffffffffff165f811580156102145750825b90505f8267ffffffffffffffff1660011480156102305750303b155b90508115801561023e575080155b1561025c5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff19166001178555831561028657845460ff60401b1916600160401b1785555b6001600160a01b03891615806102a357506001600160a01b038716155b806102b557506001600160a01b038616155b156102d35760405163d92e233d60e01b815260040160405180910390fd5b5f80546001600160a01b03808c166001600160a01b03199283161790925560018a9055600280548a84169083161790556003805492891692909116919091179055831561035a57845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050505050565b5f546001600160a01b031633146103975760405162461bcd60e51b815260040161038e90610b0b565b60405180910390fd5b815f036103b757604051631f2a200560e01b815260040160405180910390fd5b6001600160a01b0381166103de5760405163d92e233d60e01b815260040160405180910390fd5b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610424573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104489190610b42565b90508083111561047b5760405163391434e360e21b8152306004820152602481018290526044810184905260640161038e565b60025460405163095ea7b360e01b81526001600160a01b038481166004830152602482018690529091169063095ea7b3906044016020604051808303815f875af11580156104cb573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104ef9190610b59565b50816001600160a01b03167fd4ff9b9c0e7f96a5697a4d12df976cbce4f79f135c350cc8014ce7ecfe4ed25e8460405161052b91815260200190565b60405180910390a2505050565b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e9161056d9160040190815260200190565b602060405180830381865afa158015610588573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105ac9190610b7f565b905090565b5f546001600160a01b031633146105da5760405162461bcd60e51b815260040161038e90610b0b565b805f036105fa57604051631f2a200560e01b815260040160405180910390fd5b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610640573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106649190610b42565b9050808211156106975760405163391434e360e21b8152306004820152602481018290526044810183905260640161038e565b5f80546001546040516331a9108f60e11b81526001600160a01b0390921691636352211e916106cc9160040190815260200190565b602060405180830381865afa1580156106e7573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061070b9190610b7f565b90506001600160a01b0381166107345760405163d92e233d60e01b815260040160405180910390fd5b60025460405163a9059cbb60e01b81526001600160a01b038381166004830152602482018690525f92169063a9059cbb906044016020604051808303815f875af1158015610784573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107a89190610b59565b9050806107c8576040516312171d8360e31b815260040160405180910390fd5b816001600160a01b03167f1a39b9c5044b9f0ff56c5951e30c1ebe24911353aafcceb9250e83a24fe158c48560405161080391815260200190565b60405180910390a250505050565b5f546001600160a01b0316331461083a5760405162461bcd60e51b815260040161038e90610b0b565b345f0361085a57604051631f2a200560e01b815260040160405180910390fd5b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa1580156108a0573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108c49190610b42565b905067016345785d8a00006108d93483610b9a565b101561090f5760405163015643f760e01b81526004810182905234602482015267016345785d8a0000604482015260640161038e565b60035460405163a1903eab60e01b81525f60048201526001600160a01b039091169063a1903eab90349060240160206040518083038185885af193505050508015610977575060408051601f3d908101601f1916820190925261097491810190610b42565b60015b610994576040516379cacff160e01b815260040160405180910390fd5b506040513481527fa1ab46d0e38f33a7b1f03853088a305927deb55c906370ff5d6d2bc732f150959060200160405180910390a150565b6002546040516370a0823160e01b81523060048201525f916001600160a01b0316906370a0823190602401602060405180830381865afa158015610a11573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105ac9190610b42565b5f807ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005b92915050565b6001600160a01b0381168114610a73575f5ffd5b50565b5f5f5f5f60808587031215610a89575f5ffd5b8435610a9481610a5f565b9350602085013592506040850135610aab81610a5f565b91506060850135610abb81610a5f565b939692955090935050565b5f5f60408385031215610ad7575f5ffd5b823591506020830135610ae981610a5f565b809150509250929050565b5f60208284031215610b04575f5ffd5b5035919050565b6020808252601b908201527f43616c6c6572206973206e6f742053746162696c697a65724e46540000000000604082015260600190565b5f60208284031215610b52575f5ffd5b5051919050565b5f60208284031215610b69575f5ffd5b81518015158114610b78575f5ffd5b9392505050565b5f60208284031215610b8f575f5ffd5b8151610b7881610a5f565b80820180821115610a5957634e487b7160e01b5f52601160045260245ffdfea26469706673582212200705f80ee47e03ab3dbbcd601d0f50ecd90afdb96ac1bf8db796a0c3b42857ba64736f6c634300081d0033","sourceMap":"684:6713:78:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1393:22;;;;;;;;;;;;;;;;;;;160:25:103;;;148:2;133:18;1393:22:78;;;;;;;;1643:19;;;;;;;;;;-1:-1:-1;1643:19:78;;;;-1:-1:-1;;;;;1643:19:78;;;;;;-1:-1:-1;;;;;360:32:103;;;342:51;;330:2;315:18;1643:19:78;196:203:103;2580:1308:78;;;;;;;;;;-1:-1:-1;2580:1308:78;;;;;:::i;:::-;;:::i;:::-;;4978:586;;;;;;;;;;-1:-1:-1;4978:586:78;;;;;:::i;:::-;;:::i;7265:130::-;;;;;;;;;;;;;:::i;5944:898::-;;;;;;;;;;-1:-1:-1;5944:898:78;;;;;:::i;:::-;;:::i;1308:36::-;;;;;;;;;;-1:-1:-1;1308:36:78;;;;-1:-1:-1;;;;;1308:36:78;;;1560:20;;;;;;;;;;-1:-1:-1;1560:20:78;;;;-1:-1:-1;;;;;1560:20:78;;;4101:573;;;:::i;7128:131::-;;;;;;;;;;;;;:::i;1245:57::-;;;;;;;;;;;;1293:9;1245:57;;2580:1308;4158:30:20;4191:26;:24;:26::i;:::-;4302:15;;4158:59;;-1:-1:-1;4302:15:20;-1:-1:-1;;;4302:15:20;;;4301:16;;4348:14;;4279:19;4726:16;;:34;;;;;4746:14;4726:34;4706:54;;4770:17;4790:11;:16;;4805:1;4790:16;:50;;;;-1:-1:-1;4818:4:20;4810:25;:30;4790:50;4770:70;;4856:12;4855:13;:30;;;;;4873:12;4872:13;4855:30;4851:91;;;4908:23;;-1:-1:-1;;;4908:23:20;;;;;;;;;;;4851:91;4951:18;;-1:-1:-1;;4951:18:20;4968:1;4951:18;;;4979:67;;;;5013:22;;-1:-1:-1;;;;5013:22:20;-1:-1:-1;;;5013:22:20;;;4979:67;-1:-1:-1;;;;;2928:28:78;::::1;::::0;;:52:::1;;-1:-1:-1::0;;;;;;2960:20:78;::::1;::::0;2928:52:::1;:75;;;-1:-1:-1::0;;;;;;2984:19:78;::::1;::::0;2928:75:::1;2924:126;;;3026:13;;-1:-1:-1::0;;;3026:13:78::1;;;;;;;;;;;2924:126;3229:21;:38:::0;;-1:-1:-1;;;;;3229:38:78;;::::1;-1:-1:-1::0;;;;;;3229:38:78;;::::1;;::::0;;;;3277:18;;;3362:5:::1;:14:::0;;;;::::1;::::0;;::::1;;::::0;;3386:4:::1;:12:::0;;;;::::1;::::0;;;::::1;::::0;;;::::1;::::0;;5066:101:20;;;;5100:23;;-1:-1:-1;;;;5100:23:20;;;5142:14;;-1:-1:-1;1951:50:103;;5142:14:20;;1939:2:103;1924:18;5142:14:20;;;;;;;5066:101;4092:1081;;;;;2580:1308:78;;;;:::o;4978:586::-;1861:21;;-1:-1:-1;;;;;1861:21:78;1847:10;:35;1843:78;;1884:37;;-1:-1:-1;;;1884:37:78;;;;;;;:::i;:::-;;;;;;;;1843:78;5090:6:::1;5100:1;5090:11:::0;5086:36:::1;;5110:12;;-1:-1:-1::0;;;5110:12:78::1;;;;;;;;;;;5086:36;-1:-1:-1::0;;;;;5136:32:78;::::1;5132:58;;5177:13;;-1:-1:-1::0;;;5177:13:78::1;;;;;;;;;;;5132:58;5233:5;::::0;5226:38:::1;::::0;-1:-1:-1;;;5226:38:78;;5258:4:::1;5226:38;::::0;::::1;342:51:103::0;5201:22:78::1;::::0;-1:-1:-1;;;;;5233:5:78::1;::::0;5226:23:::1;::::0;315:18:103;;5226:38:78::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5201:63;;5287:14;5278:6;:23;5274:99;;;5310:63;::::0;-1:-1:-1;;;5310:63:78;;5343:4:::1;5310:63;::::0;::::1;2759:51:103::0;2826:18;;;2819:34;;;2869:18;;;2862:34;;;2732:18;;5310:63:78::1;2557:345:103::0;5274:99:78::1;5440:5;::::0;5433:49:::1;::::0;-1:-1:-1;;;5433:49:78;;-1:-1:-1;;;;;3099:32:103;;;5433:49:78::1;::::0;::::1;3081:51:103::0;3148:18;;;3141:34;;;5440:5:78;;::::1;::::0;5433:21:::1;::::0;3054:18:103;;5433:49:78::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;5516:18;-1:-1:-1::0;;;;;5497:46:78::1;;5536:6;5497:46;;;;160:25:103::0;;148:2;133:18;;14:177;5497:46:78::1;;;;;;;;5076:488;4978:586:::0;;:::o;7265:130::-;7315:7;7349:21;;;7380:7;7341:47;;-1:-1:-1;;;7341:47:78;;-1:-1:-1;;;;;7349:21:78;;;;7341:38;;:47;;;;160:25:103;;;148:2;133:18;;14:177;7341:47:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;7334:54;;7265:130;:::o;5944:898::-;1861:21;;-1:-1:-1;;;;;1861:21:78;1847:10;:35;1843:78;;1884:37;;-1:-1:-1;;;1884:37:78;;;;;;;:::i;1843:78::-;6030:6:::1;6040:1;6030:11:::0;6026:36:::1;;6050:12;;-1:-1:-1::0;;;6050:12:78::1;;;;;;;;;;;6026:36;6104:5;::::0;6097:38:::1;::::0;-1:-1:-1;;;6097:38:78;;6129:4:::1;6097:38;::::0;::::1;342:51:103::0;6072:22:78::1;::::0;-1:-1:-1;;;;;6104:5:78::1;::::0;6097:23:::1;::::0;315:18:103;;6097:38:78::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6072:63;;6158:14;6149:6;:23;6145:99;;;6181:63;::::0;-1:-1:-1;;;6181:63:78;;6214:4:::1;6181:63;::::0;::::1;2759:51:103::0;2826:18;;;2819:34;;;2869:18;;;2862:34;;;2732:18;;6181:63:78::1;2557:345:103::0;6145:99:78::1;6347:20;6378:21:::0;;;6409:7;6370:47:::1;::::0;-1:-1:-1;;;6370:47:78;;-1:-1:-1;;;;;6378:21:78;;::::1;::::0;6370:38:::1;::::0;:47:::1;::::0;::::1;;160:25:103::0;;;148:2;133:18;;14:177;6370:47:78::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6347:70:::0;-1:-1:-1;;;;;;6453:26:78;::::1;6449:52;;6488:13;;-1:-1:-1::0;;;6488:13:78::1;;;;;;;;;;;6449:52;6618:5;::::0;6611:44:::1;::::0;-1:-1:-1;;;6611:44:78;;-1:-1:-1;;;;;3099:32:103;;;6611:44:78::1;::::0;::::1;3081:51:103::0;3148:18;;;3141:34;;;6596:12:78::1;::::0;6618:5:::1;::::0;6611:22:::1;::::0;3054:18:103;;6611:44:78::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6596:59;;6670:7;6665:37;;6686:16;;-1:-1:-1::0;;;6686:16:78::1;;;;;;;;;;;6665:37;6814:12;-1:-1:-1::0;;;;;6794:41:78::1;;6828:6;6794:41;;;;160:25:103::0;;148:2;133:18;;14:177;6794:41:78::1;;;;;;;;6016:826;;;5944:898:::0;:::o;4101:573::-;1861:21;;-1:-1:-1;;;;;1861:21:78;1847:10;:35;1843:78;;1884:37;;-1:-1:-1;;;1884:37:78;;;;;;;:::i;1843:78::-;4169:9:::1;4182:1;4169:14:::0;4165:39:::1;;4192:12;;-1:-1:-1::0;;;4192:12:78::1;;;;;;;;;;;4165:39;4247:5;::::0;4240:38:::1;::::0;-1:-1:-1;;;4240:38:78;;4272:4:::1;4240:38;::::0;::::1;342:51:103::0;4215:22:78::1;::::0;-1:-1:-1;;;;;4247:5:78::1;::::0;4240:23:::1;::::0;315:18:103;;4240:38:78::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4215:63:::0;-1:-1:-1;1293:9:78::1;4292:26;4309:9;4215:63:::0;4292:26:::1;:::i;:::-;:50;4288:162;;;4365:74;::::0;-1:-1:-1;;;4365:74:78;;::::1;::::0;::::1;4153:25:103::0;;;4406:9:78::1;4194:18:103::0;;;4187:34;1293:9:78::1;4237:18:103::0;;;4230:34;4126:18;;4365:74:78::1;3951:319:103::0;4288:162:78::1;4502:4;::::0;4496:48:::1;::::0;-1:-1:-1;;;4496:48:78;;4502:4:::1;4496:48;::::0;::::1;342:51:103::0;-1:-1:-1;;;;;4502:4:78;;::::1;::::0;4496:18:::1;::::0;4522:9:::1;::::0;315:18:103;;4496:48:78::1;;;;;;;;;;;;;;;;;;;;-1:-1:-1::0;4496:48:78::1;::::0;;::::1;;::::0;;::::1;-1:-1:-1::0;;4496:48:78::1;::::0;::::1;::::0;;;::::1;::::0;;::::1;::::0;::::1;:::i;:::-;;;4492:117;;4583:15;;-1:-1:-1::0;;;4583:15:78::1;;;;;;;;;;;4492:117;-1:-1:-1::0;4623:26:78::1;::::0;4639:9:::1;160:25:103::0;;4623:26:78::1;::::0;148:2:103;133:18;4623:26:78::1;;;;;;;4155:519;4101:573::o:0;7128:131::-;7221:5;;7214:38;;-1:-1:-1;;;7214:38:78;;7246:4;7214:38;;;342:51:103;7188:7:78;;-1:-1:-1;;;;;7221:5:78;;7214:23;;315:18:103;;7214:38:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;9073:205:20:-;9131:30;;3147:66;9188:27;9173:42;9073:205;-1:-1:-1;;9073:205:20:o;404:131:103:-;-1:-1:-1;;;;;479:31:103;;469:42;;459:70;;525:1;522;515:12;459:70;404:131;:::o;540:650::-;626:6;634;642;650;703:3;691:9;682:7;678:23;674:33;671:53;;;720:1;717;710:12;671:53;759:9;746:23;778:31;803:5;778:31;:::i;:::-;828:5;-1:-1:-1;906:2:103;891:18;;878:32;;-1:-1:-1;988:2:103;973:18;;960:32;1001:33;960:32;1001:33;:::i;:::-;1053:7;-1:-1:-1;1112:2:103;1097:18;;1084:32;1125:33;1084:32;1125:33;:::i;:::-;540:650;;;;-1:-1:-1;540:650:103;;-1:-1:-1;;540:650:103:o;1195:367::-;1263:6;1271;1324:2;1312:9;1303:7;1299:23;1295:32;1292:52;;;1340:1;1337;1330:12;1292:52;1385:23;;;-1:-1:-1;1484:2:103;1469:18;;1456:32;1497:33;1456:32;1497:33;:::i;:::-;1549:7;1539:17;;;1195:367;;;;;:::o;1567:226::-;1626:6;1679:2;1667:9;1658:7;1654:23;1650:32;1647:52;;;1695:1;1692;1685:12;1647:52;-1:-1:-1;1740:23:103;;1567:226;-1:-1:-1;1567:226:103:o;2012:351::-;2214:2;2196:21;;;2253:2;2233:18;;;2226:30;2292:29;2287:2;2272:18;;2265:57;2354:2;2339:18;;2012:351::o;2368:184::-;2438:6;2491:2;2479:9;2470:7;2466:23;2462:32;2459:52;;;2507:1;2504;2497:12;2459:52;-1:-1:-1;2530:16:103;;2368:184;-1:-1:-1;2368:184:103:o;3186:277::-;3253:6;3306:2;3294:9;3285:7;3281:23;3277:32;3274:52;;;3322:1;3319;3312:12;3274:52;3354:9;3348:16;3407:5;3400:13;3393:21;3386:5;3383:32;3373:60;;3429:1;3426;3419:12;3373:60;3452:5;3186:277;-1:-1:-1;;;3186:277:103:o;3468:251::-;3538:6;3591:2;3579:9;3570:7;3566:23;3562:32;3559:52;;;3607:1;3604;3597:12;3559:52;3639:9;3633:16;3658:31;3683:5;3658:31;:::i;3724:222::-;3789:9;;;3810:10;;;3807:133;;;3862:10;3857:3;3853:20;3850:1;3843:31;3897:4;3894:1;3887:15;3925:4;3922:1;3915:15","linkReferences":{}},"methodIdentifiers":{"MINIMUM_ESCROW_AMOUNT()":"fbae0ade","approveAllocation(uint256,address)":"4f68ae75","deposit()":"d0e30db0","initialize(address,uint256,address,address)":"358394d8","lido()":"23509a2d","stETH()":"c1fe3e48","stabilizerNFTContract()":"bec070d6","stabilizerOwner()":"7d0e9bba","tokenId()":"17d70f7c","unallocatedStETH()":"ec60b9ab","withdrawUnallocated(uint256)":"a9015400"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.29+commit.ab55807c\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"DepositFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"allowance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"needed\",\"type\":\"uint256\"}],\"name\":\"ERC20InsufficientAllowance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"needed\",\"type\":\"uint256\"}],\"name\":\"ERC20InsufficientBalance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"approver\",\"type\":\"address\"}],\"name\":\"ERC20InvalidApprover\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"ERC20InvalidReceiver\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"ERC20InvalidSender\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"ERC20InvalidSpender\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InitialDepositFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"currentBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minimumAmount\",\"type\":\"uint256\"}],\"name\":\"InsufficientEscrowAmount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidInitialization\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotInitializing\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TransferFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAmount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"AllocationApproved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"DepositReceived\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"version\",\"type\":\"uint64\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"WithdrawalCompleted\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"MINIMUM_ESCROW_AMOUNT\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"positionNFTAddress\",\"type\":\"address\"}],\"name\":\"approveAllocation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_stabilizerNFT\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stETH\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_lido\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lido\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stETH\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stabilizerNFTContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stabilizerOwner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"tokenId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unallocatedStETH\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdrawUnallocated\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Deployed and controlled by the StabilizerNFT contract. Implements IStabilizerEscrow. Meant to be deployed as a clone.\",\"errors\":{\"ERC20InsufficientAllowance(address,uint256,uint256)\":[{\"details\":\"Indicates a failure with the `spender`\\u2019s `allowance`. Used in transfers.\",\"params\":{\"allowance\":\"Amount of tokens a `spender` is allowed to operate with.\",\"needed\":\"Minimum amount required to perform a transfer.\",\"spender\":\"Address that may be allowed to operate on tokens without being their owner.\"}}],\"ERC20InsufficientBalance(address,uint256,uint256)\":[{\"details\":\"Indicates an error related to the current `balance` of a `sender`. Used in transfers.\",\"params\":{\"balance\":\"Current balance for the interacting account.\",\"needed\":\"Minimum amount required to perform a transfer.\",\"sender\":\"Address whose tokens are being transferred.\"}}],\"ERC20InvalidApprover(address)\":[{\"details\":\"Indicates a failure with the `approver` of a token to be approved. Used in approvals.\",\"params\":{\"approver\":\"Address initiating an approval operation.\"}}],\"ERC20InvalidReceiver(address)\":[{\"details\":\"Indicates a failure with the token `receiver`. Used in transfers.\",\"params\":{\"receiver\":\"Address to which tokens are being transferred.\"}}],\"ERC20InvalidSender(address)\":[{\"details\":\"Indicates a failure with the token `sender`. Used in transfers.\",\"params\":{\"sender\":\"Address whose tokens are being transferred.\"}}],\"ERC20InvalidSpender(address)\":[{\"details\":\"Indicates a failure with the `spender` to be approved. Used in approvals.\",\"params\":{\"spender\":\"Address that may be allowed to operate on tokens without being their owner.\"}}],\"InvalidInitialization()\":[{\"details\":\"The contract is already initialized.\"}],\"NotInitializing()\":[{\"details\":\"The contract is not initializing.\"}]},\"events\":{\"Initialized(uint64)\":{\"details\":\"Triggered when the contract has been initialized or reinitialized.\"}},\"kind\":\"dev\",\"methods\":{\"approveAllocation(uint256,address)\":{\"details\":\"Callable only by StabilizerNFT. Checks for sufficient balance.\",\"params\":{\"amount\":\"The amount of stETH to approve.\",\"positionNFTAddress\":\"The address of the PositionNFT contract.\"}},\"constructor\":{\"custom:oz-upgrades-unsafe-allow\":\"constructor\"},\"deposit()\":{\"details\":\"Stakes the received ETH into stETH. Callable only by StabilizerNFT.\"},\"initialize(address,uint256,address,address)\":{\"details\":\"Sets immutable addresses and the token ID. Meant to be called once after clone deployment.\",\"params\":{\"_lido\":\"The address of the Lido staking pool.\",\"_stETH\":\"The address of the stETH token.\",\"_stabilizerNFT\":\"The address of the controlling StabilizerNFT contract.\",\"_tokenId\":\"The ID of the Stabilizer NFT this escrow is associated with.\"}},\"unallocatedStETH()\":{\"details\":\"Renamed from the previous logic which subtracted allocated amount. Now just returns total balance.\",\"returns\":{\"_0\":\"The amount of stETH held by the escrow.\"}},\"withdrawUnallocated(uint256)\":{\"details\":\"Callable only by StabilizerNFT. Uses stored `tokenId` to fetch current owner. Checks against total balance.\",\"params\":{\"amount\":\"The amount of stETH to withdraw.\"}}},\"title\":\"StabilizerEscrow\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"approveAllocation(uint256,address)\":{\"notice\":\"Approves the PositionNFT contract to spend stETH for allocation.\"},\"deposit()\":{\"notice\":\"Receives additional ETH deposits forwarded by StabilizerNFT.\"},\"initialize(address,uint256,address,address)\":{\"notice\":\"Initializes the escrow contract state.\"},\"unallocatedStETH()\":{\"notice\":\"Returns the current stETH balance of this contract.\"},\"withdrawUnallocated(uint256)\":{\"notice\":\"Withdraws unallocated stETH to the current owner of the associated Stabilizer NFT.\"}},\"notice\":\"A dedicated vault for a single Stabilizer NFT, holding and managing stETH collateral.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/StabilizerEscrow.sol\":\"StabilizerEscrow\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":chainlink/=lib/chainlink/\",\":createx/=lib/createx/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/\",\":solady/=lib/createx/lib/solady/src/\",\":uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/\",\":uniswap-v3-core/=lib/uniswap-v3-core/\"]},\"sources\":{\"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol\":{\"keccak256\":\"0xe62b887bd4460c77222e1c806362b72462ddb13e224ba3a759ad1a23fe6ea22a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b34213dbcea29166c5b77c8aa48908db812bf55ff501f89bc0e8e6e4dd7c8e2b\",\"dweb:/ipfs/QmZ7HaZLMseqKhUL5cUM2dfWp6Xy8HGME6kA3iDM4E5QV3\"]},\"lib/openzeppelin-contracts/contracts/interfaces/draft-IERC6093.sol\":{\"keccak256\":\"0x880da465c203cec76b10d72dbd87c80f387df4102274f23eea1f9c9b0918792b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://399594cd8bb0143bc9e55e0f1d071d0d8c850a394fb7a319d50edd55d9ed822b\",\"dweb:/ipfs/QmbPZzgtT6LEm9CMqWfagQFwETbV1ztpECBB1DtQHrKiRz\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6b7f97c5960a50fd1822cb298551ffc908e37b7893a68d6d08bce18a11cb0f11\",\"dweb:/ipfs/QmQQvxBytoY1eBt3pRQDmvH2hZ2yjhs12YqVfzGm7KSURq\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"src/StabilizerEscrow.sol\":{\"keccak256\":\"0x00fe1251faf126908e0a7941b7f7be0fd037872603a172da0f84c279f7ae79c0\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2d2868516206b45903b3075d6389e0900bdf2a4b3e6fd3b82d5f8daef884b4fc\",\"dweb:/ipfs/QmfAPp8Kc1s6cBPP9YqXbta5ueVjm7TarNUDwE1dkkxyL7\"]},\"src/interfaces/ILido.sol\":{\"keccak256\":\"0xf33bd94f14a562f32ceaf9211a3b7084e4e225cc548b91db3e611637dec29a8d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e71f220455796f3f19855e3d89ae8a0674894bf19bc49adc430f7afaec36a22a\",\"dweb:/ipfs/QmcQ56JKRECKQcPyXXQwUxrAyrHnA88swjyPaK7AULHW9v\"]},\"src/interfaces/IStabilizerEscrow.sol\":{\"keccak256\":\"0x0d3320540d9110a729122d55f960c528c33175dc1e215ddcf7b13746594675b7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://25ff9e04a125d604b19ac1db8ce057b6cfa44bcd7ecfac30e13cc3e789a10be6\",\"dweb:/ipfs/QmekC6jtXeyBCMA8xq12iCJTa5ub7MeYvMA74Kdu2jX2ju\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.29+commit.ab55807c"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"DepositFailed"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"type":"error","name":"ERC20InsufficientAllowance"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"type":"error","name":"ERC20InsufficientBalance"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"type":"error","name":"ERC20InvalidApprover"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"type":"error","name":"ERC20InvalidReceiver"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"type":"error","name":"ERC20InvalidSender"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"type":"error","name":"ERC20InvalidSpender"},{"inputs":[],"type":"error","name":"InitialDepositFailed"},{"inputs":[{"internalType":"uint256","name":"currentBalance","type":"uint256"},{"internalType":"uint256","name":"depositAmount","type":"uint256"},{"internalType":"uint256","name":"minimumAmount","type":"uint256"}],"type":"error","name":"InsufficientEscrowAmount"},{"inputs":[],"type":"error","name":"InvalidInitialization"},{"inputs":[],"type":"error","name":"NotInitializing"},{"inputs":[],"type":"error","name":"TransferFailed"},{"inputs":[],"type":"error","name":"ZeroAddress"},{"inputs":[],"type":"error","name":"ZeroAmount"},{"inputs":[{"internalType":"address","name":"spender","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"AllocationApproved","anonymous":false},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"DepositReceived","anonymous":false},{"inputs":[{"internalType":"uint64","name":"version","type":"uint64","indexed":false}],"type":"event","name":"Initialized","anonymous":false},{"inputs":[{"internalType":"address","name":"recipient","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"WithdrawalCompleted","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"MINIMUM_ESCROW_AMOUNT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"positionNFTAddress","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"approveAllocation"},{"inputs":[],"stateMutability":"payable","type":"function","name":"deposit"},{"inputs":[{"internalType":"address","name":"_stabilizerNFT","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"address","name":"_stETH","type":"address"},{"internalType":"address","name":"_lido","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[],"stateMutability":"view","type":"function","name":"lido","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"stETH","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"stabilizerNFTContract","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"stabilizerOwner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"tokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"unallocatedStETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"withdrawUnallocated"}],"devdoc":{"kind":"dev","methods":{"approveAllocation(uint256,address)":{"details":"Callable only by StabilizerNFT. Checks for sufficient balance.","params":{"amount":"The amount of stETH to approve.","positionNFTAddress":"The address of the PositionNFT contract."}},"constructor":{"custom:oz-upgrades-unsafe-allow":"constructor"},"deposit()":{"details":"Stakes the received ETH into stETH. Callable only by StabilizerNFT."},"initialize(address,uint256,address,address)":{"details":"Sets immutable addresses and the token ID. Meant to be called once after clone deployment.","params":{"_lido":"The address of the Lido staking pool.","_stETH":"The address of the stETH token.","_stabilizerNFT":"The address of the controlling StabilizerNFT contract.","_tokenId":"The ID of the Stabilizer NFT this escrow is associated with."}},"unallocatedStETH()":{"details":"Renamed from the previous logic which subtracted allocated amount. Now just returns total balance.","returns":{"_0":"The amount of stETH held by the escrow."}},"withdrawUnallocated(uint256)":{"details":"Callable only by StabilizerNFT. Uses stored `tokenId` to fetch current owner. Checks against total balance.","params":{"amount":"The amount of stETH to withdraw."}}},"version":1},"userdoc":{"kind":"user","methods":{"approveAllocation(uint256,address)":{"notice":"Approves the PositionNFT contract to spend stETH for allocation."},"deposit()":{"notice":"Receives additional ETH deposits forwarded by StabilizerNFT."},"initialize(address,uint256,address,address)":{"notice":"Initializes the escrow contract state."},"unallocatedStETH()":{"notice":"Returns the current stETH balance of this contract."},"withdrawUnallocated(uint256)":{"notice":"Withdraws unallocated stETH to the current owner of the associated Stabilizer NFT."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","chainlink/=lib/chainlink/","createx/=lib/createx/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/","solady/=lib/createx/lib/solady/src/","uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/","uniswap-v3-core/=lib/uniswap-v3-core/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/StabilizerEscrow.sol":"StabilizerEscrow"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol":{"keccak256":"0xe62b887bd4460c77222e1c806362b72462ddb13e224ba3a759ad1a23fe6ea22a","urls":["bzz-raw://b34213dbcea29166c5b77c8aa48908db812bf55ff501f89bc0e8e6e4dd7c8e2b","dweb:/ipfs/QmZ7HaZLMseqKhUL5cUM2dfWp6Xy8HGME6kA3iDM4E5QV3"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/draft-IERC6093.sol":{"keccak256":"0x880da465c203cec76b10d72dbd87c80f387df4102274f23eea1f9c9b0918792b","urls":["bzz-raw://399594cd8bb0143bc9e55e0f1d071d0d8c850a394fb7a319d50edd55d9ed822b","dweb:/ipfs/QmbPZzgtT6LEm9CMqWfagQFwETbV1ztpECBB1DtQHrKiRz"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261","urls":["bzz-raw://6b7f97c5960a50fd1822cb298551ffc908e37b7893a68d6d08bce18a11cb0f11","dweb:/ipfs/QmQQvxBytoY1eBt3pRQDmvH2hZ2yjhs12YqVfzGm7KSURq"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"src/StabilizerEscrow.sol":{"keccak256":"0x00fe1251faf126908e0a7941b7f7be0fd037872603a172da0f84c279f7ae79c0","urls":["bzz-raw://2d2868516206b45903b3075d6389e0900bdf2a4b3e6fd3b82d5f8daef884b4fc","dweb:/ipfs/QmfAPp8Kc1s6cBPP9YqXbta5ueVjm7TarNUDwE1dkkxyL7"],"license":"MIT"},"src/interfaces/ILido.sol":{"keccak256":"0xf33bd94f14a562f32ceaf9211a3b7084e4e225cc548b91db3e611637dec29a8d","urls":["bzz-raw://e71f220455796f3f19855e3d89ae8a0674894bf19bc49adc430f7afaec36a22a","dweb:/ipfs/QmcQ56JKRECKQcPyXXQwUxrAyrHnA88swjyPaK7AULHW9v"],"license":"MIT"},"src/interfaces/IStabilizerEscrow.sol":{"keccak256":"0x0d3320540d9110a729122d55f960c528c33175dc1e215ddcf7b13746594675b7","urls":["bzz-raw://25ff9e04a125d604b19ac1db8ce057b6cfa44bcd7ecfac30e13cc3e789a10be6","dweb:/ipfs/QmekC6jtXeyBCMA8xq12iCJTa5ub7MeYvMA74Kdu2jX2ju"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[{"astId":54787,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"stabilizerNFTContract","offset":0,"slot":"0","type":"t_address"},{"astId":54789,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"tokenId","offset":0,"slot":"1","type":"t_uint256"},{"astId":54791,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"stETH","offset":0,"slot":"2","type":"t_address"},{"astId":54793,"contract":"src/StabilizerEscrow.sol:StabilizerEscrow","label":"lido","offset":0,"slot":"3","type":"t_address"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"ast":{"absolutePath":"src/StabilizerEscrow.sol","id":55117,"exportedSymbols":{"IERC165":[47119],"IERC20":[43805],"IERC20Errors":[42340],"IERC721":[44138],"ILido":[59504],"IStabilizerEscrow":[59880],"Initializable":[39723],"StabilizerEscrow":[55116]},"nodeType":"SourceUnit","src":"32:7366:78","nodes":[{"id":54753,"nodeType":"PragmaDirective","src":"32:23:78","nodes":[],"literals":["solidity","0.8",".29"]},{"id":54754,"nodeType":"ImportDirective","src":"57:72:78","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":55117,"sourceUnit":43806,"symbolAliases":[],"unitAlias":""},{"id":54755,"nodeType":"ImportDirective","src":"130:74:78","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","nameLocation":"-1:-1:-1","scope":55117,"sourceUnit":44139,"symbolAliases":[],"unitAlias":""},{"id":54757,"nodeType":"ImportDirective","src":"205:112:78","nodes":[],"absolutePath":"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol","file":"../lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol","nameLocation":"-1:-1:-1","scope":55117,"sourceUnit":39724,"symbolAliases":[{"foreign":{"id":54756,"name":"Initializable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39723,"src":"213:13:78","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":54758,"nodeType":"ImportDirective","src":"346:32:78","nodes":[],"absolutePath":"src/interfaces/ILido.sol","file":"./interfaces/ILido.sol","nameLocation":"-1:-1:-1","scope":55117,"sourceUnit":59505,"symbolAliases":[],"unitAlias":""},{"id":54759,"nodeType":"ImportDirective","src":"379:44:78","nodes":[],"absolutePath":"src/interfaces/IStabilizerEscrow.sol","file":"./interfaces/IStabilizerEscrow.sol","nameLocation":"-1:-1:-1","scope":55117,"sourceUnit":59881,"symbolAliases":[],"unitAlias":""},{"id":55116,"nodeType":"ContractDefinition","src":"684:6713:78","nodes":[{"id":54766,"nodeType":"ErrorDefinition","src":"803:20:78","nodes":[],"errorSelector":"d92e233d","name":"ZeroAddress","nameLocation":"809:11:78","parameters":{"id":54765,"nodeType":"ParameterList","parameters":[],"src":"820:2:78"}},{"id":54768,"nodeType":"ErrorDefinition","src":"828:19:78","nodes":[],"errorSelector":"1f2a2005","name":"ZeroAmount","nameLocation":"834:10:78","parameters":{"id":54767,"nodeType":"ParameterList","parameters":[],"src":"844:2:78"}},{"id":54776,"nodeType":"ErrorDefinition","src":"852:101:78","nodes":[],"errorSelector":"015643f7","name":"InsufficientEscrowAmount","nameLocation":"858:24:78","parameters":{"id":54775,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54770,"mutability":"mutable","name":"currentBalance","nameLocation":"891:14:78","nodeType":"VariableDeclaration","scope":54776,"src":"883:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54769,"name":"uint256","nodeType":"ElementaryTypeName","src":"883:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":54772,"mutability":"mutable","name":"depositAmount","nameLocation":"915:13:78","nodeType":"VariableDeclaration","scope":54776,"src":"907:21:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54771,"name":"uint256","nodeType":"ElementaryTypeName","src":"907:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":54774,"mutability":"mutable","name":"minimumAmount","nameLocation":"938:13:78","nodeType":"VariableDeclaration","scope":54776,"src":"930:21:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54773,"name":"uint256","nodeType":"ElementaryTypeName","src":"930:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"882:70:78"}},{"id":54778,"nodeType":"ErrorDefinition","src":"1044:29:78","nodes":[],"errorSelector":"4a76da80","name":"InitialDepositFailed","nameLocation":"1050:20:78","parameters":{"id":54777,"nodeType":"ParameterList","parameters":[],"src":"1070:2:78"}},{"id":54780,"nodeType":"ErrorDefinition","src":"1158:22:78","nodes":[],"errorSelector":"79cacff1","name":"DepositFailed","nameLocation":"1164:13:78","parameters":{"id":54779,"nodeType":"ParameterList","parameters":[],"src":"1177:2:78"}},{"id":54782,"nodeType":"ErrorDefinition","src":"1185:23:78","nodes":[],"errorSelector":"90b8ec18","name":"TransferFailed","nameLocation":"1191:14:78","parameters":{"id":54781,"nodeType":"ParameterList","parameters":[],"src":"1205:2:78"}},{"id":54785,"nodeType":"VariableDeclaration","src":"1245:57:78","nodes":[],"constant":true,"functionSelector":"fbae0ade","mutability":"constant","name":"MINIMUM_ESCROW_AMOUNT","nameLocation":"1269:21:78","scope":55116,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54783,"name":"uint256","nodeType":"ElementaryTypeName","src":"1245:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"302e31","id":54784,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1293:9:78","subdenomination":"ether","typeDescriptions":{"typeIdentifier":"t_rational_100000000000000000_by_1","typeString":"int_const 100000000000000000"},"value":"0.1"},"visibility":"public"},{"id":54787,"nodeType":"VariableDeclaration","src":"1308:36:78","nodes":[],"baseFunctions":[59843],"constant":false,"functionSelector":"bec070d6","mutability":"mutable","name":"stabilizerNFTContract","nameLocation":"1323:21:78","scope":55116,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54786,"name":"address","nodeType":"ElementaryTypeName","src":"1308:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":54789,"nodeType":"VariableDeclaration","src":"1393:22:78","nodes":[],"constant":false,"functionSelector":"17d70f7c","mutability":"mutable","name":"tokenId","nameLocation":"1408:7:78","scope":55116,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54788,"name":"uint256","nodeType":"ElementaryTypeName","src":"1393:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":54791,"nodeType":"VariableDeclaration","src":"1560:20:78","nodes":[],"baseFunctions":[59853],"constant":false,"functionSelector":"c1fe3e48","mutability":"mutable","name":"stETH","nameLocation":"1575:5:78","scope":55116,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54790,"name":"address","nodeType":"ElementaryTypeName","src":"1560:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":54793,"nodeType":"VariableDeclaration","src":"1643:19:78","nodes":[],"baseFunctions":[59858],"constant":false,"functionSelector":"23509a2d","mutability":"mutable","name":"lido","nameLocation":"1658:4:78","scope":55116,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54792,"name":"address","nodeType":"ElementaryTypeName","src":"1643:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":54806,"nodeType":"ModifierDefinition","src":"1804:135:78","nodes":[],"body":{"id":54805,"nodeType":"Block","src":"1833:106:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":54798,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":54795,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"1847:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54796,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1851:6:78","memberName":"sender","nodeType":"MemberAccess","src":"1847:10:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":54797,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54787,"src":"1861:21:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1847:35:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54803,"nodeType":"IfStatement","src":"1843:78:78","trueBody":{"expression":{"arguments":[{"hexValue":"43616c6c6572206973206e6f742053746162696c697a65724e4654","id":54800,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1891:29:78","typeDescriptions":{"typeIdentifier":"t_stringliteral_11c6ad4836ca3af14d2bc7f2a2ea2184915f6b2542b2a7f77f00ad05343d9d37","typeString":"literal_string \"Caller is not StabilizerNFT\""},"value":"Caller is not StabilizerNFT"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_11c6ad4836ca3af14d2bc7f2a2ea2184915f6b2542b2a7f77f00ad05343d9d37","typeString":"literal_string \"Caller is not StabilizerNFT\""}],"id":54799,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"1884:6:78","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":54801,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1884:37:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":54802,"nodeType":"ExpressionStatement","src":"1884:37:78"}},{"id":54804,"nodeType":"PlaceholderStatement","src":"1931:1:78"}]},"name":"onlyStabilizerNFT","nameLocation":"1813:17:78","parameters":{"id":54794,"nodeType":"ParameterList","parameters":[],"src":"1830:2:78"},"virtual":false,"visibility":"internal"},{"id":54814,"nodeType":"FunctionDefinition","src":"1998:97:78","nodes":[],"body":{"id":54813,"nodeType":"Block","src":"2012:83:78","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":54810,"name":"_disableInitializers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39677,"src":"2022:20:78","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":54811,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2022:22:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":54812,"nodeType":"ExpressionStatement","src":"2022:22:78"}]},"documentation":{"id":54807,"nodeType":"StructuredDocumentation","src":"1945:48:78","text":"@custom:oz-upgrades-unsafe-allow constructor"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":54808,"nodeType":"ParameterList","parameters":[],"src":"2009:2:78"},"returnParameters":{"id":54809,"nodeType":"ParameterList","parameters":[],"src":"2012:0:78"},"scope":55116,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":54870,"nodeType":"FunctionDefinition","src":"2580:1308:78","nodes":[],"body":{"id":54869,"nodeType":"Block","src":"2853:1035:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":54847,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":54840,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":54833,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54828,"name":"_stabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54817,"src":"2928:14:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":54831,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2954:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":54830,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2946:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54829,"name":"address","nodeType":"ElementaryTypeName","src":"2946:7:78","typeDescriptions":{}}},"id":54832,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2946:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2928:28:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":54839,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54834,"name":"_stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54821,"src":"2960:6:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":54837,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2978:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":54836,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2970:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54835,"name":"address","nodeType":"ElementaryTypeName","src":"2970:7:78","typeDescriptions":{}}},"id":54838,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2970:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2960:20:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2928:52:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":54846,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54841,"name":"_lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54823,"src":"2984:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":54844,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3001:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":54843,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2993:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54842,"name":"address","nodeType":"ElementaryTypeName","src":"2993:7:78","typeDescriptions":{}}},"id":54845,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2993:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2984:19:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2928:75:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54852,"nodeType":"IfStatement","src":"2924:126:78","trueBody":{"id":54851,"nodeType":"Block","src":"3005:45:78","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54848,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54766,"src":"3026:11:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":54849,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3026:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54850,"nodeType":"RevertStatement","src":"3019:20:78"}]}},{"expression":{"id":54855,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":54853,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54787,"src":"3229:21:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":54854,"name":"_stabilizerNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54817,"src":"3253:14:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3229:38:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":54856,"nodeType":"ExpressionStatement","src":"3229:38:78"},{"expression":{"id":54859,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":54857,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54789,"src":"3277:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":54858,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54819,"src":"3287:8:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3277:18:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":54860,"nodeType":"ExpressionStatement","src":"3277:18:78"},{"expression":{"id":54863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":54861,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54791,"src":"3362:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":54862,"name":"_stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54821,"src":"3370:6:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3362:14:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":54864,"nodeType":"ExpressionStatement","src":"3362:14:78"},{"expression":{"id":54867,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":54865,"name":"lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54793,"src":"3386:4:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":54866,"name":"_lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54823,"src":"3393:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3386:12:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":54868,"nodeType":"ExpressionStatement","src":"3386:12:78"}]},"documentation":{"id":54815,"nodeType":"StructuredDocumentation","src":"2128:447:78","text":" @notice Initializes the escrow contract state.\n @param _stabilizerNFT The address of the controlling StabilizerNFT contract.\n @param _tokenId The ID of the Stabilizer NFT this escrow is associated with.\n @param _stETH The address of the stETH token.\n @param _lido The address of the Lido staking pool.\n @dev Sets immutable addresses and the token ID. Meant to be called once after clone deployment."},"functionSelector":"358394d8","implemented":true,"kind":"function","modifiers":[{"id":54826,"kind":"modifierInvocation","modifierName":{"id":54825,"name":"initializer","nameLocations":["2841:11:78"],"nodeType":"IdentifierPath","referencedDeclaration":39563,"src":"2841:11:78"},"nodeType":"ModifierInvocation","src":"2841:11:78"}],"name":"initialize","nameLocation":"2589:10:78","parameters":{"id":54824,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54817,"mutability":"mutable","name":"_stabilizerNFT","nameLocation":"2649:14:78","nodeType":"VariableDeclaration","scope":54870,"src":"2641:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54816,"name":"address","nodeType":"ElementaryTypeName","src":"2641:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":54819,"mutability":"mutable","name":"_tokenId","nameLocation":"2681:8:78","nodeType":"VariableDeclaration","scope":54870,"src":"2673:16:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54818,"name":"uint256","nodeType":"ElementaryTypeName","src":"2673:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":54821,"mutability":"mutable","name":"_stETH","nameLocation":"2796:6:78","nodeType":"VariableDeclaration","scope":54870,"src":"2788:14:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54820,"name":"address","nodeType":"ElementaryTypeName","src":"2788:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":54823,"mutability":"mutable","name":"_lido","nameLocation":"2820:5:78","nodeType":"VariableDeclaration","scope":54870,"src":"2812:13:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54822,"name":"address","nodeType":"ElementaryTypeName","src":"2812:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2599:232:78"},"returnParameters":{"id":54827,"nodeType":"ParameterList","parameters":[],"src":"2853:0:78"},"scope":55116,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":54937,"nodeType":"FunctionDefinition","src":"4101:573:78","nodes":[],"body":{"id":54936,"nodeType":"Block","src":"4155:519:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54879,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":54876,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4169:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54877,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4173:5:78","memberName":"value","nodeType":"MemberAccess","src":"4169:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":54878,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4182:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4169:14:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54883,"nodeType":"IfStatement","src":"4165:39:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54880,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54768,"src":"4192:10:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":54881,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4192:12:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54882,"nodeType":"RevertStatement","src":"4185:19:78"}},{"assignments":[54885],"declarations":[{"constant":false,"id":54885,"mutability":"mutable","name":"currentBalance","nameLocation":"4223:14:78","nodeType":"VariableDeclaration","scope":54936,"src":"4215:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54884,"name":"uint256","nodeType":"ElementaryTypeName","src":"4215:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":54895,"initialValue":{"arguments":[{"arguments":[{"id":54892,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"4272:4:78","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}],"id":54891,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4264:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54890,"name":"address","nodeType":"ElementaryTypeName","src":"4264:7:78","typeDescriptions":{}}},"id":54893,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4264:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":54887,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54791,"src":"4247:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":54886,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"4240:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":54888,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4240:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":54889,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4254:9:78","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":43762,"src":"4240:23:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":54894,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4240:38:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4215:63:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54901,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54899,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54896,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54885,"src":"4292:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":54897,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4309:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54898,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4313:5:78","memberName":"value","nodeType":"MemberAccess","src":"4309:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4292:26:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":54900,"name":"MINIMUM_ESCROW_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54785,"src":"4321:21:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4292:50:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54910,"nodeType":"IfStatement","src":"4288:162:78","trueBody":{"id":54909,"nodeType":"Block","src":"4344:106:78","statements":[{"errorCall":{"arguments":[{"id":54903,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54885,"src":"4390:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":54904,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4406:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54905,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4410:5:78","memberName":"value","nodeType":"MemberAccess","src":"4406:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":54906,"name":"MINIMUM_ESCROW_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54785,"src":"4417:21:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":54902,"name":"InsufficientEscrowAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54776,"src":"4365:24:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (uint256,uint256,uint256) pure returns (error)"}},"id":54907,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4365:74:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54908,"nodeType":"RevertStatement","src":"4358:81:78"}]}},{"clauses":[{"block":{"id":54923,"nodeType":"Block","src":"4545:2:78","statements":[]},"errorName":"","id":54924,"nodeType":"TryCatchClause","src":"4545:2:78"},{"block":{"id":54928,"nodeType":"Block","src":"4562:47:78","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54925,"name":"DepositFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54780,"src":"4583:13:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":54926,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4583:15:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54927,"nodeType":"RevertStatement","src":"4576:22:78"}]},"errorName":"","id":54929,"nodeType":"TryCatchClause","src":"4556:53:78"}],"externalCall":{"arguments":[{"arguments":[{"hexValue":"30","id":54920,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4541:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":54919,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4533:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54918,"name":"address","nodeType":"ElementaryTypeName","src":"4533:7:78","typeDescriptions":{}}},"id":54921,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4533:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":54912,"name":"lido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54793,"src":"4502:4:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":54911,"name":"ILido","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59504,"src":"4496:5:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ILido_$59504_$","typeString":"type(contract ILido)"}},"id":54913,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4496:11:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ILido_$59504","typeString":"contract ILido"}},"id":54914,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4508:6:78","memberName":"submit","nodeType":"MemberAccess","referencedDeclaration":59503,"src":"4496:18:78","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$","typeString":"function (address) payable external returns (uint256)"}},"id":54917,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"expression":{"id":54915,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4522:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54916,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4526:5:78","memberName":"value","nodeType":"MemberAccess","src":"4522:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"4496:36:78","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$returns$_t_uint256_$value","typeString":"function (address) payable external returns (uint256)"}},"id":54922,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4496:48:78","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":54930,"nodeType":"TryStatement","src":"4492:117:78"},{"eventCall":{"arguments":[{"expression":{"id":54932,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4639:3:78","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":54933,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4643:5:78","memberName":"value","nodeType":"MemberAccess","src":"4639:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":54931,"name":"DepositReceived","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59826,"src":"4623:15:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":54934,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4623:26:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":54935,"nodeType":"EmitStatement","src":"4618:31:78"}]},"baseFunctions":[59861],"documentation":{"id":54871,"nodeType":"StructuredDocumentation","src":"3929:167:78","text":" @notice Receives additional ETH deposits forwarded by StabilizerNFT.\n @dev Stakes the received ETH into stETH. Callable only by StabilizerNFT."},"functionSelector":"d0e30db0","implemented":true,"kind":"function","modifiers":[{"id":54874,"kind":"modifierInvocation","modifierName":{"id":54873,"name":"onlyStabilizerNFT","nameLocations":["4137:17:78"],"nodeType":"IdentifierPath","referencedDeclaration":54806,"src":"4137:17:78"},"nodeType":"ModifierInvocation","src":"4137:17:78"}],"name":"deposit","nameLocation":"4110:7:78","parameters":{"id":54872,"nodeType":"ParameterList","parameters":[],"src":"4117:2:78"},"returnParameters":{"id":54875,"nodeType":"ParameterList","parameters":[],"src":"4155:0:78"},"scope":55116,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":55003,"nodeType":"FunctionDefinition","src":"4978:586:78","nodes":[],"body":{"id":55002,"nodeType":"Block","src":"5076:488:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54949,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54947,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54940,"src":"5090:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":54948,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5100:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5090:11:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54953,"nodeType":"IfStatement","src":"5086:36:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54950,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54768,"src":"5110:10:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":54951,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5110:12:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54952,"nodeType":"RevertStatement","src":"5103:19:78"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":54959,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54954,"name":"positionNFTAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54942,"src":"5136:18:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":54957,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5166:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":54956,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5158:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54955,"name":"address","nodeType":"ElementaryTypeName","src":"5158:7:78","typeDescriptions":{}}},"id":54958,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5158:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5136:32:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54963,"nodeType":"IfStatement","src":"5132:58:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54960,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54766,"src":"5177:11:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":54961,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5177:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54962,"nodeType":"RevertStatement","src":"5170:20:78"}},{"assignments":[54965],"declarations":[{"constant":false,"id":54965,"mutability":"mutable","name":"currentBalance","nameLocation":"5209:14:78","nodeType":"VariableDeclaration","scope":55002,"src":"5201:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54964,"name":"uint256","nodeType":"ElementaryTypeName","src":"5201:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":54975,"initialValue":{"arguments":[{"arguments":[{"id":54972,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"5258:4:78","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}],"id":54971,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5250:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54970,"name":"address","nodeType":"ElementaryTypeName","src":"5250:7:78","typeDescriptions":{}}},"id":54973,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5250:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":54967,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54791,"src":"5233:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":54966,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"5226:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":54968,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5226:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":54969,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5240:9:78","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":43762,"src":"5226:23:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":54974,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5226:38:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5201:63:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54978,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54976,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54940,"src":"5278:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":54977,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54965,"src":"5287:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5278:23:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54988,"nodeType":"IfStatement","src":"5274:99:78","trueBody":{"errorCall":{"arguments":[{"arguments":[{"id":54982,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"5343:4:78","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}],"id":54981,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5335:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":54980,"name":"address","nodeType":"ElementaryTypeName","src":"5335:7:78","typeDescriptions":{}}},"id":54983,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5335:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":54984,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54965,"src":"5350:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":54985,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54940,"src":"5366:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":54979,"name":"ERC20InsufficientBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42310,"src":"5310:24:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (address,uint256,uint256) pure returns (error)"}},"id":54986,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5310:63:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54987,"nodeType":"RevertStatement","src":"5303:70:78"}},{"expression":{"arguments":[{"id":54993,"name":"positionNFTAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54942,"src":"5455:18:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":54994,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54940,"src":"5475:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":54990,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54791,"src":"5440:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":54989,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"5433:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":54991,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5433:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":54992,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5447:7:78","memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":43792,"src":"5433:21:78","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":54995,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5433:49:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54996,"nodeType":"ExpressionStatement","src":"5433:49:78"},{"eventCall":{"arguments":[{"id":54998,"name":"positionNFTAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54942,"src":"5516:18:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":54999,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54940,"src":"5536:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":54997,"name":"AllocationApproved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59832,"src":"5497:18:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":55000,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5497:46:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55001,"nodeType":"EmitStatement","src":"5492:51:78"}]},"baseFunctions":[59868],"documentation":{"id":54938,"nodeType":"StructuredDocumentation","src":"4680:293:78","text":" @notice Approves the PositionNFT contract to spend stETH for allocation.\n @param amount The amount of stETH to approve.\n @param positionNFTAddress The address of the PositionNFT contract.\n @dev Callable only by StabilizerNFT. Checks for sufficient balance."},"functionSelector":"4f68ae75","implemented":true,"kind":"function","modifiers":[{"id":54945,"kind":"modifierInvocation","modifierName":{"id":54944,"name":"onlyStabilizerNFT","nameLocations":["5058:17:78"],"nodeType":"IdentifierPath","referencedDeclaration":54806,"src":"5058:17:78"},"nodeType":"ModifierInvocation","src":"5058:17:78"}],"name":"approveAllocation","nameLocation":"4987:17:78","parameters":{"id":54943,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54940,"mutability":"mutable","name":"amount","nameLocation":"5013:6:78","nodeType":"VariableDeclaration","scope":55003,"src":"5005:14:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54939,"name":"uint256","nodeType":"ElementaryTypeName","src":"5005:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":54942,"mutability":"mutable","name":"positionNFTAddress","nameLocation":"5029:18:78","nodeType":"VariableDeclaration","scope":55003,"src":"5021:26:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":54941,"name":"address","nodeType":"ElementaryTypeName","src":"5021:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5004:44:78"},"returnParameters":{"id":54946,"nodeType":"ParameterList","parameters":[],"src":"5076:0:78"},"scope":55116,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":55084,"nodeType":"FunctionDefinition","src":"5944:898:78","nodes":[],"body":{"id":55083,"nodeType":"Block","src":"6016:826:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55013,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55011,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55006,"src":"6030:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":55012,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6040:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6030:11:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55017,"nodeType":"IfStatement","src":"6026:36:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55014,"name":"ZeroAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54768,"src":"6050:10:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55015,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6050:12:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55016,"nodeType":"RevertStatement","src":"6043:19:78"}},{"assignments":[55019],"declarations":[{"constant":false,"id":55019,"mutability":"mutable","name":"currentBalance","nameLocation":"6080:14:78","nodeType":"VariableDeclaration","scope":55083,"src":"6072:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55018,"name":"uint256","nodeType":"ElementaryTypeName","src":"6072:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":55029,"initialValue":{"arguments":[{"arguments":[{"id":55026,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"6129:4:78","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}],"id":55025,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6121:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55024,"name":"address","nodeType":"ElementaryTypeName","src":"6121:7:78","typeDescriptions":{}}},"id":55027,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6121:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":55021,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54791,"src":"6104:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55020,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"6097:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":55022,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6097:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":55023,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6111:9:78","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":43762,"src":"6097:23:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":55028,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6097:38:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6072:63:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":55032,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55030,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55006,"src":"6149:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":55031,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55019,"src":"6158:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6149:23:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55042,"nodeType":"IfStatement","src":"6145:99:78","trueBody":{"errorCall":{"arguments":[{"arguments":[{"id":55036,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"6214:4:78","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}],"id":55035,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6206:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55034,"name":"address","nodeType":"ElementaryTypeName","src":"6206:7:78","typeDescriptions":{}}},"id":55037,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6206:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55038,"name":"currentBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55019,"src":"6221:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":55039,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55006,"src":"6237:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55033,"name":"ERC20InsufficientBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42310,"src":"6181:24:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$_t_uint256_$returns$_t_error_$","typeString":"function (address,uint256,uint256) pure returns (error)"}},"id":55040,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6181:63:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55041,"nodeType":"RevertStatement","src":"6174:70:78"}},{"assignments":[55044],"declarations":[{"constant":false,"id":55044,"mutability":"mutable","name":"currentOwner","nameLocation":"6355:12:78","nodeType":"VariableDeclaration","scope":55083,"src":"6347:20:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":55043,"name":"address","nodeType":"ElementaryTypeName","src":"6347:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":55051,"initialValue":{"arguments":[{"id":55049,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54789,"src":"6409:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":55046,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54787,"src":"6378:21:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55045,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44138,"src":"6370:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$44138_$","typeString":"type(contract IERC721)"}},"id":55047,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6370:30:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$44138","typeString":"contract IERC721"}},"id":55048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6401:7:78","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":44071,"src":"6370:38:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":55050,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6370:47:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"6347:70:78"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":55057,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":55052,"name":"currentOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55044,"src":"6453:12:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":55055,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6477:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":55054,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6469:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55053,"name":"address","nodeType":"ElementaryTypeName","src":"6469:7:78","typeDescriptions":{}}},"id":55056,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6469:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6453:26:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55061,"nodeType":"IfStatement","src":"6449:52:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55058,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54766,"src":"6488:11:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55059,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6488:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55060,"nodeType":"RevertStatement","src":"6481:20:78"}},{"assignments":[55063],"declarations":[{"constant":false,"id":55063,"mutability":"mutable","name":"success","nameLocation":"6601:7:78","nodeType":"VariableDeclaration","scope":55083,"src":"6596:12:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":55062,"name":"bool","nodeType":"ElementaryTypeName","src":"6596:4:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":55071,"initialValue":{"arguments":[{"id":55068,"name":"currentOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55044,"src":"6634:12:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55069,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55006,"src":"6648:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":55065,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54791,"src":"6618:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55064,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"6611:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":55066,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6611:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":55067,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6625:8:78","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":43772,"src":"6611:22:78","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":55070,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6611:44:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"6596:59:78"},{"condition":{"id":55073,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"6669:8:78","subExpression":{"id":55072,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55063,"src":"6670:7:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":55077,"nodeType":"IfStatement","src":"6665:37:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":55074,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54782,"src":"6686:14:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":55075,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6686:16:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":55076,"nodeType":"RevertStatement","src":"6679:23:78"}},{"eventCall":{"arguments":[{"id":55079,"name":"currentOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55044,"src":"6814:12:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":55080,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55006,"src":"6828:6:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":55078,"name":"WithdrawalCompleted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59838,"src":"6794:19:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":55081,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6794:41:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55082,"nodeType":"EmitStatement","src":"6789:46:78"}]},"baseFunctions":[59873],"documentation":{"id":55004,"nodeType":"StructuredDocumentation","src":"5656:283:78","text":" @notice Withdraws unallocated stETH to the current owner of the associated Stabilizer NFT.\n @param amount The amount of stETH to withdraw.\n @dev Callable only by StabilizerNFT. Uses stored `tokenId` to fetch current owner. Checks against total balance."},"functionSelector":"a9015400","implemented":true,"kind":"function","modifiers":[{"id":55009,"kind":"modifierInvocation","modifierName":{"id":55008,"name":"onlyStabilizerNFT","nameLocations":["5998:17:78"],"nodeType":"IdentifierPath","referencedDeclaration":54806,"src":"5998:17:78"},"nodeType":"ModifierInvocation","src":"5998:17:78"}],"name":"withdrawUnallocated","nameLocation":"5953:19:78","parameters":{"id":55007,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55006,"mutability":"mutable","name":"amount","nameLocation":"5981:6:78","nodeType":"VariableDeclaration","scope":55084,"src":"5973:14:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55005,"name":"uint256","nodeType":"ElementaryTypeName","src":"5973:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5972:16:78"},"returnParameters":{"id":55010,"nodeType":"ParameterList","parameters":[],"src":"6016:0:78"},"scope":55116,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":55102,"nodeType":"FunctionDefinition","src":"7128:131:78","nodes":[],"body":{"id":55101,"nodeType":"Block","src":"7197:62:78","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"id":55097,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"7246:4:78","typeDescriptions":{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StabilizerEscrow_$55116","typeString":"contract StabilizerEscrow"}],"id":55096,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7238:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":55095,"name":"address","nodeType":"ElementaryTypeName","src":"7238:7:78","typeDescriptions":{}}},"id":55098,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7238:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":55092,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54791,"src":"7221:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55091,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43805,"src":"7214:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$43805_$","typeString":"type(contract IERC20)"}},"id":55093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7214:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$43805","typeString":"contract IERC20"}},"id":55094,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7228:9:78","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":43762,"src":"7214:23:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":55099,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7214:38:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":55090,"id":55100,"nodeType":"Return","src":"7207:45:78"}]},"baseFunctions":[59879],"documentation":{"id":55085,"nodeType":"StructuredDocumentation","src":"6879:244:78","text":" @notice Returns the current stETH balance of this contract.\n @dev Renamed from the previous logic which subtracted allocated amount. Now just returns total balance.\n @return The amount of stETH held by the escrow."},"functionSelector":"ec60b9ab","implemented":true,"kind":"function","modifiers":[],"name":"unallocatedStETH","nameLocation":"7137:16:78","overrides":{"id":55087,"nodeType":"OverrideSpecifier","overrides":[],"src":"7170:8:78"},"parameters":{"id":55086,"nodeType":"ParameterList","parameters":[],"src":"7153:2:78"},"returnParameters":{"id":55090,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55089,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":55102,"src":"7188:7:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":55088,"name":"uint256","nodeType":"ElementaryTypeName","src":"7188:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7187:9:78"},"scope":55116,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":55115,"nodeType":"FunctionDefinition","src":"7265:130:78","nodes":[],"body":{"id":55114,"nodeType":"Block","src":"7324:71:78","nodes":[],"statements":[{"expression":{"arguments":[{"id":55111,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54789,"src":"7380:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":55108,"name":"stabilizerNFTContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54787,"src":"7349:21:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":55107,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44138,"src":"7341:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$44138_$","typeString":"type(contract IERC721)"}},"id":55109,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7341:30:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$44138","typeString":"contract IERC721"}},"id":55110,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7372:7:78","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":44071,"src":"7341:38:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":55112,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7341:47:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":55106,"id":55113,"nodeType":"Return","src":"7334:54:78"}]},"baseFunctions":[59848],"functionSelector":"7d0e9bba","implemented":true,"kind":"function","modifiers":[],"name":"stabilizerOwner","nameLocation":"7274:15:78","parameters":{"id":55103,"nodeType":"ParameterList","parameters":[],"src":"7289:2:78"},"returnParameters":{"id":55106,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55105,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":55115,"src":"7315:7:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":55104,"name":"address","nodeType":"ElementaryTypeName","src":"7315:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7314:9:78"},"scope":55116,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":54761,"name":"Initializable","nameLocations":["713:13:78"],"nodeType":"IdentifierPath","referencedDeclaration":39723,"src":"713:13:78"},"id":54762,"nodeType":"InheritanceSpecifier","src":"713:13:78"},{"baseName":{"id":54763,"name":"IStabilizerEscrow","nameLocations":["728:17:78"],"nodeType":"IdentifierPath","referencedDeclaration":59880,"src":"728:17:78"},"id":54764,"nodeType":"InheritanceSpecifier","src":"728:17:78"}],"canonicalName":"StabilizerEscrow","contractDependencies":[],"contractKind":"contract","documentation":{"id":54760,"nodeType":"StructuredDocumentation","src":"426:257:78","text":" @title StabilizerEscrow\n @notice A dedicated vault for a single Stabilizer NFT, holding and managing stETH collateral.\n @dev Deployed and controlled by the StabilizerNFT contract. Implements IStabilizerEscrow. Meant to be deployed as a clone."},"fullyImplemented":true,"linearizedBaseContracts":[55116,59880,42340,39723],"name":"StabilizerEscrow","nameLocation":"693:16:78","scope":55117,"usedErrors":[39472,39475,42310,42315,42320,42329,42334,42339,54766,54768,54776,54778,54780,54782],"usedEvents":[39480,59826,59832,59838]}],"license":"MIT"},"id":78}