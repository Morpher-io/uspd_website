{"abi":[{"type":"constructor","inputs":[{"name":"_stETHAddress","type":"address","internalType":"address"},{"name":"_admin","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"DEFAULT_ADMIN_ROLE","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"FACTOR_PRECISION","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAINNET_CHAIN_ID","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAINNET_TEST_CHAIN_ID","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"YIELD_FACTOR_UPDATER_ROLE","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"getRoleAdmin","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"getYieldFactor","inputs":[],"outputs":[{"name":"yieldFactor","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"grantRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"hasRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"initialEthEquivalentPerShare","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"renounceRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"callerConfirmation","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"revokeRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"rewardsYieldBooster","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IRewardsYieldBooster"}],"stateMutability":"view"},{"type":"function","name":"setRewardsYieldBooster","inputs":[{"name":"_boosterAddress","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"stETH","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"supportsInterface","inputs":[{"name":"interfaceId","type":"bytes4","internalType":"bytes4"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"updateL2YieldFactor","inputs":[{"name":"newYieldFactor","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"RewardsYieldBoosterUpdated","inputs":[{"name":"oldBooster","type":"address","indexed":true,"internalType":"address"},{"name":"newBooster","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"RoleAdminChanged","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"previousAdminRole","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"newAdminRole","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"RoleGranted","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"sender","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"RoleRevoked","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"sender","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"YieldFactorUpdated","inputs":[{"name":"oldYieldFactor","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newYieldFactor","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AccessControlBadConfirmation","inputs":[]},{"type":"error","name":"AccessControlUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"neededRole","type":"bytes32","internalType":"bytes32"}]},{"type":"error","name":"InitialRateZero","inputs":[]},{"type":"error","name":"NotL1Chain","inputs":[]},{"type":"error","name":"NotL2Chain","inputs":[]},{"type":"error","name":"StEthAddressZero","inputs":[]},{"type":"error","name":"YieldFactorDecreaseNotAllowed","inputs":[]}],"bytecode":{"object":"0x60c060405234801561000f575f5ffd5b50604051610b33380380610b3383398101604081905261002e91610224565b6100385f82610160565b50600146148061004a575062aa36a746145b15610118576001600160a01b0382166100795760405160016203b73b60e21b0319815260040160405180910390fd5b6001600160a01b0382166080819052604051630f451f7160e31b8152670de0b6b3a764000060048201525f9190637a28fb8890602401602060405180830381865afa1580156100ca573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906100ee9190610255565b9050805f036101105760405163afe6d04360e01b815260040160405180910390fd5b60a052610159565b5f608081905260a052670de0b6b3a76400006001556101577f6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f243982610160565b505b505061026c565b5f828152602081815260408083206001600160a01b038516845290915281205460ff16610200575f838152602081815260408083206001600160a01b03861684529091529020805460ff191660011790556101b83390565b6001600160a01b0316826001600160a01b0316847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a4506001610203565b505f5b92915050565b80516001600160a01b038116811461021f575f5ffd5b919050565b5f5f60408385031215610235575f5ffd5b61023e83610209565b915061024c60208401610209565b90509250929050565b5f60208284031215610265575f5ffd5b5051919050565b60805160a05161089861029b5f395f818161027c01526104a901525f818161021b015261050801526108985ff3fe608060405234801561000f575f5ffd5b5060043610610106575f3560e01c8063a217fddf1161009e578063c1fe3e481161006e578063c1fe3e4814610216578063d547741f1461023d578063d5648d8c14610250578063e8c39cb314610277578063efa7fa5d1461029e575f5ffd5b8063a217fddf146101cb578063a42c69a9146101d2578063b729e72f146101e1578063bacf618d146101eb575f5ffd5b806336568abe116100d957806336568abe1461018a5780635dc747201461019d57806368c20057146101b057806391d14854146101b8575f5ffd5b806301ffc9a71461010a578063248a9ca3146101325780632bac8118146101625780632f2ff15d14610177575b5f5ffd5b61011d610118366004610786565b6102a6565b60405190151581526020015b60405180910390f35b6101546101403660046107b4565b5f9081526020819052604090206001015490565b604051908152602001610129565b6101756101703660046107b4565b6102dc565b005b6101756101853660046107e1565b61037b565b6101756101983660046107e1565b6103a5565b6101756101ab36600461080b565b6103dd565b610154600181565b61011d6101c63660046107e1565b610443565b6101545f81565b610154670de0b6b3a764000081565b61015462aa36a781565b6002546101fe906001600160a01b031681565b6040516001600160a01b039091168152602001610129565b6101fe7f000000000000000000000000000000000000000000000000000000000000000081565b61017561024b3660046107e1565b61046b565b6101547f6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f243981565b6101547f000000000000000000000000000000000000000000000000000000000000000081565b61015461048f565b5f6001600160e01b03198216637965db0b60e01b14806102d657506301ffc9a760e01b6001600160e01b03198316145b92915050565b7f6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f243961030681610640565b6001461480610317575062aa36a746145b15610335576040516348e9beb760e01b815260040160405180910390fd5b600180549083905560408051828152602081018590527f3b6bdcf53af9f5bc4a2eba59bc1a138f5711c133e6dbf67af92230cbae6c5d52910160405180910390a1505050565b5f8281526020819052604090206001015461039581610640565b61039f838361064d565b50505050565b6001600160a01b03811633146103ce5760405163334bd91960e11b815260040160405180910390fd5b6103d882826106dc565b505050565b5f6103e781610640565b6002546040516001600160a01b038085169216907f7412404b785c9205376ebecc024e92417328d2baffb531651a06045c80334e96905f90a350600280546001600160a01b0319166001600160a01b0392909216919091179055565b5f918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b5f8281526020819052604090206001015461048581610640565b61039f83836106dc565b5f5f60014614806104a2575062aa36a746145b156105a1577f00000000000000000000000000000000000000000000000000000000000000005f8190036104e95760405163afe6d04360e01b815260040160405180910390fd5b604051630f451f7160e31b8152670de0b6b3a764000060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690637a28fb8890602401602060405180830381865afa158015610555573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105799190610824565b90508161058e670de0b6b3a76400008361084f565b6105989190610866565b925050506105a6565b506001545b6002546001600160a01b03161561063b5760025f9054906101000a90046001600160a01b03166001600160a01b03166383113ec36040518163ffffffff1660e01b8152600401602060405180830381865afa158015610607573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061062b9190610824565b6106359082610885565b91505090565b919050565b61064a8133610745565b50565b5f6106588383610443565b6106d5575f838152602081815260408083206001600160a01b03861684529091529020805460ff1916600117905561068d3390565b6001600160a01b0316826001600160a01b0316847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45060016102d6565b505f6102d6565b5f6106e78383610443565b156106d5575f838152602081815260408083206001600160a01b0386168085529252808320805460ff1916905551339286917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45060016102d6565b61074f8282610443565b6107825760405163e2517d3f60e01b81526001600160a01b03821660048201526024810183905260440160405180910390fd5b5050565b5f60208284031215610796575f5ffd5b81356001600160e01b0319811681146107ad575f5ffd5b9392505050565b5f602082840312156107c4575f5ffd5b5035919050565b80356001600160a01b038116811461063b575f5ffd5b5f5f604083850312156107f2575f5ffd5b82359150610802602084016107cb565b90509250929050565b5f6020828403121561081b575f5ffd5b6107ad826107cb565b5f60208284031215610834575f5ffd5b5051919050565b634e487b7160e01b5f52601160045260245ffd5b80820281158282048414176102d6576102d661083b565b5f8261088057634e487b7160e01b5f52601260045260245ffd5b500490565b808201808211156102d6576102d661083b56","sourceMap":"1425:5797:78:-:0;;;3505:954;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3566:38;2232:4:24;3597:6:78;3566:10;:38::i;:::-;;1583:1;3619:13;:33;:75;;;;1638:8;3656:13;:38;3619:75;3615:838;;;-1:-1:-1;;;;;3714:27:78;;3710:58;;3750:18;;-1:-1:-1;;;;;;3750:18:78;;;;;;;;;;;3710:58;-1:-1:-1;;;;;3783:21:78;;;;;;3841:60;;-1:-1:-1;;;3841:60:78;;2865:4;3841:60;;;640:25:101;3819:19:78;;3783:21;3841:42;;613:18:101;;3841:60:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3819:82;;3919:11;3934:1;3919:16;3915:46;;3944:17;;-1:-1:-1;;;3944:17:78;;;;;;;;;;;3915:46;3988:42;;3615:838;;;4185:1;4169:18;;;;4219:32;;2865:4;4283:12;:31;4361:45;2479:38;4399:6;4361:10;:45::i;:::-;;3615:838;3505:954;;1425:5797;;6179:316:24;6256:4;2954:12;;;;;;;;;;;-1:-1:-1;;;;;2954:29:24;;;;;;;;;;;;6272:217;;6315:6;:12;;;;;;;;;;;-1:-1:-1;;;;;6315:29:24;;;;;;;;;:36;;-1:-1:-1;;6315:36:24;6347:4;6315:36;;;6397:12;735:10:49;;656:96;6397:12:24;-1:-1:-1;;;;;6370:40:24;6388:7;-1:-1:-1;;;;;6370:40:24;6382:4;6370:40;;;;;;;;;;-1:-1:-1;6431:4:24;6424:11;;6272:217;-1:-1:-1;6473:5:24;6272:217;6179:316;;;;:::o;14:177:101:-;93:13;;-1:-1:-1;;;;;135:31:101;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:293::-;275:6;283;336:2;324:9;315:7;311:23;307:32;304:52;;;352:1;349;342:12;304:52;375:40;405:9;375:40;:::i;:::-;365:50;;434:49;479:2;468:9;464:18;434:49;:::i;:::-;424:59;;196:293;;;;;:::o;676:184::-;746:6;799:2;787:9;778:7;774:23;770:32;767:52;;;815:1;812;805:12;767:52;-1:-1:-1;838:16:101;;676:184;-1:-1:-1;676:184:101:o;:::-;1425:5797:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b5060043610610106575f3560e01c8063a217fddf1161009e578063c1fe3e481161006e578063c1fe3e4814610216578063d547741f1461023d578063d5648d8c14610250578063e8c39cb314610277578063efa7fa5d1461029e575f5ffd5b8063a217fddf146101cb578063a42c69a9146101d2578063b729e72f146101e1578063bacf618d146101eb575f5ffd5b806336568abe116100d957806336568abe1461018a5780635dc747201461019d57806368c20057146101b057806391d14854146101b8575f5ffd5b806301ffc9a71461010a578063248a9ca3146101325780632bac8118146101625780632f2ff15d14610177575b5f5ffd5b61011d610118366004610786565b6102a6565b60405190151581526020015b60405180910390f35b6101546101403660046107b4565b5f9081526020819052604090206001015490565b604051908152602001610129565b6101756101703660046107b4565b6102dc565b005b6101756101853660046107e1565b61037b565b6101756101983660046107e1565b6103a5565b6101756101ab36600461080b565b6103dd565b610154600181565b61011d6101c63660046107e1565b610443565b6101545f81565b610154670de0b6b3a764000081565b61015462aa36a781565b6002546101fe906001600160a01b031681565b6040516001600160a01b039091168152602001610129565b6101fe7f000000000000000000000000000000000000000000000000000000000000000081565b61017561024b3660046107e1565b61046b565b6101547f6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f243981565b6101547f000000000000000000000000000000000000000000000000000000000000000081565b61015461048f565b5f6001600160e01b03198216637965db0b60e01b14806102d657506301ffc9a760e01b6001600160e01b03198316145b92915050565b7f6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f243961030681610640565b6001461480610317575062aa36a746145b15610335576040516348e9beb760e01b815260040160405180910390fd5b600180549083905560408051828152602081018590527f3b6bdcf53af9f5bc4a2eba59bc1a138f5711c133e6dbf67af92230cbae6c5d52910160405180910390a1505050565b5f8281526020819052604090206001015461039581610640565b61039f838361064d565b50505050565b6001600160a01b03811633146103ce5760405163334bd91960e11b815260040160405180910390fd5b6103d882826106dc565b505050565b5f6103e781610640565b6002546040516001600160a01b038085169216907f7412404b785c9205376ebecc024e92417328d2baffb531651a06045c80334e96905f90a350600280546001600160a01b0319166001600160a01b0392909216919091179055565b5f918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b5f8281526020819052604090206001015461048581610640565b61039f83836106dc565b5f5f60014614806104a2575062aa36a746145b156105a1577f00000000000000000000000000000000000000000000000000000000000000005f8190036104e95760405163afe6d04360e01b815260040160405180910390fd5b604051630f451f7160e31b8152670de0b6b3a764000060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690637a28fb8890602401602060405180830381865afa158015610555573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105799190610824565b90508161058e670de0b6b3a76400008361084f565b6105989190610866565b925050506105a6565b506001545b6002546001600160a01b03161561063b5760025f9054906101000a90046001600160a01b03166001600160a01b03166383113ec36040518163ffffffff1660e01b8152600401602060405180830381865afa158015610607573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061062b9190610824565b6106359082610885565b91505090565b919050565b61064a8133610745565b50565b5f6106588383610443565b6106d5575f838152602081815260408083206001600160a01b03861684529091529020805460ff1916600117905561068d3390565b6001600160a01b0316826001600160a01b0316847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45060016102d6565b505f6102d6565b5f6106e78383610443565b156106d5575f838152602081815260408083206001600160a01b0386168085529252808320805460ff1916905551339286917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45060016102d6565b61074f8282610443565b6107825760405163e2517d3f60e01b81526001600160a01b03821660048201526024810183905260440160405180910390fd5b5050565b5f60208284031215610796575f5ffd5b81356001600160e01b0319811681146107ad575f5ffd5b9392505050565b5f602082840312156107c4575f5ffd5b5035919050565b80356001600160a01b038116811461063b575f5ffd5b5f5f604083850312156107f2575f5ffd5b82359150610802602084016107cb565b90509250929050565b5f6020828403121561081b575f5ffd5b6107ad826107cb565b5f60208284031215610834575f5ffd5b5051919050565b634e487b7160e01b5f52601160045260245ffd5b80820281158282048414176102d6576102d661083b565b5f8261088057634e487b7160e01b5f52601260045260245ffd5b500490565b808201808211156102d6576102d661083b56","sourceMap":"1425:5797:78:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2565:202:24;;;;;;:::i;:::-;;:::i;:::-;;;470:14:101;;463:22;445:41;;433:2;418:18;2565:202:24;;;;;;;;3810:120;;;;;;:::i;:::-;3875:7;3901:12;;;;;;;;;;:22;;;;3810:120;;;;874:25:101;;;862:2;847:18;3810:120:24;728:177:101;6175:588:78;;;;;;:::i;:::-;;:::i;:::-;;4226:136:24;;;;;;:::i;:::-;;:::i;5328:245::-;;;;;;:::i;:::-;;:::i;6961:259:78:-;;;;;;:::i;:::-;;:::i;1540:44::-;;1583:1;1540:44;;2854:136:24;;;;;;:::i;:::-;;:::i;2187:49::-;;2232:4;2187:49;;2813:56:78;;2865:4;2813:56;;1590;;1638:8;1590:56;;2352:47;;;;;-1:-1:-1;;;;;2352:47:78;;;;;;-1:-1:-1;;;;;2145:32:101;;;2127:51;;2115:2;2100:18;2352:47:78;1951:233:101;1791:30:78;;;;;4642:138:24;;;;;;:::i;:::-;;:::i;2427:90:78:-;;2479:38;2427:90;;2011:53;;;;;4907:938;;;:::i;2565:202:24:-;2650:4;-1:-1:-1;;;;;;2673:47:24;;-1:-1:-1;;;2673:47:24;;:87;;-1:-1:-1;;;;;;;;;;862:40:62;;;2724:36:24;2666:94;2565:202;-1:-1:-1;;2565:202:24:o;6175:588:78:-;2479:38;2464:16:24;2475:4;2464:10;:16::i;:::-;1583:1:78::1;6287:13;:33;:75;;;;1638:8;6324:13;:38;6287:75;6283:158;;;6385:12;;-1:-1:-1::0;;;6385:12:78::1;;;;;;;;;;;6283:158;6640:12;::::0;;6662:29;;;;6706:50:::1;::::0;;2571:25:101;;;2627:2;2612:18;;2605:34;;;6706:50:78::1;::::0;2544:18:101;6706:50:78::1;;;;;;;6273:490;6175:588:::0;;:::o;4226:136:24:-;3875:7;3901:12;;;;;;;;;;:22;;;2464:16;2475:4;2464:10;:16::i;:::-;4330:25:::1;4341:4;4347:7;4330:10;:25::i;:::-;;4226:136:::0;;;:::o;5328:245::-;-1:-1:-1;;;;;5421:34:24;;735:10:49;5421:34:24;5417:102;;5478:30;;-1:-1:-1;;;5478:30:24;;;;;;;;;;;5417:102;5529:37;5541:4;5547:18;5529:11;:37::i;:::-;;5328:245;;:::o;6961:259:78:-;2232:4:24;2464:16;2232:4;2464:10;:16::i;:::-;7106:19:78::1;::::0;7071:73:::1;::::0;-1:-1:-1;;;;;7071:73:78;;::::1;::::0;7106:19:::1;::::0;7071:73:::1;::::0;7106:19:::1;::::0;7071:73:::1;-1:-1:-1::0;7154:19:78::1;:59:::0;;-1:-1:-1;;;;;;7154:59:78::1;-1:-1:-1::0;;;;;7154:59:78;;;::::1;::::0;;;::::1;::::0;;6961:259::o;2854:136:24:-;2931:4;2954:12;;;;;;;;;;;-1:-1:-1;;;;;2954:29:24;;;;;;;;;;;;;;;2854:136::o;4642:138::-;3875:7;3901:12;;;;;;;;;;:22;;;2464:16;2475:4;2464:10;:16::i;:::-;4747:26:::1;4759:4;4765:7;4747:11;:26::i;4907:938:78:-:0;4965:19;4996:17;1583:1;5027:13;:33;:75;;;;1638:8;5064:13;:38;5027:75;5023:590;;;5140:28;5118:19;5279:16;;;5275:46;;5304:17;;-1:-1:-1;;;5304:17:78;;;;;;;;;;;5275:46;5358:52;;-1:-1:-1;;;5358:52:78;;2865:4;5358:52;;;874:25:101;5336:19:78;;5365:5;-1:-1:-1;;;;;5358:34:78;;;;847:18:101;;5358:52:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5336:74;-1:-1:-1;5471:11:78;5437:30;2865:4;5336:74;5437:30;:::i;:::-;5436:46;;;;:::i;:::-;5424:58;;5104:389;;5023:590;;;-1:-1:-1;5590:12:78;;5023:590;5695:19;;-1:-1:-1;;;;;5695:19:78;5687:42;5683:129;;5764:19;;;;;;;;;-1:-1:-1;;;;;5764:19:78;-1:-1:-1;;;;;5764:35:78;;:37;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5752:49;;:9;:49;:::i;:::-;5745:56;;;4907:938;:::o;5683:129::-;5829:9;4907:938;-1:-1:-1;4907:938:78:o;3199:103:24:-;3265:30;3276:4;735:10:49;3265::24;:30::i;:::-;3199:103;:::o;6179:316::-;6256:4;6277:22;6285:4;6291:7;6277;:22::i;:::-;6272:217;;6315:6;:12;;;;;;;;;;;-1:-1:-1;;;;;6315:29:24;;;;;;;;;:36;;-1:-1:-1;;6315:36:24;6347:4;6315:36;;;6397:12;735:10:49;;656:96;6397:12:24;-1:-1:-1;;;;;6370:40:24;6388:7;-1:-1:-1;;;;;6370:40:24;6382:4;6370:40;;;;;;;;;;-1:-1:-1;6431:4:24;6424:11;;6272:217;-1:-1:-1;6473:5:24;6466:12;;6732:317;6810:4;6830:22;6838:4;6844:7;6830;:22::i;:::-;6826:217;;;6900:5;6868:12;;;;;;;;;;;-1:-1:-1;;;;;6868:29:24;;;;;;;;;;:37;;-1:-1:-1;;6868:37:24;;;6924:40;735:10:49;;6868:12:24;;6924:40;;6900:5;6924:40;-1:-1:-1;6985:4:24;6978:11;;3432:197;3520:22;3528:4;3534:7;3520;:22::i;:::-;3515:108;;3565:47;;-1:-1:-1;;;3565:47:24;;-1:-1:-1;;;;;3688:32:101;;3565:47:24;;;3670:51:101;3737:18;;;3730:34;;;3643:18;;3565:47:24;;;;;;;3515:108;3432:197;;:::o;14:286:101:-;72:6;125:2;113:9;104:7;100:23;96:32;93:52;;;141:1;138;131:12;93:52;167:23;;-1:-1:-1;;;;;;219:32:101;;209:43;;199:71;;266:1;263;256:12;199:71;289:5;14:286;-1:-1:-1;;;14:286:101:o;497:226::-;556:6;609:2;597:9;588:7;584:23;580:32;577:52;;;625:1;622;615:12;577:52;-1:-1:-1;670:23:101;;497:226;-1:-1:-1;497:226:101:o;1095:173::-;1163:20;;-1:-1:-1;;;;;1212:31:101;;1202:42;;1192:70;;1258:1;1255;1248:12;1273:300;1341:6;1349;1402:2;1390:9;1381:7;1377:23;1373:32;1370:52;;;1418:1;1415;1408:12;1370:52;1463:23;;;-1:-1:-1;1529:38:101;1563:2;1548:18;;1529:38;:::i;:::-;1519:48;;1273:300;;;;;:::o;1578:186::-;1637:6;1690:2;1678:9;1669:7;1665:23;1661:32;1658:52;;;1706:1;1703;1696:12;1658:52;1729:29;1748:9;1729:29;:::i;2650:184::-;2720:6;2773:2;2761:9;2752:7;2748:23;2744:32;2741:52;;;2789:1;2786;2779:12;2741:52;-1:-1:-1;2812:16:101;;2650:184;-1:-1:-1;2650:184:101:o;2839:127::-;2900:10;2895:3;2891:20;2888:1;2881:31;2931:4;2928:1;2921:15;2955:4;2952:1;2945:15;2971:168;3044:9;;;3075;;3092:15;;;3086:22;;3072:37;3062:71;;3113:18;;:::i;3144:217::-;3184:1;3210;3200:132;;3254:10;3249:3;3245:20;3242:1;3235:31;3289:4;3286:1;3279:15;3317:4;3314:1;3307:15;3200:132;-1:-1:-1;3346:9:101;;3144:217::o;3366:125::-;3431:9;;;3452:10;;;3449:36;;;3465:18;;:::i","linkReferences":{},"immutableReferences":{"50537":[{"start":539,"length":32},{"start":1288,"length":32}],"50540":[{"start":636,"length":32},{"start":1193,"length":32}]}},"methodIdentifiers":{"DEFAULT_ADMIN_ROLE()":"a217fddf","FACTOR_PRECISION()":"a42c69a9","MAINNET_CHAIN_ID()":"68c20057","MAINNET_TEST_CHAIN_ID()":"b729e72f","YIELD_FACTOR_UPDATER_ROLE()":"d5648d8c","getRoleAdmin(bytes32)":"248a9ca3","getYieldFactor()":"efa7fa5d","grantRole(bytes32,address)":"2f2ff15d","hasRole(bytes32,address)":"91d14854","initialEthEquivalentPerShare()":"e8c39cb3","renounceRole(bytes32,address)":"36568abe","revokeRole(bytes32,address)":"d547741f","rewardsYieldBooster()":"bacf618d","setRewardsYieldBooster(address)":"5dc74720","stETH()":"c1fe3e48","supportsInterface(bytes4)":"01ffc9a7","updateL2YieldFactor(uint256)":"2bac8118"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.29+commit.ab55807c\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_stETHAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_admin\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AccessControlBadConfirmation\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"neededRole\",\"type\":\"bytes32\"}],\"name\":\"AccessControlUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InitialRateZero\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotL1Chain\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotL2Chain\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"StEthAddressZero\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"YieldFactorDecreaseNotAllowed\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oldBooster\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newBooster\",\"type\":\"address\"}],\"name\":\"RewardsYieldBoosterUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"previousAdminRole\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"newAdminRole\",\"type\":\"bytes32\"}],\"name\":\"RoleAdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleGranted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleRevoked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldYieldFactor\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newYieldFactor\",\"type\":\"uint256\"}],\"name\":\"YieldFactorUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"DEFAULT_ADMIN_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"FACTOR_PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAINNET_CHAIN_ID\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAINNET_TEST_CHAIN_ID\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"YIELD_FACTOR_UPDATER_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"}],\"name\":\"getRoleAdmin\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getYieldFactor\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"yieldFactor\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"grantRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"hasRole\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initialEthEquivalentPerShare\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"callerConfirmation\",\"type\":\"address\"}],\"name\":\"renounceRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"revokeRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"rewardsYieldBooster\",\"outputs\":[{\"internalType\":\"contract IRewardsYieldBooster\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_boosterAddress\",\"type\":\"address\"}],\"name\":\"setRewardsYieldBooster\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"stETH\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newYieldFactor\",\"type\":\"uint256\"}],\"name\":\"updateL2YieldFactor\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"On L1: Tracks the yield factor of stETH by comparing the current ETH value of a fixed number of shares      to its value at deployment time. This method is secure against arbitrary token transfers to the contract.On L2: Stores a yield factor that can be updated by an authorized role, typically reflecting L1's factor.\",\"errors\":{\"AccessControlBadConfirmation()\":[{\"details\":\"The caller of a function is not the expected one. NOTE: Don't confuse with {AccessControlUnauthorizedAccount}.\"}],\"AccessControlUnauthorizedAccount(address,bytes32)\":[{\"details\":\"The `account` is missing a role.\"}]},\"events\":{\"RoleAdminChanged(bytes32,bytes32,bytes32)\":{\"details\":\"Emitted when `newAdminRole` is set as ``role``'s admin role, replacing `previousAdminRole` `DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite {RoleAdminChanged} not being emitted signaling this.\"},\"RoleGranted(bytes32,address,address)\":{\"details\":\"Emitted when `account` is granted `role`. `sender` is the account that originated the contract call. This account bears the admin role (for the granted role). Expected in cases where the role was granted using the internal {AccessControl-_grantRole}.\"},\"RoleRevoked(bytes32,address,address)\":{\"details\":\"Emitted when `account` is revoked `role`. `sender` is the account that originated the contract call:   - if using `revokeRole`, it is the admin role bearer   - if using `renounceRole`, it is the role bearer (i.e. `account`)\"}},\"kind\":\"dev\",\"methods\":{\"constructor\":{\"details\":\"Sets up the contract based on the chain ID.\",\"params\":{\"_admin\":\"The address to grant DEFAULT_ADMIN_ROLE and YIELD_FACTOR_UPDATER_ROLE (on L2). Requirements for L1 deployment: - `_stETHAddress` cannot be the zero address. - The initial call to `getPooledEthByShares` must return a non-zero value.\",\"_stETHAddress\":\"The address of the stETH token contract (used on L1).\"}},\"getRoleAdmin(bytes32)\":{\"details\":\"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role's admin, use {_setRoleAdmin}.\"},\"getYieldFactor()\":{\"details\":\"The factor represents the growth since the initial deposit, scaled by FACTOR_PRECISION.      A factor of 1 * FACTOR_PRECISION means no yield yet.      A factor of 1.05 * FACTOR_PRECISION means 5% yield.\",\"returns\":{\"yieldFactor\":\"The current yield factor, scaled by FACTOR_PRECISION.\"}},\"grantRole(bytes32,address)\":{\"details\":\"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleGranted} event.\"},\"hasRole(bytes32,address)\":{\"details\":\"Returns `true` if `account` has been granted `role`.\"},\"renounceRole(bytes32,address)\":{\"details\":\"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function's purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `callerConfirmation`. May emit a {RoleRevoked} event.\"},\"revokeRole(bytes32,address)\":{\"details\":\"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleRevoked} event.\"},\"setRewardsYieldBooster(address)\":{\"details\":\"Callable only by admin.\",\"params\":{\"_boosterAddress\":\"The address of the new booster contract.\"}},\"supportsInterface(bytes4)\":{\"details\":\"See {IERC165-supportsInterface}.\"},\"updateL2YieldFactor(uint256)\":{\"details\":\"Callable only by addresses with YIELD_FACTOR_UPDATER_ROLE.      The new yield factor cannot be less than the current one.      This function will revert if called on L1.\",\"params\":{\"newYieldFactor\":\"The new yield factor to set.\"}}},\"stateVariables\":{\"FACTOR_PRECISION\":{\"details\":\"The precision factor used for yield calculations (e.g., 1e18).\"},\"_yieldFactor\":{\"details\":\"On L2, this stores the yield factor set by an updater role.      On L1, this is not used for calculation.\"},\"initialEthEquivalentPerShare\":{\"details\":\"On L1: The initial ETH equivalent for 1e18 shares of stETH at deployment.      On L2: Not used for calculation; _yieldFactor is updated externally.\"},\"rewardsYieldBooster\":{\"details\":\"The address of the RewardsYieldBooster contract for querying surplus yield.\"},\"stETH\":{\"details\":\"The stETH token contract being tracked (only relevant on L1).\"}},\"title\":\"PoolSharesConversionRate\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"getYieldFactor()\":{\"notice\":\"Calculates the current yield factor based on stETH rebasing.\"},\"setRewardsYieldBooster(address)\":{\"notice\":\"Sets the address of the RewardsYieldBooster contract.\"},\"updateL2YieldFactor(uint256)\":{\"notice\":\"Updates the yield factor on L2 chains.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/PoolSharesConversionRate.sol\":\"PoolSharesConversionRate\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"appendCBOR\":false,\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":chainlink/=lib/chainlink/\",\":createx/=lib/createx/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/\",\":solady/=lib/createx/lib/solady/src/\",\":uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/\",\":uniswap-v3-core/=lib/uniswap-v3-core/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/AccessControl.sol\":{\"keccak256\":\"0xd0e967bcd2ad6fd4231951e744b121e4cb428ce9d38e1c99350db6bb4a5207f7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3f454d107c23bd052c0bdb26dcdbb64ea203fd01b5dabb08f185f4c096beb0c8\",\"dweb:/ipfs/QmSNAV8u7TLKWTKmoQhWbBiyTKVZVQTqi9NvnmNSvnWn2D\"]},\"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol\":{\"keccak256\":\"0xc1c2a7f1563b77050dc6d507db9f4ada5d042c1f6a9ddbffdc49c77cdc0a1606\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fd54abb96a6156d9a761f6fdad1d3004bc48d2d4fce47f40a3f91a7ae83fc3a1\",\"dweb:/ipfs/QmUrFSGkTDJ7WaZ6qPVVe3Gn5uN2viPb7x7QQ35UX4DofX\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol\":{\"keccak256\":\"0xddce8e17e3d3f9ed818b4f4c4478a8262aab8b11ed322f1bf5ed705bb4bd97fa\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8084aa71a4cc7d2980972412a88fe4f114869faea3fefa5436431644eb5c0287\",\"dweb:/ipfs/Qmbqfs5dRdPvHVKY8kTaeyc65NdqXRQwRK7h9s5UJEhD1p\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"src/PoolSharesConversionRate.sol\":{\"keccak256\":\"0xb21d1c4f91d187262f1ca325cfb4c9547472be8acf3104ce0aa1806872644362\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7776c6908423cbbd3f2f08a1f801effa867758b154613cd639783c003242be9e\",\"dweb:/ipfs/QmfVS8JzQrfgsyHykFXQQ2c6viViuXdLKsYzwpZ1oXUmR2\"]},\"src/interfaces/IPoolSharesConversionRate.sol\":{\"keccak256\":\"0xe7ca5b72aee5158674c7cc2cb6b3f96c3a1a1ea8805a82f64262a972fa9cf141\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f0122d44d1ba0563cfe6d4aff7766a66ac6ea36799a37fdee6a908e755b08b65\",\"dweb:/ipfs/QmZiSUCLMZdeGtKzEVyofDE4vn9rpzZm3aiJ7uS6xwBtcT\"]},\"src/interfaces/IRewardsYieldBooster.sol\":{\"keccak256\":\"0x38ba9abe816662e7ce1cb6134b68433c8446cba3e58c9fb2c438fc2a042479fe\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://65c0fb7c1193aa109c817edfa3353dc262e5769981aeac2dc4517ff4ea676781\",\"dweb:/ipfs/QmSEU9kKkkdS38rGocQ5yGCU5UwkTrGkGUHx7pcBMn8odt\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.29+commit.ab55807c"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_stETHAddress","type":"address"},{"internalType":"address","name":"_admin","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"AccessControlBadConfirmation"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"neededRole","type":"bytes32"}],"type":"error","name":"AccessControlUnauthorizedAccount"},{"inputs":[],"type":"error","name":"InitialRateZero"},{"inputs":[],"type":"error","name":"NotL1Chain"},{"inputs":[],"type":"error","name":"NotL2Chain"},{"inputs":[],"type":"error","name":"StEthAddressZero"},{"inputs":[],"type":"error","name":"YieldFactorDecreaseNotAllowed"},{"inputs":[{"internalType":"address","name":"oldBooster","type":"address","indexed":true},{"internalType":"address","name":"newBooster","type":"address","indexed":true}],"type":"event","name":"RewardsYieldBoosterUpdated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"previousAdminRole","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"newAdminRole","type":"bytes32","indexed":true}],"type":"event","name":"RoleAdminChanged","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"sender","type":"address","indexed":true}],"type":"event","name":"RoleGranted","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"sender","type":"address","indexed":true}],"type":"event","name":"RoleRevoked","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldYieldFactor","type":"uint256","indexed":false},{"internalType":"uint256","name":"newYieldFactor","type":"uint256","indexed":false}],"type":"event","name":"YieldFactorUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"FACTOR_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MAINNET_CHAIN_ID","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MAINNET_TEST_CHAIN_ID","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"YIELD_FACTOR_UPDATER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getYieldFactor","outputs":[{"internalType":"uint256","name":"yieldFactor","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"grantRole"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"initialEthEquivalentPerShare","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"callerConfirmation","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"renounceRole"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"revokeRole"},{"inputs":[],"stateMutability":"view","type":"function","name":"rewardsYieldBooster","outputs":[{"internalType":"contract IRewardsYieldBooster","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_boosterAddress","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setRewardsYieldBooster"},{"inputs":[],"stateMutability":"view","type":"function","name":"stETH","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"stateMutability":"view","type":"function","name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"newYieldFactor","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"updateL2YieldFactor"}],"devdoc":{"kind":"dev","methods":{"constructor":{"details":"Sets up the contract based on the chain ID.","params":{"_admin":"The address to grant DEFAULT_ADMIN_ROLE and YIELD_FACTOR_UPDATER_ROLE (on L2). Requirements for L1 deployment: - `_stETHAddress` cannot be the zero address. - The initial call to `getPooledEthByShares` must return a non-zero value.","_stETHAddress":"The address of the stETH token contract (used on L1)."}},"getRoleAdmin(bytes32)":{"details":"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role's admin, use {_setRoleAdmin}."},"getYieldFactor()":{"details":"The factor represents the growth since the initial deposit, scaled by FACTOR_PRECISION.      A factor of 1 * FACTOR_PRECISION means no yield yet.      A factor of 1.05 * FACTOR_PRECISION means 5% yield.","returns":{"yieldFactor":"The current yield factor, scaled by FACTOR_PRECISION."}},"grantRole(bytes32,address)":{"details":"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleGranted} event."},"hasRole(bytes32,address)":{"details":"Returns `true` if `account` has been granted `role`."},"renounceRole(bytes32,address)":{"details":"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function's purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `callerConfirmation`. May emit a {RoleRevoked} event."},"revokeRole(bytes32,address)":{"details":"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleRevoked} event."},"setRewardsYieldBooster(address)":{"details":"Callable only by admin.","params":{"_boosterAddress":"The address of the new booster contract."}},"supportsInterface(bytes4)":{"details":"See {IERC165-supportsInterface}."},"updateL2YieldFactor(uint256)":{"details":"Callable only by addresses with YIELD_FACTOR_UPDATER_ROLE.      The new yield factor cannot be less than the current one.      This function will revert if called on L1.","params":{"newYieldFactor":"The new yield factor to set."}}},"version":1},"userdoc":{"kind":"user","methods":{"getYieldFactor()":{"notice":"Calculates the current yield factor based on stETH rebasing."},"setRewardsYieldBooster(address)":{"notice":"Sets the address of the RewardsYieldBooster contract."},"updateL2YieldFactor(uint256)":{"notice":"Updates the yield factor on L2 chains."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","chainlink/=lib/chainlink/","createx/=lib/createx/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/createx/lib/openzeppelin-contracts/contracts/","solady/=lib/createx/lib/solady/src/","uniswap-v2-periphery/=lib/uniswap-v2-periphery/contracts/","uniswap-v3-core/=lib/uniswap-v3-core/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"none","appendCBOR":false},"compilationTarget":{"src/PoolSharesConversionRate.sol":"PoolSharesConversionRate"},"evmVersion":"prague","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/access/AccessControl.sol":{"keccak256":"0xd0e967bcd2ad6fd4231951e744b121e4cb428ce9d38e1c99350db6bb4a5207f7","urls":["bzz-raw://3f454d107c23bd052c0bdb26dcdbb64ea203fd01b5dabb08f185f4c096beb0c8","dweb:/ipfs/QmSNAV8u7TLKWTKmoQhWbBiyTKVZVQTqi9NvnmNSvnWn2D"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol":{"keccak256":"0xc1c2a7f1563b77050dc6d507db9f4ada5d042c1f6a9ddbffdc49c77cdc0a1606","urls":["bzz-raw://fd54abb96a6156d9a761f6fdad1d3004bc48d2d4fce47f40a3f91a7ae83fc3a1","dweb:/ipfs/QmUrFSGkTDJ7WaZ6qPVVe3Gn5uN2viPb7x7QQ35UX4DofX"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol":{"keccak256":"0xddce8e17e3d3f9ed818b4f4c4478a8262aab8b11ed322f1bf5ed705bb4bd97fa","urls":["bzz-raw://8084aa71a4cc7d2980972412a88fe4f114869faea3fefa5436431644eb5c0287","dweb:/ipfs/Qmbqfs5dRdPvHVKY8kTaeyc65NdqXRQwRK7h9s5UJEhD1p"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"src/PoolSharesConversionRate.sol":{"keccak256":"0xb21d1c4f91d187262f1ca325cfb4c9547472be8acf3104ce0aa1806872644362","urls":["bzz-raw://7776c6908423cbbd3f2f08a1f801effa867758b154613cd639783c003242be9e","dweb:/ipfs/QmfVS8JzQrfgsyHykFXQQ2c6viViuXdLKsYzwpZ1oXUmR2"],"license":"MIT"},"src/interfaces/IPoolSharesConversionRate.sol":{"keccak256":"0xe7ca5b72aee5158674c7cc2cb6b3f96c3a1a1ea8805a82f64262a972fa9cf141","urls":["bzz-raw://f0122d44d1ba0563cfe6d4aff7766a66ac6ea36799a37fdee6a908e755b08b65","dweb:/ipfs/QmZiSUCLMZdeGtKzEVyofDE4vn9rpzZm3aiJ7uS6xwBtcT"],"license":"MIT"},"src/interfaces/IRewardsYieldBooster.sol":{"keccak256":"0x38ba9abe816662e7ce1cb6134b68433c8446cba3e58c9fb2c438fc2a042479fe","urls":["bzz-raw://65c0fb7c1193aa109c817edfa3353dc262e5769981aeac2dc4517ff4ea676781","dweb:/ipfs/QmSEU9kKkkdS38rGocQ5yGCU5UwkTrGkGUHx7pcBMn8odt"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[{"astId":38111,"contract":"src/PoolSharesConversionRate.sol:PoolSharesConversionRate","label":"_roles","offset":0,"slot":"0","type":"t_mapping(t_bytes32,t_struct(RoleData)38106_storage)"},{"astId":50543,"contract":"src/PoolSharesConversionRate.sol:PoolSharesConversionRate","label":"_yieldFactor","offset":0,"slot":"1","type":"t_uint256"},{"astId":50547,"contract":"src/PoolSharesConversionRate.sol:PoolSharesConversionRate","label":"rewardsYieldBooster","offset":0,"slot":"2","type":"t_contract(IRewardsYieldBooster)58661"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_bool":{"encoding":"inplace","label":"bool","numberOfBytes":"1"},"t_bytes32":{"encoding":"inplace","label":"bytes32","numberOfBytes":"32"},"t_contract(IRewardsYieldBooster)58661":{"encoding":"inplace","label":"contract IRewardsYieldBooster","numberOfBytes":"20"},"t_mapping(t_address,t_bool)":{"encoding":"mapping","key":"t_address","label":"mapping(address => bool)","numberOfBytes":"32","value":"t_bool"},"t_mapping(t_bytes32,t_struct(RoleData)38106_storage)":{"encoding":"mapping","key":"t_bytes32","label":"mapping(bytes32 => struct AccessControl.RoleData)","numberOfBytes":"32","value":"t_struct(RoleData)38106_storage"},"t_struct(RoleData)38106_storage":{"encoding":"inplace","label":"struct AccessControl.RoleData","numberOfBytes":"64","members":[{"astId":38103,"contract":"src/PoolSharesConversionRate.sol:PoolSharesConversionRate","label":"hasRole","offset":0,"slot":"0","type":"t_mapping(t_address,t_bool)"},{"astId":38105,"contract":"src/PoolSharesConversionRate.sol:PoolSharesConversionRate","label":"adminRole","offset":0,"slot":"1","type":"t_bytes32"}]},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"ast":{"absolutePath":"src/PoolSharesConversionRate.sol","id":50791,"exportedSymbols":{"AccessControl":[38380],"Context":[41136],"ERC165":[43768],"IAccessControl":[38463],"IERC20":[40358],"IPoolSharesConversionRate":[58488],"IRewardsYieldBooster":[58661],"IStETH":[50523],"PoolSharesConversionRate":[50790]},"nodeType":"SourceUnit","src":"32:7191:78","nodes":[{"id":50511,"nodeType":"PragmaDirective","src":"32:23:78","nodes":[],"literals":["solidity","0.8",".29"]},{"id":50512,"nodeType":"ImportDirective","src":"610:72:78","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"../lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":50791,"sourceUnit":40359,"symbolAliases":[],"unitAlias":""},{"id":50513,"nodeType":"ImportDirective","src":"683:74:78","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/AccessControl.sol","file":"../lib/openzeppelin-contracts/contracts/access/AccessControl.sol","nameLocation":"-1:-1:-1","scope":50791,"sourceUnit":38381,"symbolAliases":[],"unitAlias":""},{"id":50514,"nodeType":"ImportDirective","src":"758:52:78","nodes":[],"absolutePath":"src/interfaces/IPoolSharesConversionRate.sol","file":"./interfaces/IPoolSharesConversionRate.sol","nameLocation":"-1:-1:-1","scope":50791,"sourceUnit":58489,"symbolAliases":[],"unitAlias":""},{"id":50515,"nodeType":"ImportDirective","src":"811:47:78","nodes":[],"absolutePath":"src/interfaces/IRewardsYieldBooster.sol","file":"./interfaces/IRewardsYieldBooster.sol","nameLocation":"-1:-1:-1","scope":50791,"sourceUnit":58662,"symbolAliases":[],"unitAlias":""},{"id":50523,"nodeType":"ContractDefinition","src":"931:110:78","nodes":[{"id":50522,"nodeType":"FunctionDefinition","src":"954:85:78","nodes":[],"functionSelector":"7a28fb88","implemented":false,"kind":"function","modifiers":[],"name":"getPooledEthByShares","nameLocation":"963:20:78","parameters":{"id":50518,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50517,"mutability":"mutable","name":"_sharesAmount","nameLocation":"992:13:78","nodeType":"VariableDeclaration","scope":50522,"src":"984:21:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50516,"name":"uint256","nodeType":"ElementaryTypeName","src":"984:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"983:23:78"},"returnParameters":{"id":50521,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50520,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50522,"src":"1030:7:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50519,"name":"uint256","nodeType":"ElementaryTypeName","src":"1030:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1029:9:78"},"scope":50523,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IStETH","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[50523],"name":"IStETH","nameLocation":"941:6:78","scope":50791,"usedErrors":[],"usedEvents":[]},{"id":50790,"nodeType":"ContractDefinition","src":"1425:5797:78","nodes":[{"id":50531,"nodeType":"VariableDeclaration","src":"1540:44:78","nodes":[],"constant":true,"functionSelector":"68c20057","mutability":"constant","name":"MAINNET_CHAIN_ID","nameLocation":"1564:16:78","scope":50790,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50529,"name":"uint256","nodeType":"ElementaryTypeName","src":"1540:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31","id":50530,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1583:1:78","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"visibility":"public"},{"id":50534,"nodeType":"VariableDeclaration","src":"1590:56:78","nodes":[],"constant":true,"functionSelector":"b729e72f","mutability":"constant","name":"MAINNET_TEST_CHAIN_ID","nameLocation":"1614:21:78","scope":50790,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50532,"name":"uint256","nodeType":"ElementaryTypeName","src":"1590:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3131313535313131","id":50533,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1638:8:78","typeDescriptions":{"typeIdentifier":"t_rational_11155111_by_1","typeString":"int_const 11155111"},"value":"11155111"},"visibility":"public"},{"id":50537,"nodeType":"VariableDeclaration","src":"1791:30:78","nodes":[],"baseFunctions":[58487],"constant":false,"documentation":{"id":50535,"nodeType":"StructuredDocumentation","src":"1701:85:78","text":" @dev The stETH token contract being tracked (only relevant on L1)."},"functionSelector":"c1fe3e48","mutability":"immutable","name":"stETH","nameLocation":"1816:5:78","scope":50790,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50536,"name":"address","nodeType":"ElementaryTypeName","src":"1791:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":50540,"nodeType":"VariableDeclaration","src":"2011:53:78","nodes":[],"baseFunctions":[58481],"constant":false,"documentation":{"id":50538,"nodeType":"StructuredDocumentation","src":"1828:178:78","text":" @dev On L1: The initial ETH equivalent for 1e18 shares of stETH at deployment.\n      On L2: Not used for calculation; _yieldFactor is updated externally."},"functionSelector":"e8c39cb3","mutability":"immutable","name":"initialEthEquivalentPerShare","nameLocation":"2036:28:78","scope":50790,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50539,"name":"uint256","nodeType":"ElementaryTypeName","src":"2011:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":50543,"nodeType":"VariableDeclaration","src":"2212:29:78","nodes":[],"constant":false,"documentation":{"id":50541,"nodeType":"StructuredDocumentation","src":"2071:136:78","text":" @dev On L2, this stores the yield factor set by an updater role.\n      On L1, this is not used for calculation."},"mutability":"mutable","name":"_yieldFactor","nameLocation":"2229:12:78","scope":50790,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50542,"name":"uint256","nodeType":"ElementaryTypeName","src":"2212:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"id":50547,"nodeType":"VariableDeclaration","src":"2352:47:78","nodes":[],"constant":false,"documentation":{"id":50544,"nodeType":"StructuredDocumentation","src":"2248:99:78","text":" @dev The address of the RewardsYieldBooster contract for querying surplus yield."},"functionSelector":"bacf618d","mutability":"mutable","name":"rewardsYieldBooster","nameLocation":"2380:19:78","scope":50790,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRewardsYieldBooster_$58661","typeString":"contract IRewardsYieldBooster"},"typeName":{"id":50546,"nodeType":"UserDefinedTypeName","pathNode":{"id":50545,"name":"IRewardsYieldBooster","nameLocations":["2352:20:78"],"nodeType":"IdentifierPath","referencedDeclaration":58661,"src":"2352:20:78"},"referencedDeclaration":58661,"src":"2352:20:78","typeDescriptions":{"typeIdentifier":"t_contract$_IRewardsYieldBooster_$58661","typeString":"contract IRewardsYieldBooster"}},"visibility":"public"},{"id":50552,"nodeType":"VariableDeclaration","src":"2427:90:78","nodes":[],"constant":true,"functionSelector":"d5648d8c","mutability":"constant","name":"YIELD_FACTOR_UPDATER_ROLE","nameLocation":"2451:25:78","scope":50790,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":50548,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2427:7:78","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"5949454c445f464143544f525f555044415445525f524f4c45","id":50550,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2489:27:78","typeDescriptions":{"typeIdentifier":"t_stringliteral_6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f2439","typeString":"literal_string \"YIELD_FACTOR_UPDATER_ROLE\""},"value":"YIELD_FACTOR_UPDATER_ROLE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6349981c8f973aae243626fb13628338972392c22bccc395c05a43c57e7f2439","typeString":"literal_string \"YIELD_FACTOR_UPDATER_ROLE\""}],"id":50549,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"2479:9:78","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":50551,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2479:38:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":50558,"nodeType":"EventDefinition","src":"2627:89:78","nodes":[],"anonymous":false,"eventSelector":"7412404b785c9205376ebecc024e92417328d2baffb531651a06045c80334e96","name":"RewardsYieldBoosterUpdated","nameLocation":"2633:26:78","parameters":{"id":50557,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50554,"indexed":true,"mutability":"mutable","name":"oldBooster","nameLocation":"2676:10:78","nodeType":"VariableDeclaration","scope":50558,"src":"2660:26:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50553,"name":"address","nodeType":"ElementaryTypeName","src":"2660:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50556,"indexed":true,"mutability":"mutable","name":"newBooster","nameLocation":"2704:10:78","nodeType":"VariableDeclaration","scope":50558,"src":"2688:26:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50555,"name":"address","nodeType":"ElementaryTypeName","src":"2688:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2659:56:78"}},{"id":50563,"nodeType":"VariableDeclaration","src":"2813:56:78","nodes":[],"baseFunctions":[58463],"constant":true,"documentation":{"id":50559,"nodeType":"StructuredDocumentation","src":"2722:86:78","text":" @dev The precision factor used for yield calculations (e.g., 1e18)."},"functionSelector":"a42c69a9","mutability":"constant","name":"FACTOR_PRECISION","nameLocation":"2846:16:78","overrides":{"id":50561,"nodeType":"OverrideSpecifier","overrides":[],"src":"2837:8:78"},"scope":50790,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50560,"name":"uint256","nodeType":"ElementaryTypeName","src":"2813:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653138","id":50562,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2865:4:78","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"visibility":"public"},{"id":50565,"nodeType":"ErrorDefinition","src":"2898:24:78","nodes":[],"errorSelector":"afe6d043","name":"InitialRateZero","nameLocation":"2904:15:78","parameters":{"id":50564,"nodeType":"ParameterList","parameters":[],"src":"2919:2:78"}},{"id":50567,"nodeType":"ErrorDefinition","src":"2927:25:78","nodes":[],"errorSelector":"fff12314","name":"StEthAddressZero","nameLocation":"2933:16:78","parameters":{"id":50566,"nodeType":"ParameterList","parameters":[],"src":"2949:2:78"}},{"id":50569,"nodeType":"ErrorDefinition","src":"2957:38:78","nodes":[],"errorSelector":"e2f5ba25","name":"YieldFactorDecreaseNotAllowed","nameLocation":"2963:29:78","parameters":{"id":50568,"nodeType":"ParameterList","parameters":[],"src":"2992:2:78"}},{"id":50571,"nodeType":"ErrorDefinition","src":"3000:19:78","nodes":[],"errorSelector":"48e9beb7","name":"NotL2Chain","nameLocation":"3006:10:78","parameters":{"id":50570,"nodeType":"ParameterList","parameters":[],"src":"3016:2:78"}},{"id":50573,"nodeType":"ErrorDefinition","src":"3024:19:78","nodes":[],"errorSelector":"eb8949ca","name":"NotL1Chain","nameLocation":"3030:10:78","parameters":{"id":50572,"nodeType":"ParameterList","parameters":[],"src":"3040:2:78"}},{"id":50653,"nodeType":"FunctionDefinition","src":"3505:954:78","nodes":[],"body":{"id":50652,"nodeType":"Block","src":"3556:903:78","nodes":[],"statements":[{"expression":{"arguments":[{"id":50582,"name":"DEFAULT_ADMIN_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38114,"src":"3577:18:78","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":50583,"name":"_admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50578,"src":"3597:6:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":50581,"name":"_grantRole","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38341,"src":"3566:10:78","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$_t_address_$returns$_t_bool_$","typeString":"function (bytes32,address) returns (bool)"}},"id":50584,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3566:38:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50585,"nodeType":"ExpressionStatement","src":"3566:38:78"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":50594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50589,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":50586,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"3619:5:78","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":50587,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3625:7:78","memberName":"chainid","nodeType":"MemberAccess","src":"3619:13:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":50588,"name":"MAINNET_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50531,"src":"3636:16:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3619:33:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50593,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":50590,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"3656:5:78","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":50591,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3662:7:78","memberName":"chainid","nodeType":"MemberAccess","src":"3656:13:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":50592,"name":"MAINNET_TEST_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50534,"src":"3673:21:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3656:38:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3619:75:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":50650,"nodeType":"Block","src":"4126:327:78","statements":[{"expression":{"id":50635,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50630,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50537,"src":"4169:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"30","id":50633,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4185:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":50632,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4177:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":50631,"name":"address","nodeType":"ElementaryTypeName","src":"4177:7:78","typeDescriptions":{}}},"id":50634,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4177:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4169:18:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":50636,"nodeType":"ExpressionStatement","src":"4169:18:78"},{"expression":{"id":50639,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50637,"name":"initialEthEquivalentPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50540,"src":"4219:28:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":50638,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4250:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4219:32:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50640,"nodeType":"ExpressionStatement","src":"4219:32:78"},{"expression":{"id":50643,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50641,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50543,"src":"4283:12:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50642,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50563,"src":"4298:16:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4283:31:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50644,"nodeType":"ExpressionStatement","src":"4283:31:78"},{"expression":{"arguments":[{"id":50646,"name":"YIELD_FACTOR_UPDATER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50552,"src":"4372:25:78","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":50647,"name":"_admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50578,"src":"4399:6:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":50645,"name":"_grantRole","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38341,"src":"4361:10:78","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$_t_address_$returns$_t_bool_$","typeString":"function (bytes32,address) returns (bool)"}},"id":50648,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4361:45:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50649,"nodeType":"ExpressionStatement","src":"4361:45:78"}]},"id":50651,"nodeType":"IfStatement","src":"3615:838:78","trueBody":{"id":50629,"nodeType":"Block","src":"3696:424:78","statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":50600,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50595,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50576,"src":"3714:13:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":50598,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3739:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":50597,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3731:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":50596,"name":"address","nodeType":"ElementaryTypeName","src":"3731:7:78","typeDescriptions":{}}},"id":50599,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3731:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3714:27:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50604,"nodeType":"IfStatement","src":"3710:58:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":50601,"name":"StEthAddressZero","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50567,"src":"3750:16:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":50602,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3750:18:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":50603,"nodeType":"RevertStatement","src":"3743:25:78"}},{"expression":{"id":50607,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50605,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50537,"src":"3783:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50606,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50576,"src":"3791:13:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3783:21:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":50608,"nodeType":"ExpressionStatement","src":"3783:21:78"},{"assignments":[50610],"declarations":[{"constant":false,"id":50610,"mutability":"mutable","name":"initialRate","nameLocation":"3827:11:78","nodeType":"VariableDeclaration","scope":50629,"src":"3819:19:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50609,"name":"uint256","nodeType":"ElementaryTypeName","src":"3819:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":50617,"initialValue":{"arguments":[{"id":50615,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50563,"src":"3884:16:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":50612,"name":"_stETHAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50576,"src":"3848:13:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":50611,"name":"IStETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50523,"src":"3841:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStETH_$50523_$","typeString":"type(contract IStETH)"}},"id":50613,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3841:21:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStETH_$50523","typeString":"contract IStETH"}},"id":50614,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3863:20:78","memberName":"getPooledEthByShares","nodeType":"MemberAccess","referencedDeclaration":50522,"src":"3841:42:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":50616,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3841:60:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3819:82:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50618,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50610,"src":"3919:11:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":50619,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3934:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3919:16:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50624,"nodeType":"IfStatement","src":"3915:46:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":50621,"name":"InitialRateZero","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50565,"src":"3944:15:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":50622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3944:17:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":50623,"nodeType":"RevertStatement","src":"3937:24:78"}},{"expression":{"id":50627,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50625,"name":"initialEthEquivalentPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50540,"src":"3988:28:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50626,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50610,"src":"4019:11:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3988:42:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50628,"nodeType":"ExpressionStatement","src":"3988:42:78"}]}}]},"documentation":{"id":50574,"nodeType":"StructuredDocumentation","src":"3077:423:78","text":" @dev Sets up the contract based on the chain ID.\n @param _stETHAddress The address of the stETH token contract (used on L1).\n @param _admin The address to grant DEFAULT_ADMIN_ROLE and YIELD_FACTOR_UPDATER_ROLE (on L2).\n Requirements for L1 deployment:\n - `_stETHAddress` cannot be the zero address.\n - The initial call to `getPooledEthByShares` must return a non-zero value."},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":50579,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50576,"mutability":"mutable","name":"_stETHAddress","nameLocation":"3525:13:78","nodeType":"VariableDeclaration","scope":50653,"src":"3517:21:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50575,"name":"address","nodeType":"ElementaryTypeName","src":"3517:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50578,"mutability":"mutable","name":"_admin","nameLocation":"3548:6:78","nodeType":"VariableDeclaration","scope":50653,"src":"3540:14:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50577,"name":"address","nodeType":"ElementaryTypeName","src":"3540:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3516:39:78"},"returnParameters":{"id":50580,"nodeType":"ParameterList","parameters":[],"src":"3556:0:78"},"scope":50790,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":50728,"nodeType":"FunctionDefinition","src":"4907:938:78","nodes":[],"body":{"id":50727,"nodeType":"Block","src":"4986:859:78","nodes":[],"statements":[{"assignments":[50661],"declarations":[{"constant":false,"id":50661,"mutability":"mutable","name":"baseYield","nameLocation":"5004:9:78","nodeType":"VariableDeclaration","scope":50727,"src":"4996:17:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50660,"name":"uint256","nodeType":"ElementaryTypeName","src":"4996:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":50662,"nodeType":"VariableDeclarationStatement","src":"4996:17:78"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":50671,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50666,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":50663,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"5027:5:78","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":50664,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5033:7:78","memberName":"chainid","nodeType":"MemberAccess","src":"5027:13:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":50665,"name":"MAINNET_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50531,"src":"5044:16:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5027:33:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50670,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":50667,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"5064:5:78","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":50668,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5070:7:78","memberName":"chainid","nodeType":"MemberAccess","src":"5064:13:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":50669,"name":"MAINNET_TEST_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50534,"src":"5081:21:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5064:38:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5027:75:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":50706,"nodeType":"Block","src":"5499:114:78","statements":[{"expression":{"id":50704,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50702,"name":"baseYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50661,"src":"5578:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50703,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50543,"src":"5590:12:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5578:24:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50705,"nodeType":"ExpressionStatement","src":"5578:24:78"}]},"id":50707,"nodeType":"IfStatement","src":"5023:590:78","trueBody":{"id":50701,"nodeType":"Block","src":"5104:389:78","statements":[{"assignments":[50673],"declarations":[{"constant":false,"id":50673,"mutability":"mutable","name":"initialRate","nameLocation":"5126:11:78","nodeType":"VariableDeclaration","scope":50701,"src":"5118:19:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50672,"name":"uint256","nodeType":"ElementaryTypeName","src":"5118:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":50675,"initialValue":{"id":50674,"name":"initialEthEquivalentPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50540,"src":"5140:28:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5118:50:78"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50678,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50676,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50673,"src":"5279:11:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":50677,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5294:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5279:16:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50682,"nodeType":"IfStatement","src":"5275:46:78","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":50679,"name":"InitialRateZero","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50565,"src":"5304:15:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":50680,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5304:17:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":50681,"nodeType":"RevertStatement","src":"5297:24:78"}},{"assignments":[50684],"declarations":[{"constant":false,"id":50684,"mutability":"mutable","name":"currentRate","nameLocation":"5344:11:78","nodeType":"VariableDeclaration","scope":50701,"src":"5336:19:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50683,"name":"uint256","nodeType":"ElementaryTypeName","src":"5336:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":50691,"initialValue":{"arguments":[{"id":50689,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50563,"src":"5393:16:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":50686,"name":"stETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50537,"src":"5365:5:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":50685,"name":"IStETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50523,"src":"5358:6:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IStETH_$50523_$","typeString":"type(contract IStETH)"}},"id":50687,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5358:13:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IStETH_$50523","typeString":"contract IStETH"}},"id":50688,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5372:20:78","memberName":"getPooledEthByShares","nodeType":"MemberAccess","referencedDeclaration":50522,"src":"5358:34:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":50690,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5358:52:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5336:74:78"},{"expression":{"id":50699,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50692,"name":"baseYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50661,"src":"5424:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50695,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50693,"name":"currentRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50684,"src":"5437:11:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":50694,"name":"FACTOR_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50563,"src":"5451:16:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5437:30:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":50696,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5436:32:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":50697,"name":"initialRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50673,"src":"5471:11:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5436:46:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5424:58:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50700,"nodeType":"ExpressionStatement","src":"5424:58:78"}]}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":50716,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":50710,"name":"rewardsYieldBooster","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50547,"src":"5695:19:78","typeDescriptions":{"typeIdentifier":"t_contract$_IRewardsYieldBooster_$58661","typeString":"contract IRewardsYieldBooster"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRewardsYieldBooster_$58661","typeString":"contract IRewardsYieldBooster"}],"id":50709,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5687:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":50708,"name":"address","nodeType":"ElementaryTypeName","src":"5687:7:78","typeDescriptions":{}}},"id":50711,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5687:28:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":50714,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5727:1:78","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":50713,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5719:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":50712,"name":"address","nodeType":"ElementaryTypeName","src":"5719:7:78","typeDescriptions":{}}},"id":50715,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5719:10:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5687:42:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50724,"nodeType":"IfStatement","src":"5683:129:78","trueBody":{"id":50723,"nodeType":"Block","src":"5731:81:78","statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50721,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50717,"name":"baseYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50661,"src":"5752:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":50718,"name":"rewardsYieldBooster","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50547,"src":"5764:19:78","typeDescriptions":{"typeIdentifier":"t_contract$_IRewardsYieldBooster_$58661","typeString":"contract IRewardsYieldBooster"}},"id":50719,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5784:15:78","memberName":"getSurplusYield","nodeType":"MemberAccess","referencedDeclaration":58660,"src":"5764:35:78","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":50720,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5764:37:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5752:49:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":50659,"id":50722,"nodeType":"Return","src":"5745:56:78"}]}},{"expression":{"id":50725,"name":"baseYield","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50661,"src":"5829:9:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":50659,"id":50726,"nodeType":"Return","src":"5822:16:78"}]},"baseFunctions":[58457],"documentation":{"id":50654,"nodeType":"StructuredDocumentation","src":"4505:397:78","text":" @notice Calculates the current yield factor based on stETH rebasing.\n @dev The factor represents the growth since the initial deposit, scaled by FACTOR_PRECISION.\n      A factor of 1 * FACTOR_PRECISION means no yield yet.\n      A factor of 1.05 * FACTOR_PRECISION means 5% yield.\n @return yieldFactor The current yield factor, scaled by FACTOR_PRECISION."},"functionSelector":"efa7fa5d","implemented":true,"kind":"function","modifiers":[],"name":"getYieldFactor","nameLocation":"4916:14:78","overrides":{"id":50656,"nodeType":"OverrideSpecifier","overrides":[],"src":"4947:8:78"},"parameters":{"id":50655,"nodeType":"ParameterList","parameters":[],"src":"4930:2:78"},"returnParameters":{"id":50659,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50658,"mutability":"mutable","name":"yieldFactor","nameLocation":"4973:11:78","nodeType":"VariableDeclaration","scope":50728,"src":"4965:19:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50657,"name":"uint256","nodeType":"ElementaryTypeName","src":"4965:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4964:21:78"},"scope":50790,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":50765,"nodeType":"FunctionDefinition","src":"6175:588:78","nodes":[],"body":{"id":50764,"nodeType":"Block","src":"6273:490:78","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":50745,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50740,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":50737,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"6287:5:78","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":50738,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6293:7:78","memberName":"chainid","nodeType":"MemberAccess","src":"6287:13:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":50739,"name":"MAINNET_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50531,"src":"6304:16:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6287:33:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":50741,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"6324:5:78","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":50742,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6330:7:78","memberName":"chainid","nodeType":"MemberAccess","src":"6324:13:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":50743,"name":"MAINNET_TEST_CHAIN_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50534,"src":"6341:21:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6324:38:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"6287:75:78","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50750,"nodeType":"IfStatement","src":"6283:158:78","trueBody":{"id":50749,"nodeType":"Block","src":"6364:77:78","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":50746,"name":"NotL2Chain","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50571,"src":"6385:10:78","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":50747,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6385:12:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":50748,"nodeType":"RevertStatement","src":"6378:19:78"}]}},{"assignments":[50752],"declarations":[{"constant":false,"id":50752,"mutability":"mutable","name":"oldYieldFactor","nameLocation":"6623:14:78","nodeType":"VariableDeclaration","scope":50764,"src":"6615:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50751,"name":"uint256","nodeType":"ElementaryTypeName","src":"6615:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":50754,"initialValue":{"id":50753,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50543,"src":"6640:12:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6615:37:78"},{"expression":{"id":50757,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50755,"name":"_yieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50543,"src":"6662:12:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50756,"name":"newYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50731,"src":"6677:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6662:29:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50758,"nodeType":"ExpressionStatement","src":"6662:29:78"},{"eventCall":{"arguments":[{"id":50760,"name":"oldYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50752,"src":"6725:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":50761,"name":"newYieldFactor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50731,"src":"6741:14:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":50759,"name":"YieldFactorUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":58469,"src":"6706:18:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256)"}},"id":50762,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6706:50:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":50763,"nodeType":"EmitStatement","src":"6701:55:78"}]},"baseFunctions":[58475],"documentation":{"id":50729,"nodeType":"StructuredDocumentation","src":"5851:319:78","text":" @notice Updates the yield factor on L2 chains.\n @dev Callable only by addresses with YIELD_FACTOR_UPDATER_ROLE.\n      The new yield factor cannot be less than the current one.\n      This function will revert if called on L1.\n @param newYieldFactor The new yield factor to set."},"functionSelector":"2bac8118","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":50734,"name":"YIELD_FACTOR_UPDATER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50552,"src":"6246:25:78","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":50735,"kind":"modifierInvocation","modifierName":{"id":50733,"name":"onlyRole","nameLocations":["6237:8:78"],"nodeType":"IdentifierPath","referencedDeclaration":38125,"src":"6237:8:78"},"nodeType":"ModifierInvocation","src":"6237:35:78"}],"name":"updateL2YieldFactor","nameLocation":"6184:19:78","parameters":{"id":50732,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50731,"mutability":"mutable","name":"newYieldFactor","nameLocation":"6212:14:78","nodeType":"VariableDeclaration","scope":50765,"src":"6204:22:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50730,"name":"uint256","nodeType":"ElementaryTypeName","src":"6204:7:78","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6203:24:78"},"returnParameters":{"id":50736,"nodeType":"ParameterList","parameters":[],"src":"6273:0:78"},"scope":50790,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":50789,"nodeType":"FunctionDefinition","src":"6961:259:78","nodes":[],"body":{"id":50788,"nodeType":"Block","src":"7056:164:78","nodes":[],"statements":[{"eventCall":{"arguments":[{"arguments":[{"id":50777,"name":"rewardsYieldBooster","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50547,"src":"7106:19:78","typeDescriptions":{"typeIdentifier":"t_contract$_IRewardsYieldBooster_$58661","typeString":"contract IRewardsYieldBooster"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRewardsYieldBooster_$58661","typeString":"contract IRewardsYieldBooster"}],"id":50776,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7098:7:78","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":50775,"name":"address","nodeType":"ElementaryTypeName","src":"7098:7:78","typeDescriptions":{}}},"id":50778,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7098:28:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50779,"name":"_boosterAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50768,"src":"7128:15:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":50774,"name":"RewardsYieldBoosterUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50558,"src":"7071:26:78","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$returns$__$","typeString":"function (address,address)"}},"id":50780,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7071:73:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":50781,"nodeType":"EmitStatement","src":"7066:78:78"},{"expression":{"id":50786,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50782,"name":"rewardsYieldBooster","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50547,"src":"7154:19:78","typeDescriptions":{"typeIdentifier":"t_contract$_IRewardsYieldBooster_$58661","typeString":"contract IRewardsYieldBooster"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":50784,"name":"_boosterAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50768,"src":"7197:15:78","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":50783,"name":"IRewardsYieldBooster","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":58661,"src":"7176:20:78","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IRewardsYieldBooster_$58661_$","typeString":"type(contract IRewardsYieldBooster)"}},"id":50785,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7176:37:78","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IRewardsYieldBooster_$58661","typeString":"contract IRewardsYieldBooster"}},"src":"7154:59:78","typeDescriptions":{"typeIdentifier":"t_contract$_IRewardsYieldBooster_$58661","typeString":"contract IRewardsYieldBooster"}},"id":50787,"nodeType":"ExpressionStatement","src":"7154:59:78"}]},"documentation":{"id":50766,"nodeType":"StructuredDocumentation","src":"6769:187:78","text":" @notice Sets the address of the RewardsYieldBooster contract.\n @param _boosterAddress The address of the new booster contract.\n @dev Callable only by admin."},"functionSelector":"5dc74720","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":50771,"name":"DEFAULT_ADMIN_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38114,"src":"7036:18:78","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":50772,"kind":"modifierInvocation","modifierName":{"id":50770,"name":"onlyRole","nameLocations":["7027:8:78"],"nodeType":"IdentifierPath","referencedDeclaration":38125,"src":"7027:8:78"},"nodeType":"ModifierInvocation","src":"7027:28:78"}],"name":"setRewardsYieldBooster","nameLocation":"6970:22:78","parameters":{"id":50769,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50768,"mutability":"mutable","name":"_boosterAddress","nameLocation":"7001:15:78","nodeType":"VariableDeclaration","scope":50789,"src":"6993:23:78","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50767,"name":"address","nodeType":"ElementaryTypeName","src":"6993:7:78","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6992:25:78"},"returnParameters":{"id":50773,"nodeType":"ParameterList","parameters":[],"src":"7056:0:78"},"scope":50790,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":50525,"name":"IPoolSharesConversionRate","nameLocations":["1462:25:78"],"nodeType":"IdentifierPath","referencedDeclaration":58488,"src":"1462:25:78"},"id":50526,"nodeType":"InheritanceSpecifier","src":"1462:25:78"},{"baseName":{"id":50527,"name":"AccessControl","nameLocations":["1489:13:78"],"nodeType":"IdentifierPath","referencedDeclaration":38380,"src":"1489:13:78"},"id":50528,"nodeType":"InheritanceSpecifier","src":"1489:13:78"}],"canonicalName":"PoolSharesConversionRate","contractDependencies":[],"contractKind":"contract","documentation":{"id":50524,"nodeType":"StructuredDocumentation","src":"1043:381:78","text":" @title PoolSharesConversionRate\n @dev On L1: Tracks the yield factor of stETH by comparing the current ETH value of a fixed number of shares\n      to its value at deployment time. This method is secure against arbitrary token transfers to the contract.\n @dev On L2: Stores a yield factor that can be updated by an authorized role, typically reflecting L1's factor."},"fullyImplemented":true,"linearizedBaseContracts":[50790,38380,43768,43780,38463,41136,58488],"name":"PoolSharesConversionRate","nameLocation":"1434:24:78","scope":50791,"usedErrors":[38390,38393,50565,50567,50569,50571,50573],"usedEvents":[38402,38411,38420,50558,58469]}],"license":"MIT"},"id":78}